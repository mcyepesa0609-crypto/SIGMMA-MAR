(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const y of u.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&l(y)}).observe(document,{childList:!0,subtree:!0});function r(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(d){if(d.ep)return;d.ep=!0;const u=r(d);fetch(d.href,u)}})();var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v2(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var lp={exports:{}},_c={};var N1;function j2(){if(N1)return _c;N1=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,d,u){var y=null;if(u!==void 0&&(y=""+u),d.key!==void 0&&(y=""+d.key),"key"in d){u={};for(var m in d)m!=="key"&&(u[m]=d[m])}else u=d;return d=u.ref,{$$typeof:o,type:l,key:y,ref:d!==void 0?d:null,props:u}}return _c.Fragment=n,_c.jsx=r,_c.jsxs=r,_c}var C1;function S2(){return C1||(C1=1,lp.exports=j2()),lp.exports}var t=S2(),dp={exports:{}},Di={};var B1;function A2(){if(B1)return Di;B1=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),y=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=M&&P[M]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,J={};function F(P,_,R){this.props=P,this.context=_,this.refs=J,this.updater=R||O}F.prototype.isReactComponent={},F.prototype.setState=function(P,_){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,_,"setState")},F.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ge(){}ge.prototype=F.prototype;function re(P,_,R){this.props=P,this.context=_,this.refs=J,this.updater=R||O}var ne=re.prototype=new ge;ne.constructor=re,V(ne,F.prototype),ne.isPureReactComponent=!0;var ue=Array.isArray;function Me(){}var he={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function q(P,_,R){var U=R.ref;return{$$typeof:o,type:P,key:_,ref:U!==void 0?U:null,props:R}}function $(P,_){return q(P.type,_,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===o}function z(P){var _={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(R){return _[R]})}var Q=/\/+/g;function ae(P,_){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):_.toString(36)}function me(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Me,Me):(P.status="pending",P.then(function(_){P.status==="pending"&&(P.status="fulfilled",P.value=_)},function(_){P.status==="pending"&&(P.status="rejected",P.reason=_)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,_,R,U,Z){var le=typeof P;(le==="undefined"||le==="boolean")&&(P=null);var ye=!1;if(P===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(P.$$typeof){case o:case n:ye=!0;break;case j:return ye=P._init,K(ye(P._payload),_,R,U,Z)}}if(ye)return Z=Z(P),ye=U===""?"."+ae(P,0):U,ue(Z)?(R="",ye!=null&&(R=ye.replace(Q,"$&/")+"/"),K(Z,_,R,"",function(Xe){return Xe})):Z!=null&&(B(Z)&&(Z=$(Z,R+(Z.key==null||P&&P.key===Z.key?"":(""+Z.key).replace(Q,"$&/")+"/")+ye)),_.push(Z)),1;ye=0;var qe=U===""?".":U+":";if(ue(P))for(var Ie=0;Ie<P.length;Ie++)U=P[Ie],le=qe+ae(U,Ie),ye+=K(U,_,R,le,Z);else if(Ie=A(P),typeof Ie=="function")for(P=Ie.call(P),Ie=0;!(U=P.next()).done;)U=U.value,le=qe+ae(U,Ie++),ye+=K(U,_,R,le,Z);else if(le==="object"){if(typeof P.then=="function")return K(me(P),_,R,U,Z);throw _=String(P),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return ye}function fe(P,_,R){if(P==null)return P;var U=[],Z=0;return K(P,U,"","",function(le){return _.call(R,le,Z++)}),U}function ce(P){if(P._status===-1){var _=P._result;_=_(),_.then(function(R){(P._status===0||P._status===-1)&&(P._status=1,P._result=R)},function(R){(P._status===0||P._status===-1)&&(P._status=2,P._result=R)}),P._status===-1&&(P._status=0,P._result=_)}if(P._status===1)return P._result.default;throw P._result}var Le=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ze={map:fe,forEach:function(P,_,R){fe(P,function(){_.apply(this,arguments)},R)},count:function(P){var _=0;return fe(P,function(){_++}),_},toArray:function(P){return fe(P,function(_){return _})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Di.Activity=C,Di.Children=ze,Di.Component=F,Di.Fragment=r,Di.Profiler=d,Di.PureComponent=re,Di.StrictMode=l,Di.Suspense=x,Di.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Di.__COMPILER_RUNTIME={__proto__:null,c:function(P){return he.H.useMemoCache(P)}},Di.cache=function(P){return function(){return P.apply(null,arguments)}},Di.cacheSignal=function(){return null},Di.cloneElement=function(P,_,R){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var U=V({},P.props),Z=P.key;if(_!=null)for(le in _.key!==void 0&&(Z=""+_.key),_)!se.call(_,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&_.ref===void 0||(U[le]=_[le]);var le=arguments.length-2;if(le===1)U.children=R;else if(1<le){for(var ye=Array(le),qe=0;qe<le;qe++)ye[qe]=arguments[qe+2];U.children=ye}return q(P.type,Z,U)},Di.createContext=function(P){return P={$$typeof:y,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Di.createElement=function(P,_,R){var U,Z={},le=null;if(_!=null)for(U in _.key!==void 0&&(le=""+_.key),_)se.call(_,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Z[U]=_[U]);var ye=arguments.length-2;if(ye===1)Z.children=R;else if(1<ye){for(var qe=Array(ye),Ie=0;Ie<ye;Ie++)qe[Ie]=arguments[Ie+2];Z.children=qe}if(P&&P.defaultProps)for(U in ye=P.defaultProps,ye)Z[U]===void 0&&(Z[U]=ye[U]);return q(P,le,Z)},Di.createRef=function(){return{current:null}},Di.forwardRef=function(P){return{$$typeof:m,render:P}},Di.isValidElement=B,Di.lazy=function(P){return{$$typeof:j,_payload:{_status:-1,_result:P},_init:ce}},Di.memo=function(P,_){return{$$typeof:b,type:P,compare:_===void 0?null:_}},Di.startTransition=function(P){var _=he.T,R={};he.T=R;try{var U=P(),Z=he.S;Z!==null&&Z(R,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Me,Le)}catch(le){Le(le)}finally{_!==null&&R.types!==null&&(_.types=R.types),he.T=_}},Di.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Di.use=function(P){return he.H.use(P)},Di.useActionState=function(P,_,R){return he.H.useActionState(P,_,R)},Di.useCallback=function(P,_){return he.H.useCallback(P,_)},Di.useContext=function(P){return he.H.useContext(P)},Di.useDebugValue=function(){},Di.useDeferredValue=function(P,_){return he.H.useDeferredValue(P,_)},Di.useEffect=function(P,_){return he.H.useEffect(P,_)},Di.useEffectEvent=function(P){return he.H.useEffectEvent(P)},Di.useId=function(){return he.H.useId()},Di.useImperativeHandle=function(P,_,R){return he.H.useImperativeHandle(P,_,R)},Di.useInsertionEffect=function(P,_){return he.H.useInsertionEffect(P,_)},Di.useLayoutEffect=function(P,_){return he.H.useLayoutEffect(P,_)},Di.useMemo=function(P,_){return he.H.useMemo(P,_)},Di.useOptimistic=function(P,_){return he.H.useOptimistic(P,_)},Di.useReducer=function(P,_,R){return he.H.useReducer(P,_,R)},Di.useRef=function(P){return he.H.useRef(P)},Di.useState=function(P){return he.H.useState(P)},Di.useSyncExternalStore=function(P,_,R){return he.H.useSyncExternalStore(P,_,R)},Di.useTransition=function(){return he.H.useTransition()},Di.version="19.2.1",Di}var k1;function a0(){return k1||(k1=1,dp.exports=A2()),dp.exports}var dt=a0();const je=v2(dt);var cp={exports:{}},Nc={},up={exports:{}},fp={};var M1;function w2(){return M1||(M1=1,(function(o){function n(K,fe){var ce=K.length;K.push(fe);e:for(;0<ce;){var Le=ce-1>>>1,ze=K[Le];if(0<d(ze,fe))K[Le]=fe,K[ce]=ze,ce=Le;else break e}}function r(K){return K.length===0?null:K[0]}function l(K){if(K.length===0)return null;var fe=K[0],ce=K.pop();if(ce!==fe){K[0]=ce;e:for(var Le=0,ze=K.length,P=ze>>>1;Le<P;){var _=2*(Le+1)-1,R=K[_],U=_+1,Z=K[U];if(0>d(R,ce))U<ze&&0>d(Z,R)?(K[Le]=Z,K[U]=ce,Le=U):(K[Le]=R,K[_]=ce,Le=_);else if(U<ze&&0>d(Z,ce))K[Le]=Z,K[U]=ce,Le=U;else break e}}return fe}function d(K,fe){var ce=K.sortIndex-fe.sortIndex;return ce!==0?ce:K.id-fe.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var y=Date,m=y.now();o.unstable_now=function(){return y.now()-m}}var x=[],b=[],j=1,C=null,M=3,A=!1,O=!1,V=!1,J=!1,F=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ne(K){for(var fe=r(b);fe!==null;){if(fe.callback===null)l(b);else if(fe.startTime<=K)l(b),fe.sortIndex=fe.expirationTime,n(x,fe);else break;fe=r(b)}}function ue(K){if(V=!1,ne(K),!O)if(r(x)!==null)O=!0,Me||(Me=!0,z());else{var fe=r(b);fe!==null&&me(ue,fe.startTime-K)}}var Me=!1,he=-1,se=5,q=-1;function $(){return J?!0:!(o.unstable_now()-q<se)}function B(){if(J=!1,Me){var K=o.unstable_now();q=K;var fe=!0;try{e:{O=!1,V&&(V=!1,ge(he),he=-1),A=!0;var ce=M;try{t:{for(ne(K),C=r(x);C!==null&&!(C.expirationTime>K&&$());){var Le=C.callback;if(typeof Le=="function"){C.callback=null,M=C.priorityLevel;var ze=Le(C.expirationTime<=K);if(K=o.unstable_now(),typeof ze=="function"){C.callback=ze,ne(K),fe=!0;break t}C===r(x)&&l(x),ne(K)}else l(x);C=r(x)}if(C!==null)fe=!0;else{var P=r(b);P!==null&&me(ue,P.startTime-K),fe=!1}}break e}finally{C=null,M=ce,A=!1}fe=void 0}}finally{fe?z():Me=!1}}}var z;if(typeof re=="function")z=function(){re(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=B,z=function(){ae.postMessage(null)}}else z=function(){F(B,0)};function me(K,fe){he=F(function(){K(o.unstable_now())},fe)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(K){K.callback=null},o.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<K?Math.floor(1e3/K):5},o.unstable_getCurrentPriorityLevel=function(){return M},o.unstable_next=function(K){switch(M){case 1:case 2:case 3:var fe=3;break;default:fe=M}var ce=M;M=fe;try{return K()}finally{M=ce}},o.unstable_requestPaint=function(){J=!0},o.unstable_runWithPriority=function(K,fe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ce=M;M=K;try{return fe()}finally{M=ce}},o.unstable_scheduleCallback=function(K,fe,ce){var Le=o.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Le+ce:Le):ce=Le,K){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ce+ze,K={id:j++,callback:fe,priorityLevel:K,startTime:ce,expirationTime:ze,sortIndex:-1},ce>Le?(K.sortIndex=ce,n(b,K),r(x)===null&&K===r(b)&&(V?(ge(he),he=-1):V=!0,me(ue,ce-Le))):(K.sortIndex=ze,n(x,K),O||A||(O=!0,Me||(Me=!0,z()))),K},o.unstable_shouldYield=$,o.unstable_wrapCallback=function(K){var fe=M;return function(){var ce=M;M=fe;try{return K.apply(this,arguments)}finally{M=ce}}}})(fp)),fp}var G1;function _2(){return G1||(G1=1,up.exports=w2()),up.exports}var pp={exports:{}},mo={};var L1;function N2(){if(L1)return mo;L1=1;var o=a0();function n(x){var b="https://react.dev/errors/"+x;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)b+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+x+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function u(x,b,j){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:C==null?null:""+C,children:x,containerInfo:b,implementation:j}}var y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(x,b){if(x==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return mo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,mo.createPortal=function(x,b){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(n(299));return u(x,b,null,j)},mo.flushSync=function(x){var b=y.T,j=l.p;try{if(y.T=null,l.p=2,x)return x()}finally{y.T=b,l.p=j,l.d.f()}},mo.preconnect=function(x,b){typeof x=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,l.d.C(x,b))},mo.prefetchDNS=function(x){typeof x=="string"&&l.d.D(x)},mo.preinit=function(x,b){if(typeof x=="string"&&b&&typeof b.as=="string"){var j=b.as,C=m(j,b.crossOrigin),M=typeof b.integrity=="string"?b.integrity:void 0,A=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;j==="style"?l.d.S(x,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:M,fetchPriority:A}):j==="script"&&l.d.X(x,{crossOrigin:C,integrity:M,fetchPriority:A,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},mo.preinitModule=function(x,b){if(typeof x=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var j=m(b.as,b.crossOrigin);l.d.M(x,{crossOrigin:j,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&l.d.M(x)},mo.preload=function(x,b){if(typeof x=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var j=b.as,C=m(j,b.crossOrigin);l.d.L(x,j,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},mo.preloadModule=function(x,b){if(typeof x=="string")if(b){var j=m(b.as,b.crossOrigin);l.d.m(x,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:j,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else l.d.m(x)},mo.requestFormReset=function(x){l.d.r(x)},mo.unstable_batchedUpdates=function(x,b){return x(b)},mo.useFormState=function(x,b,j){return y.H.useFormState(x,b,j)},mo.useFormStatus=function(){return y.H.useHostTransitionStatus()},mo.version="19.2.1",mo}var T1;function C2(){if(T1)return pp.exports;T1=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),pp.exports=N2(),pp.exports}var z1;function B2(){if(z1)return Nc;z1=1;var o=_2(),n=a0(),r=C2();function l(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function y(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function x(e){if(u(e)!==e)throw Error(l(188))}function b(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(l(188));return i!==e?null:e}for(var a=e,s=i;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){a=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return x(f),e;if(h===s)return x(f),i;h=h.sibling}throw Error(l(188))}if(a.return!==s.return)a=f,s=h;else{for(var N=!1,D=f.child;D;){if(D===a){N=!0,a=f,s=h;break}if(D===s){N=!0,s=f,a=h;break}D=D.sibling}if(!N){for(D=h.child;D;){if(D===a){N=!0,a=h,s=f;break}if(D===s){N=!0,s=h,a=f;break}D=D.sibling}if(!N)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:i}function j(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=j(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,M=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case F:return"Profiler";case J:return"StrictMode";case ue:return"Suspense";case Me:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case re:return e.displayName||"Context";case ge:return(e._context.displayName||"Context")+".Consumer";case ne:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return i=e.displayName||null,i!==null?i:ae(e.type)||"Memo";case se:i=e._payload,e=e._init;try{return ae(e(i))}catch{}}return null}var me=Array.isArray,K=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Le=[],ze=-1;function P(e){return{current:e}}function _(e){0>ze||(e.current=Le[ze],Le[ze]=null,ze--)}function R(e,i){ze++,Le[ze]=e.current,e.current=i}var U=P(null),Z=P(null),le=P(null),ye=P(null);function qe(e,i){switch(R(le,i),R(Z,e),R(U,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Zh(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Zh(i),e=Kh(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(U),R(U,e)}function Ie(){_(U),_(Z),_(le)}function Xe(e){e.memoizedState!==null&&R(ye,e);var i=U.current,a=Kh(i,e.type);i!==a&&(R(Z,e),R(U,a))}function He(e){Z.current===e&&(_(U),_(Z)),ye.current===e&&(_(ye),jc._currentValue=ce)}var ut,jt;function Ft(e){if(ut===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ut=i&&i[1]||"",jt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+e+jt}var X=!1;function pt(e,i){if(!e||X)return"";X=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(Ye){var Pe=Ye}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(Ye){Pe=Ye}e.call(ct.prototype)}}else{try{throw Error()}catch(Ye){Pe=Ye}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(Ye){if(Ye&&Pe&&typeof Ye.stack=="string")return[Ye.stack,Pe.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),N=h[0],D=h[1];if(N&&D){var xe=N.split(`
`),Ue=D.split(`
`);for(f=s=0;s<xe.length&&!xe[s].includes("DetermineComponentFrameRoot");)s++;for(;f<Ue.length&&!Ue[f].includes("DetermineComponentFrameRoot");)f++;if(s===xe.length||f===Ue.length)for(s=xe.length-1,f=Ue.length-1;1<=s&&0<=f&&xe[s]!==Ue[f];)f--;for(;1<=s&&0<=f;s--,f--)if(xe[s]!==Ue[f]){if(s!==1||f!==1)do if(s--,f--,0>f||xe[s]!==Ue[f]){var at=`
`+xe[s].replace(" at new "," at ");return e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",e.displayName)),at}while(1<=s&&0<=f);break}}}finally{X=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ft(a):""}function Tt(e,i){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==i&&i!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return Ft("Activity");default:return""}}function Yt(e){try{var i="",a=null;do i+=Tt(e,a),a=e,e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var lt=Object.prototype.hasOwnProperty,Kt=o.unstable_scheduleCallback,zt=o.unstable_cancelCallback,Mt=o.unstable_shouldYield,Ct=o.unstable_requestPaint,hi=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,ai=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,ui=o.unstable_NormalPriority,Rt=o.unstable_LowPriority,si=o.unstable_IdlePriority,It=o.log,ta=o.unstable_setDisableYieldValue,$t=null,T=null;function Ne(e){if(typeof It=="function"&&ta(e),T&&typeof T.setStrictMode=="function")try{T.setStrictMode($t,e)}catch{}}var nt=Math.clz32?Math.clz32:bt,Ke=Math.log,_t=Math.LN2;function bt(e){return e>>>=0,e===0?32:31-(Ke(e)/_t|0)|0}var At=256,bi=262144,Bt=4194304;function vt(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,i,a){var s=e.pendingLanes;if(s===0)return 0;var f=0,h=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var D=s&134217727;return D!==0?(s=D&~h,s!==0?f=vt(s):(N&=D,N!==0?f=vt(N):a||(a=D&~e,a!==0&&(f=vt(a))))):(D=s&~h,D!==0?f=vt(D):N!==0?f=vt(N):a||(a=s&~e,a!==0&&(f=vt(a)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:f}function on(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ia(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var e=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),e}function Li(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ut(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gn(e,i,a,s,f,h){var N=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var D=e.entanglements,xe=e.expirationTimes,Ue=e.hiddenUpdates;for(a=N&~a;0<a;){var at=31-nt(a),ct=1<<at;D[at]=0,xe[at]=-1;var Pe=Ue[at];if(Pe!==null)for(Ue[at]=null,at=0;at<Pe.length;at++){var Ye=Pe[at];Ye!==null&&(Ye.lane&=-536870913)}a&=~ct}s!==0&&mt(e,s,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(N&~i))}function mt(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var s=31-nt(i);e.entangledLanes|=i,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Ka(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var s=31-nt(a),f=1<<s;f&i|e[s]&i&&(e[s]|=i),a&=~f}}function Ja(e,i){var a=i&-i;return a=(a&42)!==0?1:Yi(a),(a&(e.suspendedLanes|i))!==0?0:a}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qa(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:y1(e.type))}function mn(e,i){var a=fe.p;try{return fe.p=e,i()}finally{fe.p=a}}var xa=Math.random().toString(36).slice(2),Xi="__reactFiber$"+xa,sa="__reactProps$"+xa,wa="__reactContainer$"+xa,St="__reactEvents$"+xa,gt="__reactListeners$"+xa,Yn="__reactHandles$"+xa,Ha="__reactResources$"+xa,sn="__reactMarker$"+xa;function Wa(e){delete e[Xi],delete e[sa],delete e[St],delete e[gt],delete e[Yn]}function Xn(e){var i=e[Xi];if(i)return i;for(var a=e.parentNode;a;){if(i=a[wa]||a[Xi]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=a1(e);e!==null;){if(a=e[Xi])return a;e=a1(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[Xi]||e[wa]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ya(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(l(33))}function _a(e){var i=e[Ha];return i||(i=e[Ha]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ka(e){e[sn]=!0}var Ze=new Set,fi={};function vi(e,i){bn(e,i),bn(e+"Capture",i)}function bn(e,i){for(fi[e]=i,e=0;e<i.length;e++)Ze.add(i[e])}var Ya=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),de={},Ae={};function be(e){return lt.call(Ae,e)?!0:lt.call(de,e)?!1:Ya.test(e)?Ae[e]=!0:(de[e]=!0,!1)}function Oe(e,i,a){if(be(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ot(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $e(e,i,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+s)}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gi(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ni(e,i,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(N){a=""+N,h.call(this,N)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jt(e){if(!e._valueTracker){var i=gi(e)?"checked":"value";e._valueTracker=ni(e,i,""+e[i])}}function ji(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return e&&(s=gi(e)?e.checked?"true":"false":e.value),e=s,e!==a?(i.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var We=/[\n"\\]/g;function Vt(e){return e.replace(We,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Pi(e,i,a,s,f,h,N,D){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),i!=null?N==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+xt(i)):e.value!==""+xt(i)&&(e.value=""+xt(i)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),i!=null?xn(e,N,xt(i)):a!=null?xn(e,N,xt(a)):s!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+xt(D):e.removeAttribute("name")}function Ji(e,i,a,s,f,h,N,D){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){Jt(e);return}a=a!=null?""+xt(a):"",i=i!=null?""+xt(i):a,D||i===e.value||(e.value=i),e.defaultValue=i}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=D?e.checked:!!s,e.defaultChecked=!!s,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),Jt(e)}function xn(e,i,a){i==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fa(e,i,a,s){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&s&&(e[a].defaultSelected=!0)}else{for(a=""+xt(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function ln(e,i,a){if(i!=null&&(i=""+xt(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+xt(a):""}function Si(e,i,a,s){if(i==null){if(s!=null){if(a!=null)throw Error(l(92));if(me(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),i=a}a=xt(i),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Jt(e)}function Mi(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ot(e,i,a){var s=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":s?e.setProperty(i,a):typeof a!="number"||a===0||Gi.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ir(e,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in i)s=i[f],i.hasOwnProperty(f)&&a[f]!==s&&Ot(e,f,s)}else for(var h in i)i.hasOwnProperty(h)&&Ot(e,h,i[h])}function Ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wn(e){return Mo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function io(){}var Fe=null;function di(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bn=null,Dt=null;function _n(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[sa]||null;e:switch(e=i.stateNode,i.type){case"input":if(Pi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==e&&s.form===e.form){var f=s[sa]||null;if(!f)throw Error(l(90));Pi(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)s=a[i],s.form===e.form&&ji(s)}break e;case"textarea":ln(e,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&fa(e,!!a.multiple,i,!1)}}}var Ma=!1;function Ti(e,i,a){if(Ma)return e(i,a);Ma=!0;try{var s=e(i);return s}finally{if(Ma=!1,(Bn!==null||Dt!==null)&&(eu(),Bn&&(i=Bn,e=Dt,Dt=Bn=null,_n(i),e)))for(i=0;i<e.length;i++)_n(e[i])}}function na(e,i){var a=e.stateNode;if(a===null)return null;var s=a[sa]||null;if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Qi)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{ra=!1}var ma=null,yn=null,Xa=null;function $a(){if(Xa)return Xa;var e,i=yn,a=i.length,s,f="value"in ma?ma.value:ma.textContent,h=f.length;for(e=0;e<a&&i[e]===f[e];e++);var N=a-e;for(s=1;s<=N&&i[a-s]===f[h-s];s++);return Xa=f.slice(e,1<s?1-s:void 0)}function kn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Mn(){return!0}function So(){return!1}function Ci(e){function i(a,s,f,h,N){this._reactName=a,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=N,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(a=e[D],this[D]=a?a(h):h[D]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Mn:So,this.isPropagationStopped=So,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),i}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=Ci(Zn),Cr=C({},Zn,{view:0,detail:0}),vn=Ci(Cr),ar,Br,Go,Wo=C({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(ar=e.screenX-Go.screenX,Br=e.screenY-Go.screenY):Br=ar=0,Go=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:Br}}),nr=Ci(Wo),Rr=C({},Wo,{dataTransfer:0}),Or=Ci(Rr),Xr=C({},Cr,{relatedTarget:0}),Ao=Ci(Xr),Ls=C({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),v=Ci(Ls),k=C({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ie=Ci(k),ve=C({},Zn,{data:0}),Ge=Ci(ve),Je={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ii(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Xt[e])?!!i[e]:!1}function Ai(){return ii}var Ri=C({},Cr,{key:function(e){if(e.key){var i=Je[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ht[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ai,charCode:function(e){return e.type==="keypress"?kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),la=Ci(Ri),va=C({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gn=Ci(va),Ga=C({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ai}),Ln=Ci(Ga),In=C({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kr=Ci(In),Yo=C({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=Ci(Yo),Xo=C({},Zn,{newState:0,oldState:0}),lo=Ci(Xo),Ts=[9,13,27,32],co=Qi&&"CompositionEvent"in window,qr=null;Qi&&"documentMode"in document&&(qr=document.documentMode);var gs=Qi&&"TextEvent"in window&&!qr,Zo=Qi&&(!co||qr&&8<qr&&11>=qr),rr=" ",as=!1;function ns(e,i){switch(e){case"keyup":return Ts.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var To=!1;function xr(e,i){switch(e){case"compositionend":return Lo(i);case"keypress":return i.which!==32?null:(as=!0,rr);case"textInput":return e=i.data,e===rr&&as?null:e;default:return null}}function Ko(e,i){if(To)return e==="compositionend"||!co&&ns(e,i)?(e=$a(),Xa=yn=ma=null,To=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zo&&i.locale!=="ko"?null:i.data;default:return null}}var zs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Js(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!zs[e.type]:i==="textarea"}function Kn(e,i,a,s){Bn?Dt?Dt.push(s):Dt=[s]:Bn=s,i=su(i,"onChange"),0<i.length&&(a=new Er("onChange","change",null,a,s),e.push({event:a,listeners:i}))}var uo=null,zo=null;function ms(e){Uh(e,0)}function Zr(e){var i=ya(e);if(ji(i))return e}function _o(e,i){if(e==="change")return i}var Mr=!1;if(Qi){var or;if(Qi){var No="oninput"in document;if(!No){var fo=document.createElement("div");fo.setAttribute("oninput","return;"),No=typeof fo.oninput=="function"}or=No}else or=!1;Mr=or&&(!document.documentMode||9<document.documentMode)}function po(){uo&&(uo.detachEvent("onpropertychange",bs),zo=uo=null)}function bs(e){if(e.propertyName==="value"&&Zr(zo)){var i=[];Kn(i,zo,e,di(e)),Ti(ms,i)}}function rs(e,i,a){e==="focusin"?(po(),uo=i,zo=a,uo.attachEvent("onpropertychange",bs)):e==="focusout"&&po()}function dn(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zr(zo)}function xs(e,i){if(e==="click")return Zr(i)}function ho(e,i){if(e==="input"||e==="change")return Zr(i)}function ao(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Fn=typeof Object.is=="function"?Object.is:ao;function Co(e,i){if(Fn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var f=a[s];if(!lt.call(i,f)||!Fn(e[f],i[f]))return!1}return!0}function Eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ir(e,i){var a=Eo(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=i&&s>=i)return{node:a,offset:i-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eo(a)}}function no(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?no(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function sr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ni(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ni(e.document)}return i}function aa(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var os=Qi&&"documentMode"in document&&11>=document.documentMode,Nn=null,Ro=null,en=null,Fr=!1;function qi(e,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fr||Nn==null||Nn!==Ni(s)||(s=Nn,"selectionStart"in s&&aa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),en&&Co(en,s)||(en=s,s=su(Ro,"onSelect"),0<s.length&&(i=new Er("onSelect","select",null,i,a),e.push({event:i,listeners:s}),i.target=Nn)))}function da(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var La={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},cn={},Oo={};Qi&&(Oo=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Bo(e){if(cn[e])return cn[e];if(!La[e])return e;var i=La[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Oo)return cn[e]=i[a];return e}var ys=Bo("animationend"),Es=Bo("animationiteration"),Wl=Bo("animationstart"),dd=Bo("transitionrun"),xl=Bo("transitionstart"),Yl=Bo("transitioncancel"),Qs=Bo("transitionend"),yl=new Map,vs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vs.push("scrollEnd");function Kr(e,i){yl.set(e,i),vi(i,[e])}var g=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},L=[],W=0,pe=0;function oe(){for(var e=W,i=pe=W=0;i<e;){var a=L[i];L[i++]=null;var s=L[i];L[i++]=null;var f=L[i];L[i++]=null;var h=L[i];if(L[i++]=null,s!==null&&f!==null){var N=s.pending;N===null?f.next=f:(f.next=N.next,N.next=f),s.pending=f}h!==0&&Nt(a,f,h)}}function Ce(e,i,a,s){L[W++]=e,L[W++]=i,L[W++]=a,L[W++]=s,pe|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ke(e,i,a,s){return Ce(e,i,a,s),it(e)}function Be(e,i){return Ce(e,null,null,i),it(e)}function Nt(e,i,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var f=!1,h=e.return;h!==null;)h.childLanes|=a,s=h.alternate,s!==null&&(s.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&i!==null&&(f=31-nt(a),e=h.hiddenUpdates,s=e[f],s===null?e[f]=[i]:s.push(i),i.lane=a|536870912),h):null}function it(e){if(50<hc)throw hc=0,Lf=null,Error(l(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var et={};function wt(e,i,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,i,a,s){return new wt(e,i,a,s)}function qt(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=kt(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fi(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Gt(e,i,a,s,f,h){var N=0;if(s=e,typeof e=="function")qt(e)&&(N=1);else if(typeof e=="string")N=l2(e,a,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=kt(31,a,i,f),e.elementType=q,e.lanes=h,e;case V:return Et(a.children,f,h,i);case J:N=8,f|=24;break;case F:return e=kt(12,a,i,f|2),e.elementType=F,e.lanes=h,e;case ue:return e=kt(13,a,i,f),e.elementType=ue,e.lanes=h,e;case Me:return e=kt(19,a,i,f),e.elementType=Me,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case re:N=10;break e;case ge:N=9;break e;case ne:N=11;break e;case he:N=14;break e;case se:N=16,s=null;break e}N=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return i=kt(N,a,i,f),i.elementType=e,i.type=s,i.lanes=h,i}function Et(e,i,a,s){return e=kt(7,e,s,i),e.lanes=a,e}function Wt(e,i,a){return e=kt(6,e,null,i),e.lanes=a,e}function ri(e){var i=kt(18,null,null,0);return i.stateNode=e,i}function Zi(e,i,a){return i=kt(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ki=new WeakMap;function oi(e,i){if(typeof e=="object"&&e!==null){var a=Ki.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Yt(i)},Ki.set(e,i),i)}return{value:e,source:i,stack:Yt(i)}}var yr=[],Na=0,Ca=null,Gr=0,Vn=[],Jn=0,Tn=null,Qn=1,$n="";function vr(e,i){yr[Na++]=Gr,yr[Na++]=Ca,Ca=e,Gr=i}function $s(e,i,a){Vn[Jn++]=Qn,Vn[Jn++]=$n,Vn[Jn++]=Tn,Tn=e;var s=Qn;e=$n;var f=32-nt(s)-1;s&=~(1<<f),a+=1;var h=32-nt(i)+f;if(30<h){var N=f-f%5;h=(s&(1<<N)-1).toString(32),s>>=N,f-=N,Qn=1<<32-nt(i)+f|a<<f|s,$n=h+e}else Qn=1<<h|a<<f|s,$n=e}function pa(e){e.return!==null&&(vr(e,1),$s(e,1,0))}function Ta(e){for(;e===Ca;)Ca=yr[--Na],yr[Na]=null,Gr=yr[--Na],yr[Na]=null;for(;e===Tn;)Tn=Vn[--Jn],Vn[Jn]=null,$n=Vn[--Jn],Vn[Jn]=null,Qn=Vn[--Jn],Vn[Jn]=null}function Vr(e,i){Vn[Jn++]=Qn,Vn[Jn++]=$n,Vn[Jn++]=Tn,Qn=i.id,$n=i.overflow,Tn=e}var Dn=null,Va=null,Hi=!1,lr=null,Za=!1,wi=Error(l(519));function Dr(e){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(oi(i,e)),wi}function Xl(e){var i=e.stateNode,a=e.type,s=e.memoizedProps;switch(i[Xi]=e,i[sa]=s,a){case"dialog":ua("cancel",i),ua("close",i);break;case"iframe":case"object":case"embed":ua("load",i);break;case"video":case"audio":for(a=0;a<mc.length;a++)ua(mc[a],i);break;case"source":ua("error",i);break;case"img":case"image":case"link":ua("error",i),ua("load",i);break;case"details":ua("toggle",i);break;case"input":ua("invalid",i),Ji(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ua("invalid",i);break;case"textarea":ua("invalid",i),Si(i,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||s.suppressHydrationWarning===!0||Yh(i.textContent,a)?(s.popover!=null&&(ua("beforetoggle",i),ua("toggle",i)),s.onScroll!=null&&ua("scroll",i),s.onScrollEnd!=null&&ua("scrollend",i),s.onClick!=null&&(i.onclick=io),i=!0):i=!1,i||Dr(e,!0)}function js(e){for(Dn=e.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Za=!1;return;case 27:case 3:Za=!0;return;default:Dn=Dn.return}}function Ur(e){if(e!==Dn)return!1;if(!Hi)return js(e),Hi=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Yf(e.type,e.memoizedProps)),a=!a),a&&Va&&Dr(e),js(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Va=i1(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Va=i1(e)}else i===27?(i=Va,zl(e.type)?(e=Qf,Qf=null,Va=e):Va=i):Va=Dn?cs(e.stateNode.nextSibling):null;return!0}function el(){Va=Dn=null,Hi=!1}function Zd(){var e=lr;return e!==null&&(Uo===null?Uo=e:Uo.push.apply(Uo,e),lr=null),e}function vl(e){lr===null?lr=[e]:lr.push(e)}var cd=P(null),Rs=null,ss=null;function Os(e,i,a){R(cd,i._currentValue),i._currentValue=a}function qo(e){e._currentValue=cd.current,_(cd)}function jl(e,i,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===a)break;e=e.return}}function tl(e,i,a,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var N=f.child;h=h.firstContext;e:for(;h!==null;){var D=h;h=f;for(var xe=0;xe<i.length;xe++)if(D.context===i[xe]){h.lanes|=a,D=h.alternate,D!==null&&(D.lanes|=a),jl(h.return,a,e),s||(N=null);break e}h=D.next}}else if(f.tag===18){if(N=f.return,N===null)throw Error(l(341));N.lanes|=a,h=N.alternate,h!==null&&(h.lanes|=a),jl(N,a,e),N=null}else N=f.child;if(N!==null)N.return=f;else for(N=f;N!==null;){if(N===e){N=null;break}if(f=N.sibling,f!==null){f.return=N.return,N=f;break}N=N.return}f=N}}function qs(e,i,a,s){e=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var N=f.alternate;if(N===null)throw Error(l(387));if(N=N.memoizedProps,N!==null){var D=f.type;Fn(f.pendingProps.value,N.value)||(e!==null?e.push(D):e=[D])}}else if(f===ye.current){if(N=f.alternate,N===null)throw Error(l(387));N.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(jc):e=[jc])}f=f.return}e!==null&&tl(i,e,a,s),i.flags|=262144}function ud(e){for(e=e.firstContext;e!==null;){if(!Fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pr(e){return Ec(Rs,e)}function fd(e,i){return Rs===null&&Is(e),Ec(e,i)}function Ec(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ss===null){if(e===null)throw Error(l(308));ss=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ss=ss.next=i;return a}var Ku=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Ju=o.unstable_scheduleCallback,Qu=o.unstable_NormalPriority,er={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sl(){return{controller:new Ku,data:new Map,refCount:0}}function Zl(e){e.refCount--,e.refCount===0&&Ju(Qu,function(){e.controller.abort()})}var Kl=null,pd=0,c=0,p=null;function S(e,i){if(Kl===null){var a=Kl=[];pd=0,c=qf(),p={status:"pending",value:void 0,then:function(s){a.push(s)}}}return pd++,i.then(w,w),i}function w(){if(--pd===0&&Kl!==null){p!==null&&(p.status="fulfilled");var e=Kl;Kl=null,c=0,p=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function G(e,i){var a=[],s={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){s.status="fulfilled",s.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(s.status="rejected",s.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),s}var E=K.S;K.S=function(e,i){bh=hi(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&S(e,i),E!==null&&E(e,i)};var I=P(null);function H(){var e=I.current;return e!==null?e:Sn.pooledCache}function Y(e,i){i===null?R(I,I.current):R(I,i.pool)}function te(){var e=H();return e===null?null:{parent:er._currentValue,pool:e}}var Se=Error(l(460)),Ve=Error(l(474)),ee=Error(l(542)),_e={then:function(){}};function Ee(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tt(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(io,io),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yt(e),e;default:if(typeof i.status=="string")i.then(io,io);else{if(e=Sn,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=i,e.status="pending",e.then(function(s){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=s}},function(s){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,yt(e),e}throw Qe=i,Se}}function Re(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qe=a,Se):a}}var Qe=null;function rt(){if(Qe===null)throw Error(l(459));var e=Qe;return Qe=null,e}function yt(e){if(e===Se||e===ee)throw Error(l(483))}var ft=null,ei=0;function Pt(e){var i=ei;return ei+=1,ft===null&&(ft=[]),tt(ft,e,i)}function zi(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Zt(e,i){throw i.$$typeof===M?Error(l(525)):(e=Object.prototype.toString.call(i),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function oa(e){function i(Te,we){if(e){var De=Te.deletions;De===null?(Te.deletions=[we],Te.flags|=16):De.push(we)}}function a(Te,we){if(!e)return null;for(;we!==null;)i(Te,we),we=we.sibling;return null}function s(Te){for(var we=new Map;Te!==null;)Te.key!==null?we.set(Te.key,Te):we.set(Te.index,Te),Te=Te.sibling;return we}function f(Te,we){return Te=Ii(Te,we),Te.index=0,Te.sibling=null,Te}function h(Te,we,De){return Te.index=De,e?(De=Te.alternate,De!==null?(De=De.index,De<we?(Te.flags|=67108866,we):De):(Te.flags|=67108866,we)):(Te.flags|=1048576,we)}function N(Te){return e&&Te.alternate===null&&(Te.flags|=67108866),Te}function D(Te,we,De,st){return we===null||we.tag!==6?(we=Wt(De,Te.mode,st),we.return=Te,we):(we=f(we,De),we.return=Te,we)}function xe(Te,we,De,st){var yi=De.type;return yi===V?at(Te,we,De.props.children,st,De.key):we!==null&&(we.elementType===yi||typeof yi=="object"&&yi!==null&&yi.$$typeof===se&&Re(yi)===we.type)?(we=f(we,De.props),zi(we,De),we.return=Te,we):(we=Gt(De.type,De.key,De.props,null,Te.mode,st),zi(we,De),we.return=Te,we)}function Ue(Te,we,De,st){return we===null||we.tag!==4||we.stateNode.containerInfo!==De.containerInfo||we.stateNode.implementation!==De.implementation?(we=Zi(De,Te.mode,st),we.return=Te,we):(we=f(we,De.children||[]),we.return=Te,we)}function at(Te,we,De,st,yi){return we===null||we.tag!==7?(we=Et(De,Te.mode,st,yi),we.return=Te,we):(we=f(we,De),we.return=Te,we)}function ct(Te,we,De){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Wt(""+we,Te.mode,De),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return De=Gt(we.type,we.key,we.props,null,Te.mode,De),zi(De,we),De.return=Te,De;case O:return we=Zi(we,Te.mode,De),we.return=Te,we;case se:return we=Re(we),ct(Te,we,De)}if(me(we)||z(we))return we=Et(we,Te.mode,De,null),we.return=Te,we;if(typeof we.then=="function")return ct(Te,Pt(we),De);if(we.$$typeof===re)return ct(Te,fd(Te,we),De);Zt(Te,we)}return null}function Pe(Te,we,De,st){var yi=we!==null?we.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return yi!==null?null:D(Te,we,""+De,st);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case A:return De.key===yi?xe(Te,we,De,st):null;case O:return De.key===yi?Ue(Te,we,De,st):null;case se:return De=Re(De),Pe(Te,we,De,st)}if(me(De)||z(De))return yi!==null?null:at(Te,we,De,st,null);if(typeof De.then=="function")return Pe(Te,we,Pt(De),st);if(De.$$typeof===re)return Pe(Te,we,fd(Te,De),st);Zt(Te,De)}return null}function Ye(Te,we,De,st,yi){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Te=Te.get(De)||null,D(we,Te,""+st,yi);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case A:return Te=Te.get(st.key===null?De:st.key)||null,xe(we,Te,st,yi);case O:return Te=Te.get(st.key===null?De:st.key)||null,Ue(we,Te,st,yi);case se:return st=Re(st),Ye(Te,we,De,st,yi)}if(me(st)||z(st))return Te=Te.get(De)||null,at(we,Te,st,yi,null);if(typeof st.then=="function")return Ye(Te,we,De,Pt(st),yi);if(st.$$typeof===re)return Ye(Te,we,De,fd(we,st),yi);Zt(we,st)}return null}function Qt(Te,we,De,st){for(var yi=null,za=null,li=we,$i=we=0,ga=null;li!==null&&$i<De.length;$i++){li.index>$i?(ga=li,li=null):ga=li.sibling;var Ea=Pe(Te,li,De[$i],st);if(Ea===null){li===null&&(li=ga);break}e&&li&&Ea.alternate===null&&i(Te,li),we=h(Ea,we,$i),za===null?yi=Ea:za.sibling=Ea,za=Ea,li=ga}if($i===De.length)return a(Te,li),Hi&&vr(Te,$i),yi;if(li===null){for(;$i<De.length;$i++)li=ct(Te,De[$i],st),li!==null&&(we=h(li,we,$i),za===null?yi=li:za.sibling=li,za=li);return Hi&&vr(Te,$i),yi}for(li=s(li);$i<De.length;$i++)ga=Ye(li,Te,$i,De[$i],st),ga!==null&&(e&&ga.alternate!==null&&li.delete(ga.key===null?$i:ga.key),we=h(ga,we,$i),za===null?yi=ga:za.sibling=ga,za=ga);return e&&li.forEach(function(Il){return i(Te,Il)}),Hi&&vr(Te,$i),yi}function Bi(Te,we,De,st){if(De==null)throw Error(l(151));for(var yi=null,za=null,li=we,$i=we=0,ga=null,Ea=De.next();li!==null&&!Ea.done;$i++,Ea=De.next()){li.index>$i?(ga=li,li=null):ga=li.sibling;var Il=Pe(Te,li,Ea.value,st);if(Il===null){li===null&&(li=ga);break}e&&li&&Il.alternate===null&&i(Te,li),we=h(Il,we,$i),za===null?yi=Il:za.sibling=Il,za=Il,li=ga}if(Ea.done)return a(Te,li),Hi&&vr(Te,$i),yi;if(li===null){for(;!Ea.done;$i++,Ea=De.next())Ea=ct(Te,Ea.value,st),Ea!==null&&(we=h(Ea,we,$i),za===null?yi=Ea:za.sibling=Ea,za=Ea);return Hi&&vr(Te,$i),yi}for(li=s(li);!Ea.done;$i++,Ea=De.next())Ea=Ye(li,Te,$i,Ea.value,st),Ea!==null&&(e&&Ea.alternate!==null&&li.delete(Ea.key===null?$i:Ea.key),we=h(Ea,we,$i),za===null?yi=Ea:za.sibling=Ea,za=Ea);return e&&li.forEach(function(y2){return i(Te,y2)}),Hi&&vr(Te,$i),yi}function hn(Te,we,De,st){if(typeof De=="object"&&De!==null&&De.type===V&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case A:e:{for(var yi=De.key;we!==null;){if(we.key===yi){if(yi=De.type,yi===V){if(we.tag===7){a(Te,we.sibling),st=f(we,De.props.children),st.return=Te,Te=st;break e}}else if(we.elementType===yi||typeof yi=="object"&&yi!==null&&yi.$$typeof===se&&Re(yi)===we.type){a(Te,we.sibling),st=f(we,De.props),zi(st,De),st.return=Te,Te=st;break e}a(Te,we);break}else i(Te,we);we=we.sibling}De.type===V?(st=Et(De.props.children,Te.mode,st,De.key),st.return=Te,Te=st):(st=Gt(De.type,De.key,De.props,null,Te.mode,st),zi(st,De),st.return=Te,Te=st)}return N(Te);case O:e:{for(yi=De.key;we!==null;){if(we.key===yi)if(we.tag===4&&we.stateNode.containerInfo===De.containerInfo&&we.stateNode.implementation===De.implementation){a(Te,we.sibling),st=f(we,De.children||[]),st.return=Te,Te=st;break e}else{a(Te,we);break}else i(Te,we);we=we.sibling}st=Zi(De,Te.mode,st),st.return=Te,Te=st}return N(Te);case se:return De=Re(De),hn(Te,we,De,st)}if(me(De))return Qt(Te,we,De,st);if(z(De)){if(yi=z(De),typeof yi!="function")throw Error(l(150));return De=yi.call(De),Bi(Te,we,De,st)}if(typeof De.then=="function")return hn(Te,we,Pt(De),st);if(De.$$typeof===re)return hn(Te,we,fd(Te,De),st);Zt(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,we!==null&&we.tag===6?(a(Te,we.sibling),st=f(we,De),st.return=Te,Te=st):(a(Te,we),st=Wt(De,Te.mode,st),st.return=Te,Te=st),N(Te)):a(Te,we)}return function(Te,we,De,st){try{ei=0;var yi=hn(Te,we,De,st);return ft=null,yi}catch(li){if(li===Se||li===ee)throw li;var za=kt(29,li,null,Te.mode);return za.lanes=st,za.return=Te,za}finally{}}}var jn=oa(!0),Vi=oa(!1),Ht=!1;function Lt(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zn(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,i,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Pa&2)!==0){var f=s.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),s.pending=i,i=it(e),Nt(e,null,a),i}return Ce(e,s,i,a),it(e)}function Da(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var s=i.lanes;s&=e.pendingLanes,a|=s,i.lanes=a,Ka(e,a)}}function jr(e,i){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var N={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=N:h=h.next=N,a=a.next}while(a!==null);h===null?f=h=i:h=h.next=i}else f=h=i;a={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Hr=!1;function un(){if(Hr){var e=p;if(e!==null)throw e}}function dr(e,i,a,s){Hr=!1;var f=e.updateQueue;Ht=!1;var h=f.firstBaseUpdate,N=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var xe=D,Ue=xe.next;xe.next=null,N===null?h=Ue:N.next=Ue,N=xe;var at=e.alternate;at!==null&&(at=at.updateQueue,D=at.lastBaseUpdate,D!==N&&(D===null?at.firstBaseUpdate=Ue:D.next=Ue,at.lastBaseUpdate=xe))}if(h!==null){var ct=f.baseState;N=0,at=Ue=xe=null,D=h;do{var Pe=D.lane&-536870913,Ye=Pe!==D.lane;if(Ye?(ha&Pe)===Pe:(s&Pe)===Pe){Pe!==0&&Pe===c&&(Hr=!0),at!==null&&(at=at.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Qt=e,Bi=D;Pe=i;var hn=a;switch(Bi.tag){case 1:if(Qt=Bi.payload,typeof Qt=="function"){ct=Qt.call(hn,ct,Pe);break e}ct=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Bi.payload,Pe=typeof Qt=="function"?Qt.call(hn,ct,Pe):Qt,Pe==null)break e;ct=C({},ct,Pe);break e;case 2:Ht=!0}}Pe=D.callback,Pe!==null&&(e.flags|=64,Ye&&(e.flags|=8192),Ye=f.callbacks,Ye===null?f.callbacks=[Pe]:Ye.push(Pe))}else Ye={lane:Pe,tag:D.tag,payload:D.payload,callback:D.callback,next:null},at===null?(Ue=at=Ye,xe=ct):at=at.next=Ye,N|=Pe;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;Ye=D,D=Ye.next,Ye.next=null,f.lastBaseUpdate=Ye,f.shared.pending=null}}while(!0);at===null&&(xe=ct),f.baseState=xe,f.firstBaseUpdate=Ue,f.lastBaseUpdate=at,h===null&&(f.shared.lanes=0),kl|=N,e.lanes=N,e.memoizedState=ct}}function Jr(e,i){if(typeof e!="function")throw Error(l(191,e));e.call(i)}function cr(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jr(a[e],i)}var ea=P(null),ja=P(0);function En(e,i){e=ul,R(ja,e),R(ea,i),ul=e|i.baseLanes}function Ba(){R(ja,ul),R(ea,ea.current)}function Sr(){ul=ja.current,_(ea),_(ja)}var Rn=P(null),Sa=null;function tr(e){var i=e.alternate;R(ba,ba.current&1),R(Rn,e),Sa===null&&(i===null||ea.current!==null||i.memoizedState!==null)&&(Sa=e)}function Ua(e){R(ba,ba.current),R(Rn,e),Sa===null&&(Sa=e)}function ur(e){e.tag===22?(R(ba,ba.current),R(Rn,e),Sa===null&&(Sa=e)):fr()}function fr(){R(ba,ba.current),R(Rn,Rn.current)}function tn(e){_(Rn),Sa===e&&(Sa=null),_(ba)}var ba=P(0);function Qr(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kf(a)||Jf(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Un=0,mi=null,xi=null,Aa=null,go=!1,Io=!1,ro=!1,pr=0,Fs=0,Vs=null,hd=0;function fn(){throw Error(l(321))}function Kd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Fn(e[a],i[a]))return!1;return!0}function Jd(e,i,a,s,f,h){return Un=h,mi=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?B0:sf,ro=!1,h=a(s,f),ro=!1,Io&&(h=Ss(i,a,s,f)),gd(e),h}function gd(e){K.H=rc;var i=xi!==null&&xi.next!==null;if(Un=0,Aa=xi=mi=null,go=!1,Fs=0,Vs=null,i)throw Error(l(300));e===null||Tr||(e=e.dependencies,e!==null&&ud(e)&&(Tr=!0))}function Ss(e,i,a,s){mi=e;var f=0;do{if(Io&&(Vs=null),Fs=0,Io=!1,25<=f)throw Error(l(301));if(f+=1,Aa=xi=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}K.H=k0,h=i(a,s)}while(Io);return h}function $u(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Ds(i):i,e=e.useState()[0],(xi!==null?xi.memoizedState:null)!==e&&(mi.flags|=1024),i}function Qd(){var e=pr!==0;return pr=0,e}function $d(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function md(e){if(go){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}go=!1}Un=0,Aa=xi=mi=null,Io=!1,Fs=pr=0,Vs=null}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Aa===null?mi.memoizedState=Aa=e:Aa=Aa.next=e,Aa}function Pn(){if(xi===null){var e=mi.alternate;e=e!==null?e.memoizedState:null}else e=xi.next;var i=Aa===null?mi.memoizedState:Aa.next;if(i!==null)Aa=i,xi=e;else{if(e===null)throw mi.alternate===null?Error(l(467)):Error(l(310));xi=e,e={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},Aa===null?mi.memoizedState=Aa=e:Aa=Aa.next=e}return Aa}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ds(e){var i=Fs;return Fs+=1,Vs===null&&(Vs=[]),e=tt(Vs,e,i),i=mi,(Aa===null?i.memoizedState:Aa.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?B0:sf),e}function Al(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ds(e);if(e.$$typeof===re)return Pr(e)}throw Error(l(438,String(e)))}function il(e){var i=null,a=mi.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var s=mi.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Jl(),mi.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),s=0;s<e;s++)a[s]=$;return i.index++,a}function ls(e,i){return typeof i=="function"?i(e):i}function bd(e){var i=Pn();return wl(i,xi,e)}function wl(e,i,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var f=e.baseQueue,h=s.pending;if(h!==null){if(f!==null){var N=f.next;f.next=h.next,h.next=N}i.baseQueue=f=h,s.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{i=f.next;var D=N=null,xe=null,Ue=i,at=!1;do{var ct=Ue.lane&-536870913;if(ct!==Ue.lane?(ha&ct)===ct:(Un&ct)===ct){var Pe=Ue.revertLane;if(Pe===0)xe!==null&&(xe=xe.next={lane:0,revertLane:0,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),ct===c&&(at=!0);else if((Un&Pe)===Pe){Ue=Ue.next,Pe===c&&(at=!0);continue}else ct={lane:0,revertLane:Ue.revertLane,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},xe===null?(D=xe=ct,N=h):xe=xe.next=ct,mi.lanes|=Pe,kl|=Pe;ct=Ue.action,ro&&a(h,ct),h=Ue.hasEagerState?Ue.eagerState:a(h,ct)}else Pe={lane:ct,revertLane:Ue.revertLane,gesture:Ue.gesture,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},xe===null?(D=xe=Pe,N=h):xe=xe.next=Pe,mi.lanes|=ct,kl|=ct;Ue=Ue.next}while(Ue!==null&&Ue!==i);if(xe===null?N=h:xe.next=D,!Fn(h,e.memoizedState)&&(Tr=!0,at&&(a=p,a!==null)))throw a;e.memoizedState=h,e.baseState=N,e.baseQueue=xe,s.lastRenderedState=h}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function xd(e){var i=Pn(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,f=a.pending,h=i.memoizedState;if(f!==null){a.pending=null;var N=f=f.next;do h=e(h,N.action),N=N.next;while(N!==f);Fn(h,i.memoizedState)||(Tr=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,s]}function yd(e,i,a){var s=mi,f=Pn(),h=Hi;if(h){if(a===void 0)throw Error(l(407));a=a()}else a=i();var N=!Fn((xi||f).memoizedState,a);if(N&&(f.memoizedState=a,Tr=!0),f=f.queue,ef(tc.bind(null,s,f,e),[e]),f.getSnapshot!==i||N||Aa!==null&&Aa.memoizedState.tag&1){if(s.flags|=2048,nl(9,{destroy:void 0},ec.bind(null,s,f,a,i),null),Sn===null)throw Error(l(349));h||(Un&127)!==0||As(s,i,a)}return a}function As(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=mi.updateQueue,i===null?(i=Jl(),mi.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ec(e,i,a,s){i.value=a,i.getSnapshot=s,Rc(i)&&ic(e)}function tc(e,i,a){return a(function(){Rc(i)&&ic(e)})}function Rc(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Fn(e,a)}catch{return!0}}function ic(e){var i=Be(e,2);i!==null&&Po(i,e,2)}function Us(e){var i=Lr();if(typeof e=="function"){var a=e;if(e=a(),ro){Ne(!0);try{a()}finally{Ne(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e},i}function Oc(e,i,a,s){return e.baseState=a,wl(e,xi,typeof s=="function"?s:ls)}function qc(e,i,a,s,f){if(Dc(e))throw Error(l(485));if(e=i.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){h.listeners.push(N)}};K.T!==null?a(!0):h.isTransition=!1,s(h),a=i.pending,a===null?(h.next=i.pending=h,Ic(i,h)):(h.next=a.next,i.pending=a.next=h)}}function Ic(e,i){var a=i.action,s=i.payload,f=e.state;if(i.isTransition){var h=K.T,N={};K.T=N;try{var D=a(f,s),xe=K.S;xe!==null&&xe(N,D),ac(e,i,D)}catch(Ue){al(e,i,Ue)}finally{h!==null&&N.types!==null&&(h.types=N.types),K.T=h}}else try{h=a(f,s),ac(e,i,h)}catch(Ue){al(e,i,Ue)}}function ac(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Fc(e,i,s)},function(s){return al(e,i,s)}):Fc(e,i,a)}function Fc(e,i,a){i.status="fulfilled",i.value=a,vd(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ic(e,a)))}function al(e,i,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=a,vd(i),i=i.next;while(i!==s)}e.action=null}function vd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ql(e,i){return i}function ds(e,i){if(Hi){var a=Sn.formState;if(a!==null){e:{var s=mi;if(Hi){if(Va){t:{for(var f=Va,h=Za;f.nodeType!==8;){if(!h){f=null;break t}if(f=cs(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Va=cs(f.nextSibling),s=f.data==="F!";break e}}Dr(s)}s=!1}s&&(i=a[0])}}return a=Lr(),a.memoizedState=a.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:i},a.queue=s,a=_0.bind(null,mi,s),s.dispatch=a,s=Us(!1),h=of.bind(null,mi,!1,s.queue),s=Lr(),f={state:i,dispatch:null,action:e,pending:null},s.queue=f,a=qc.bind(null,mi,f,h,a),f.dispatch=a,s.memoizedState=e,[i,a,!1]}function ws(e){var i=Pn();return _s(i,xi,e)}function _s(e,i,a){if(i=wl(e,i,Ql)[0],e=bd(ls)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=Ds(i)}catch(N){throw N===Se?ee:N}else s=i;i=Pn();var f=i.queue,h=f.dispatch;return a!==i.memoizedState&&(mi.flags|=2048,nl(9,{destroy:void 0},jd.bind(null,f,a),null)),[s,h,e]}function jd(e,i){e.action=i}function Sd(e){var i=Pn(),a=xi;if(a!==null)return _s(i,a,e);Pn(),i=i.memoizedState,a=Pn();var s=a.queue.dispatch;return a.memoizedState=e,[i,s,!1]}function nl(e,i,a,s){return e={tag:e,create:a,deps:s,inst:i,next:null},i=mi.updateQueue,i===null&&(i=Jl(),mi.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,i.lastEffect=e),e}function Vc(){return Pn().memoizedState}function _l(e,i,a,s){var f=Lr();mi.flags|=e,f.memoizedState=nl(1|i,{destroy:void 0},a,s===void 0?null:s)}function Nl(e,i,a,s){var f=Pn();s=s===void 0?null:s;var h=f.memoizedState.inst;xi!==null&&s!==null&&Kd(s,xi.memoizedState.deps)?f.memoizedState=nl(i,h,a,s):(mi.flags|=e,f.memoizedState=nl(1|i,h,a,s))}function u0(e,i){_l(8390656,8,e,i)}function ef(e,i){Nl(2048,8,e,i)}function pb(e){mi.flags|=4;var i=mi.updateQueue;if(i===null)i=Jl(),mi.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function f0(e){var i=Pn().memoizedState;return pb({ref:i,nextImpl:e}),function(){if((Pa&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function p0(e,i){return Nl(4,2,e,i)}function h0(e,i){return Nl(4,4,e,i)}function g0(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function m0(e,i,a){a=a!=null?a.concat([e]):null,Nl(4,4,g0.bind(null,i,e),a)}function tf(){}function b0(e,i){var a=Pn();i=i===void 0?null:i;var s=a.memoizedState;return i!==null&&Kd(i,s[1])?s[0]:(a.memoizedState=[e,i],e)}function x0(e,i){var a=Pn();i=i===void 0?null:i;var s=a.memoizedState;if(i!==null&&Kd(i,s[1]))return s[0];if(s=e(),ro){Ne(!0);try{e()}finally{Ne(!1)}}return a.memoizedState=[s,i],s}function af(e,i,a){return a===void 0||(Un&1073741824)!==0&&(ha&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=yh(),mi.lanes|=e,kl|=e,a)}function y0(e,i,a,s){return Fn(a,i)?a:ea.current!==null?(e=af(e,a,s),Fn(e,i)||(Tr=!0),e):(Un&42)===0||(Un&1073741824)!==0&&(ha&261930)===0?(Tr=!0,e.memoizedState=a):(e=yh(),mi.lanes|=e,kl|=e,i)}function v0(e,i,a,s,f){var h=fe.p;fe.p=h!==0&&8>h?h:8;var N=K.T,D={};K.T=D,of(e,!1,i,a);try{var xe=f(),Ue=K.S;if(Ue!==null&&Ue(D,xe),xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var at=G(xe,s);nc(e,i,at,$o(e))}else nc(e,i,s,$o(e))}catch(ct){nc(e,i,{then:function(){},status:"rejected",reason:ct},$o())}finally{fe.p=h,N!==null&&D.types!==null&&(N.types=D.types),K.T=N}}function hb(){}function nf(e,i,a,s){if(e.tag!==5)throw Error(l(476));var f=j0(e).queue;v0(e,f,i,ce,a===null?hb:function(){return S0(e),a(s)})}function j0(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function S0(e){var i=j0(e);i.next===null&&(i=e.alternate.memoizedState),nc(e,i.next.queue,{},$o())}function rf(){return Pr(jc)}function A0(){return Pn().memoizedState}function w0(){return Pn().memoizedState}function gb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=$o();e=_i(a);var s=Wi(i,e,a);s!==null&&(Po(s,i,a),Da(s,i,a)),i={cache:Sl()},e.payload=i;return}i=i.return}}function mb(e,i,a){var s=$o();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(e)?N0(i,a):(a=ke(e,i,a,s),a!==null&&(Po(a,e,s),C0(a,i,s)))}function _0(e,i,a){var s=$o();nc(e,i,a,s)}function nc(e,i,a,s){var f={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))N0(i,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var N=i.lastRenderedState,D=h(N,a);if(f.hasEagerState=!0,f.eagerState=D,Fn(D,N))return Ce(e,i,f,0),Sn===null&&oe(),!1}catch{}finally{}if(a=ke(e,i,f,s),a!==null)return Po(a,e,s),C0(a,i,s),!0}return!1}function of(e,i,a,s){if(s={lane:2,revertLane:qf(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Dc(e)){if(i)throw Error(l(479))}else i=ke(e,a,s,2),i!==null&&Po(i,e,2)}function Dc(e){var i=e.alternate;return e===mi||i!==null&&i===mi}function N0(e,i){Io=go=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function C0(e,i,a){if((a&4194048)!==0){var s=i.lanes;s&=e.pendingLanes,a|=s,i.lanes=a,Ka(e,a)}}var rc={readContext:Pr,use:Al,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};rc.useEffectEvent=fn;var B0={readContext:Pr,use:Al,useCallback:function(e,i){return Lr().memoizedState=[e,i===void 0?null:i],e},useContext:Pr,useEffect:u0,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,_l(4194308,4,g0.bind(null,i,e),a)},useLayoutEffect:function(e,i){return _l(4194308,4,e,i)},useInsertionEffect:function(e,i){_l(4,2,e,i)},useMemo:function(e,i){var a=Lr();i=i===void 0?null:i;var s=e();if(ro){Ne(!0);try{e()}finally{Ne(!1)}}return a.memoizedState=[s,i],s},useReducer:function(e,i,a){var s=Lr();if(a!==void 0){var f=a(i);if(ro){Ne(!0);try{a(i)}finally{Ne(!1)}}}else f=i;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=mb.bind(null,mi,e),[s.memoizedState,e]},useRef:function(e){var i=Lr();return e={current:e},i.memoizedState=e},useState:function(e){e=Us(e);var i=e.queue,a=_0.bind(null,mi,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(e,i){var a=Lr();return af(a,e,i)},useTransition:function(){var e=Us(!1);return e=v0.bind(null,mi,e.queue,!0,!1),Lr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var s=mi,f=Lr();if(Hi){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Sn===null)throw Error(l(349));(ha&127)!==0||As(s,i,a)}f.memoizedState=a;var h={value:a,getSnapshot:i};return f.queue=h,u0(tc.bind(null,s,h,e),[e]),s.flags|=2048,nl(9,{destroy:void 0},ec.bind(null,s,h,a,i),null),a},useId:function(){var e=Lr(),i=Sn.identifierPrefix;if(Hi){var a=$n,s=Qn;a=(s&~(1<<32-nt(s)-1)).toString(32)+a,i="_"+i+"R_"+a,a=pr++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=hd++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:rf,useFormState:ds,useActionState:ds,useOptimistic:function(e){var i=Lr();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=of.bind(null,mi,!0,a),a.dispatch=i,[e,i]},useMemoCache:il,useCacheRefresh:function(){return Lr().memoizedState=gb.bind(null,mi)},useEffectEvent:function(e){var i=Lr(),a={impl:e};return i.memoizedState=a,function(){if((Pa&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},sf={readContext:Pr,use:Al,useCallback:b0,useContext:Pr,useEffect:ef,useImperativeHandle:m0,useInsertionEffect:p0,useLayoutEffect:h0,useMemo:x0,useReducer:bd,useRef:Vc,useState:function(){return bd(ls)},useDebugValue:tf,useDeferredValue:function(e,i){var a=Pn();return y0(a,xi.memoizedState,e,i)},useTransition:function(){var e=bd(ls)[0],i=Pn().memoizedState;return[typeof e=="boolean"?e:Ds(e),i]},useSyncExternalStore:yd,useId:A0,useHostTransitionStatus:rf,useFormState:ws,useActionState:ws,useOptimistic:function(e,i){var a=Pn();return Oc(a,xi,e,i)},useMemoCache:il,useCacheRefresh:w0};sf.useEffectEvent=f0;var k0={readContext:Pr,use:Al,useCallback:b0,useContext:Pr,useEffect:ef,useImperativeHandle:m0,useInsertionEffect:p0,useLayoutEffect:h0,useMemo:x0,useReducer:xd,useRef:Vc,useState:function(){return xd(ls)},useDebugValue:tf,useDeferredValue:function(e,i){var a=Pn();return xi===null?af(a,e,i):y0(a,xi.memoizedState,e,i)},useTransition:function(){var e=xd(ls)[0],i=Pn().memoizedState;return[typeof e=="boolean"?e:Ds(e),i]},useSyncExternalStore:yd,useId:A0,useHostTransitionStatus:rf,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,i){var a=Pn();return xi!==null?Oc(a,xi,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:il,useCacheRefresh:w0};k0.useEffectEvent=f0;function lf(e,i,a,s){i=e.memoizedState,a=a(s,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var df={enqueueSetState:function(e,i,a){e=e._reactInternals;var s=$o(),f=_i(s);f.payload=i,a!=null&&(f.callback=a),i=Wi(e,f,s),i!==null&&(Po(i,e,s),Da(i,e,s))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var s=$o(),f=_i(s);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Wi(e,f,s),i!==null&&(Po(i,e,s),Da(i,e,s))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=$o(),s=_i(a);s.tag=2,i!=null&&(s.callback=i),i=Wi(e,s,a),i!==null&&(Po(i,e,a),Da(i,e,a))}};function M0(e,i,a,s,f,h,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,N):i.prototype&&i.prototype.isPureReactComponent?!Co(a,s)||!Co(f,h):!0}function G0(e,i,a,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==e&&df.enqueueReplaceState(i,i.state,null)}function $l(e,i){var a=i;if("ref"in i){a={};for(var s in i)s!=="ref"&&(a[s]=i[s])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function L0(e){g(e)}function T0(e){console.error(e)}function z0(e){g(e)}function Uc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function E0(e,i,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cf(e,i,a){return a=_i(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(e,i)},a}function R0(e){return e=_i(e),e.tag=3,e}function O0(e,i,a,s){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=s.value;e.payload=function(){return f(h)},e.callback=function(){E0(i,a,s)}}var N=a.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){E0(i,a,s),typeof f!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var D=s.stack;this.componentDidCatch(s.value,{componentStack:D!==null?D:""})})}function bb(e,i,a,s,f){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=a.alternate,i!==null&&qs(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Sa===null?tu():a.alternate===null&&hr===0&&(hr=3),a.flags&=-257,a.flags|=65536,a.lanes=f,s===_e?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([s]):i.add(s),Ef(e,s,f)),!1;case 22:return a.flags|=65536,s===_e?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([s]):a.add(s)),Ef(e,s,f)),!1}throw Error(l(435,a.tag))}return Ef(e,s,f),tu(),!1}if(Hi)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,s!==wi&&(e=Error(l(422),{cause:s}),vl(oi(e,a)))):(s!==wi&&(i=Error(l(423),{cause:s}),vl(oi(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=oi(s,a),f=cf(e.stateNode,s,f),jr(e,f),hr!==4&&(hr=2)),!1;var h=Error(l(520),{cause:s});if(h=oi(h,a),pc===null?pc=[h]:pc.push(h),hr!==4&&(hr=2),i===null)return!0;s=oi(s,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=cf(a.stateNode,s,e),jr(a,e),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ml===null||!Ml.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=R0(f),O0(f,e,a,s),jr(a,f),!1}a=a.return}while(a!==null);return!1}var uf=Error(l(461)),Tr=!1;function oo(e,i,a,s){i.child=e===null?Vi(i,null,a,s):jn(i,e.child,a,s)}function q0(e,i,a,s,f){a=a.render;var h=i.ref;if("ref"in s){var N={};for(var D in s)D!=="ref"&&(N[D]=s[D])}else N=s;return Is(i),s=Jd(e,i,a,N,h,f),D=Qd(),e!==null&&!Tr?($d(e,i,f),rl(e,i,f)):(Hi&&D&&pa(i),i.flags|=1,oo(e,i,s,f),i.child)}function I0(e,i,a,s,f){if(e===null){var h=a.type;return typeof h=="function"&&!qt(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,F0(e,i,h,s,f)):(e=Gt(a.type,null,s,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(h=e.child,!yf(e,f)){var N=h.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(N,s)&&e.ref===i.ref)return rl(e,i,f)}return i.flags|=1,e=Ii(h,s),e.ref=i.ref,e.return=i,i.child=e}function F0(e,i,a,s,f){if(e!==null){var h=e.memoizedProps;if(Co(h,s)&&e.ref===i.ref)if(Tr=!1,i.pendingProps=s=h,yf(e,f))(e.flags&131072)!==0&&(Tr=!0);else return i.lanes=e.lanes,rl(e,i,f)}return ff(e,i,a,s,f)}function V0(e,i,a,s){var f=s.children,h=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(s=i.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~h}else s=0,i.child=null;return D0(e,i,h,a,s)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Y(i,h!==null?h.cachePool:null),h!==null?En(i,h):Ba(),ur(i);else return s=i.lanes=536870912,D0(e,i,h!==null?h.baseLanes|a:a,a,s)}else h!==null?(Y(i,h.cachePool),En(i,h),fr(),i.memoizedState=null):(e!==null&&Y(i,null),Ba(),fr());return oo(e,i,f,a),i.child}function oc(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function D0(e,i,a,s,f){var h=H();return h=h===null?null:{parent:er._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Y(i,null),Ba(),ur(i),e!==null&&qs(e,i,s,!0),i.childLanes=f,null}function Pc(e,i){return i=Wc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function U0(e,i,a){return jn(i,e.child,null,a),e=Pc(i,i.pendingProps),e.flags|=2,tn(i),i.memoizedState=null,e}function xb(e,i,a){var s=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Hi){if(s.mode==="hidden")return e=Pc(i,s),i.lanes=536870912,oc(null,e);if(Ua(i),(e=Va)?(e=t1(e,Za),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Qn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},a=ri(e),a.return=i,i.child=a,Dn=i,Va=null)):e=null,e===null)throw Dr(i);return i.lanes=536870912,null}return Pc(i,s)}var h=e.memoizedState;if(h!==null){var N=h.dehydrated;if(Ua(i),f)if(i.flags&256)i.flags&=-257,i=U0(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(l(558));else if(Tr||qs(e,i,a,!1),f=(a&e.childLanes)!==0,Tr||f){if(s=Sn,s!==null&&(N=Ja(s,a),N!==0&&N!==h.retryLane))throw h.retryLane=N,Be(e,N),Po(s,e,N),uf;tu(),i=U0(e,i,a)}else e=h.treeContext,Va=cs(N.nextSibling),Dn=i,Hi=!0,lr=null,Za=!1,e!==null&&Vr(i,e),i=Pc(i,s),i.flags|=4096;return i}return e=Ii(e.child,{mode:s.mode,children:s.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Hc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function ff(e,i,a,s,f){return Is(i),a=Jd(e,i,a,s,void 0,f),s=Qd(),e!==null&&!Tr?($d(e,i,f),rl(e,i,f)):(Hi&&s&&pa(i),i.flags|=1,oo(e,i,a,f),i.child)}function P0(e,i,a,s,f,h){return Is(i),i.updateQueue=null,a=Ss(i,s,a,f),gd(e),s=Qd(),e!==null&&!Tr?($d(e,i,h),rl(e,i,h)):(Hi&&s&&pa(i),i.flags|=1,oo(e,i,a,h),i.child)}function H0(e,i,a,s,f){if(Is(i),i.stateNode===null){var h=et,N=a.contextType;typeof N=="object"&&N!==null&&(h=Pr(N)),h=new a(s,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=df,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=s,h.state=i.memoizedState,h.refs={},Lt(i),N=a.contextType,h.context=typeof N=="object"&&N!==null?Pr(N):et,h.state=i.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(lf(i,a,N,s),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(N=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),N!==h.state&&df.enqueueReplaceState(h,h.state,null),dr(i,s,h,f),un(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(e===null){h=i.stateNode;var D=i.memoizedProps,xe=$l(a,D);h.props=xe;var Ue=h.context,at=a.contextType;N=et,typeof at=="object"&&at!==null&&(N=Pr(at));var ct=a.getDerivedStateFromProps;at=typeof ct=="function"||typeof h.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,at||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(D||Ue!==N)&&G0(i,h,s,N),Ht=!1;var Pe=i.memoizedState;h.state=Pe,dr(i,s,h,f),un(),Ue=i.memoizedState,D||Pe!==Ue||Ht?(typeof ct=="function"&&(lf(i,a,ct,s),Ue=i.memoizedState),(xe=Ht||M0(i,a,xe,s,Pe,Ue,N))?(at||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=Ue),h.props=s,h.state=Ue,h.context=N,s=xe):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{h=i.stateNode,zn(e,i),N=i.memoizedProps,at=$l(a,N),h.props=at,ct=i.pendingProps,Pe=h.context,Ue=a.contextType,xe=et,typeof Ue=="object"&&Ue!==null&&(xe=Pr(Ue)),D=a.getDerivedStateFromProps,(Ue=typeof D=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(N!==ct||Pe!==xe)&&G0(i,h,s,xe),Ht=!1,Pe=i.memoizedState,h.state=Pe,dr(i,s,h,f),un();var Ye=i.memoizedState;N!==ct||Pe!==Ye||Ht||e!==null&&e.dependencies!==null&&ud(e.dependencies)?(typeof D=="function"&&(lf(i,a,D,s),Ye=i.memoizedState),(at=Ht||M0(i,a,at,s,Pe,Ye,xe)||e!==null&&e.dependencies!==null&&ud(e.dependencies))?(Ue||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,Ye,xe),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,Ye,xe)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&Pe===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&Pe===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=Ye),h.props=s,h.state=Ye,h.context=xe,s=at):(typeof h.componentDidUpdate!="function"||N===e.memoizedProps&&Pe===e.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&Pe===e.memoizedState||(i.flags|=1024),s=!1)}return h=s,Hc(e,i),s=(i.flags&128)!==0,h||s?(h=i.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,e!==null&&s?(i.child=jn(i,e.child,null,f),i.child=jn(i,null,a,f)):oo(e,i,a,f),i.memoizedState=h.state,e=i.child):e=rl(e,i,f),e}function W0(e,i,a,s){return el(),i.flags|=256,oo(e,i,a,s),i.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(e){return{baseLanes:e,cachePool:te()}}function gf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Qo),e}function Y0(e,i,a){var s=i.pendingProps,f=!1,h=(i.flags&128)!==0,N;if((N=h)||(N=e!==null&&e.memoizedState===null?!1:(ba.current&2)!==0),N&&(f=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,e===null){if(Hi){if(f?tr(i):fr(),(e=Va)?(e=t1(e,Za),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Qn,overflow:$n}:null,retryLane:536870912,hydrationErrors:null},a=ri(e),a.return=i,i.child=a,Dn=i,Va=null)):e=null,e===null)throw Dr(i);return Jf(e)?i.lanes=32:i.lanes=536870912,null}var D=s.children;return s=s.fallback,f?(fr(),f=i.mode,D=Wc({mode:"hidden",children:D},f),s=Et(s,f,a,null),D.return=i,s.return=i,D.sibling=s,i.child=D,s=i.child,s.memoizedState=hf(a),s.childLanes=gf(e,N,a),i.memoizedState=pf,oc(null,s)):(tr(i),mf(i,D))}var xe=e.memoizedState;if(xe!==null&&(D=xe.dehydrated,D!==null)){if(h)i.flags&256?(tr(i),i.flags&=-257,i=bf(e,i,a)):i.memoizedState!==null?(fr(),i.child=e.child,i.flags|=128,i=null):(fr(),D=s.fallback,f=i.mode,s=Wc({mode:"visible",children:s.children},f),D=Et(D,f,a,null),D.flags|=2,s.return=i,D.return=i,s.sibling=D,i.child=s,jn(i,e.child,null,a),s=i.child,s.memoizedState=hf(a),s.childLanes=gf(e,N,a),i.memoizedState=pf,i=oc(null,s));else if(tr(i),Jf(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var Ue=N.dgst;N=Ue,s=Error(l(419)),s.stack="",s.digest=N,vl({value:s,source:null,stack:null}),i=bf(e,i,a)}else if(Tr||qs(e,i,a,!1),N=(a&e.childLanes)!==0,Tr||N){if(N=Sn,N!==null&&(s=Ja(N,a),s!==0&&s!==xe.retryLane))throw xe.retryLane=s,Be(e,s),Po(N,e,s),uf;Kf(D)||tu(),i=bf(e,i,a)}else Kf(D)?(i.flags|=192,i.child=e.child,i=null):(e=xe.treeContext,Va=cs(D.nextSibling),Dn=i,Hi=!0,lr=null,Za=!1,e!==null&&Vr(i,e),i=mf(i,s.children),i.flags|=4096);return i}return f?(fr(),D=s.fallback,f=i.mode,xe=e.child,Ue=xe.sibling,s=Ii(xe,{mode:"hidden",children:s.children}),s.subtreeFlags=xe.subtreeFlags&65011712,Ue!==null?D=Ii(Ue,D):(D=Et(D,f,a,null),D.flags|=2),D.return=i,s.return=i,s.sibling=D,i.child=s,oc(null,s),s=i.child,D=e.child.memoizedState,D===null?D=hf(a):(f=D.cachePool,f!==null?(xe=er._currentValue,f=f.parent!==xe?{parent:xe,pool:xe}:f):f=te(),D={baseLanes:D.baseLanes|a,cachePool:f}),s.memoizedState=D,s.childLanes=gf(e,N,a),i.memoizedState=pf,oc(e.child,s)):(tr(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:s.children}),a.return=i,a.sibling=null,e!==null&&(N=i.deletions,N===null?(i.deletions=[e],i.flags|=16):N.push(e)),i.child=a,i.memoizedState=null,a)}function mf(e,i){return i=Wc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Wc(e,i){return e=kt(22,e,null,i),e.lanes=0,e}function bf(e,i,a){return jn(i,e.child,null,a),e=mf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function X0(e,i,a){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),jl(e.return,i,a)}function xf(e,i,a,s,f,h){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:f,treeForkCount:h}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=s,N.tail=a,N.tailMode=f,N.treeForkCount=h)}function Z0(e,i,a){var s=i.pendingProps,f=s.revealOrder,h=s.tail;s=s.children;var N=ba.current,D=(N&2)!==0;if(D?(N=N&1|2,i.flags|=128):N&=1,R(ba,N),oo(e,i,s,a),s=Hi?Gr:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X0(e,a,i);else if(e.tag===19)X0(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&Qr(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),xf(i,!1,f,a,h,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Qr(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}xf(i,!0,a,null,h,s);break;case"together":xf(i,!1,null,null,void 0,s);break;default:i.memoizedState=null}return i.child}function rl(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),kl|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(qs(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(l(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function yf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ud(e)))}function yb(e,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Os(i,er,e.memoizedState.cache),el();break;case 27:case 5:Xe(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Os(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ua(i),null;break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Y0(e,i,a):(tr(i),e=rl(e,i,a),e!==null?e.sibling:null);tr(i);break;case 19:var f=(e.flags&128)!==0;if(s=(a&i.childLanes)!==0,s||(qs(e,i,a,!1),s=(a&i.childLanes)!==0),f){if(s)return Z0(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),R(ba,ba.current),s)break;return null;case 22:return i.lanes=0,V0(e,i,a,i.pendingProps);case 24:Os(i,er,e.memoizedState.cache)}return rl(e,i,a)}function K0(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Tr=!0;else{if(!yf(e,a)&&(i.flags&128)===0)return Tr=!1,yb(e,i,a);Tr=(e.flags&131072)!==0}else Tr=!1,Hi&&(i.flags&1048576)!==0&&$s(i,Gr,i.index);switch(i.lanes=0,i.tag){case 16:e:{var s=i.pendingProps;if(e=Re(i.elementType),i.type=e,typeof e=="function")qt(e)?(s=$l(e,s),i.tag=1,i=H0(null,i,e,s,a)):(i.tag=0,i=ff(null,i,e,s,a));else{if(e!=null){var f=e.$$typeof;if(f===ne){i.tag=11,i=q0(null,i,e,s,a);break e}else if(f===he){i.tag=14,i=I0(null,i,e,s,a);break e}}throw i=ae(e)||e,Error(l(306,i,""))}}return i;case 0:return ff(e,i,i.type,i.pendingProps,a);case 1:return s=i.type,f=$l(s,i.pendingProps),H0(e,i,s,f,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),e===null)throw Error(l(387));s=i.pendingProps;var h=i.memoizedState;f=h.element,zn(e,i),dr(i,s,null,a);var N=i.memoizedState;if(s=N.cache,Os(i,er,s),s!==h.cache&&tl(i,[er],a,!0),un(),s=N.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=W0(e,i,s,a);break e}else if(s!==f){f=oi(Error(l(424)),i),vl(f),i=W0(e,i,s,a);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Va=cs(e.firstChild),Dn=i,Hi=!0,lr=null,Za=!0,a=Vi(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),s===f){i=rl(e,i,a);break e}oo(e,i,s,a)}i=i.child}return i;case 26:return Hc(e,i),e===null?(a=s1(i.type,null,i.pendingProps,null))?i.memoizedState=a:Hi||(a=i.type,e=i.pendingProps,s=lu(le.current).createElement(a),s[Xi]=i,s[sa]=e,so(s,a,e),ka(s),i.stateNode=s):i.memoizedState=s1(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xe(i),e===null&&Hi&&(s=i.stateNode=n1(i.type,i.pendingProps,le.current),Dn=i,Za=!0,f=Va,zl(i.type)?(Qf=f,Va=cs(s.firstChild)):Va=f),oo(e,i,i.pendingProps.children,a),Hc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Hi&&((f=s=Va)&&(s=Zb(s,i.type,i.pendingProps,Za),s!==null?(i.stateNode=s,Dn=i,Va=cs(s.firstChild),Za=!1,f=!0):f=!1),f||Dr(i)),Xe(i),f=i.type,h=i.pendingProps,N=e!==null?e.memoizedProps:null,s=h.children,Yf(f,h)?s=null:N!==null&&Yf(f,N)&&(i.flags|=32),i.memoizedState!==null&&(f=Jd(e,i,$u,null,null,a),jc._currentValue=f),Hc(e,i),oo(e,i,s,a),i.child;case 6:return e===null&&Hi&&((e=a=Va)&&(a=Kb(a,i.pendingProps,Za),a!==null?(i.stateNode=a,Dn=i,Va=null,e=!0):e=!1),e||Dr(i)),null;case 13:return Y0(e,i,a);case 4:return qe(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=jn(i,null,s,a):oo(e,i,s,a),i.child;case 11:return q0(e,i,i.type,i.pendingProps,a);case 7:return oo(e,i,i.pendingProps,a),i.child;case 8:return oo(e,i,i.pendingProps.children,a),i.child;case 12:return oo(e,i,i.pendingProps.children,a),i.child;case 10:return s=i.pendingProps,Os(i,i.type,s.value),oo(e,i,s.children,a),i.child;case 9:return f=i.type._context,s=i.pendingProps.children,Is(i),f=Pr(f),s=s(f),i.flags|=1,oo(e,i,s,a),i.child;case 14:return I0(e,i,i.type,i.pendingProps,a);case 15:return F0(e,i,i.type,i.pendingProps,a);case 19:return Z0(e,i,a);case 31:return xb(e,i,a);case 22:return V0(e,i,a,i.pendingProps);case 24:return Is(i),s=Pr(er),e===null?(f=H(),f===null&&(f=Sn,h=Sl(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),i.memoizedState={parent:s,cache:f},Lt(i),Os(i,er,f)):((e.lanes&a)!==0&&(zn(e,i),dr(i,null,null,a),un()),f=e.memoizedState,h=i.memoizedState,f.parent!==s?(f={parent:s,cache:s},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Os(i,er,s)):(s=h.cache,Os(i,er,s),s!==f.cache&&tl(i,[er],a,!0))),oo(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function ol(e){e.flags|=4}function vf(e,i,a,s,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Ah())e.flags|=8192;else throw Qe=_e,Ve}else e.flags&=-16777217}function J0(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f1(i))if(Ah())e.flags|=8192;else throw Qe=_e,Ve}function Yc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Oa():536870912,e.lanes|=i,Nd|=i)}function sc(e,i){if(!Hi)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function On(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=a,i}function vb(e,i,a){var s=i.pendingProps;switch(Ta(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(i),null;case 1:return On(i),null;case 3:return a=i.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),qo(er),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ur(i)?ol(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zd())),On(i),null;case 26:var f=i.type,h=i.memoizedState;return e===null?(ol(i),h!==null?(On(i),J0(i,h)):(On(i),vf(i,f,null,s,a))):h?h!==e.memoizedState?(ol(i),On(i),J0(i,h)):(On(i),i.flags&=-16777217):(e=e.memoizedProps,e!==s&&ol(i),On(i),vf(i,f,e,s,a)),null;case 27:if(He(i),a=le.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&ol(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return On(i),null}e=U.current,Ur(i)?Xl(i):(e=n1(f,s,a),i.stateNode=e,ol(i))}return On(i),null;case 5:if(He(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&ol(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return On(i),null}if(h=U.current,Ur(i))Xl(i);else{var N=lu(le.current);switch(h){case 1:h=N.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=N.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=N.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=N.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?N.createElement("select",{is:s.is}):N.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?N.createElement(f,{is:s.is}):N.createElement(f)}}h[Xi]=i,h[sa]=s;e:for(N=i.child;N!==null;){if(N.tag===5||N.tag===6)h.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===i)break e;for(;N.sibling===null;){if(N.return===null||N.return===i)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}i.stateNode=h;e:switch(so(h,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ol(i)}}return On(i),vf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==s&&ol(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(l(166));if(e=le.current,Ur(i)){if(e=i.stateNode,a=i.memoizedProps,s=null,f=Dn,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[Xi]=i,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Yh(e.nodeValue,a)),e||Dr(i,!0)}else e=lu(e).createTextNode(s),e[Xi]=i,i.stateNode=e}return On(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(s=Ur(i),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Xi]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;On(i),e=!1}else a=Zd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(tn(i),i):(tn(i),null);if((i.flags&128)!==0)throw Error(l(558))}return On(i),null;case 13:if(s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ur(i),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(l(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Xi]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;On(i),f=!1}else f=Zd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(tn(i),i):(tn(i),null)}return tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=i.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Yc(i,i.updateQueue),On(i),null);case 4:return Ie(),e===null&&Df(i.stateNode.containerInfo),On(i),null;case 10:return qo(i.type),On(i),null;case 19:if(_(ba),s=i.memoizedState,s===null)return On(i),null;if(f=(i.flags&128)!==0,h=s.rendering,h===null)if(f)sc(s,!1);else{if(hr!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(h=Qr(e),h!==null){for(i.flags|=128,sc(s,!1),e=h.updateQueue,i.updateQueue=e,Yc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Fi(a,e),a=a.sibling;return R(ba,ba.current&1|2),Hi&&vr(i,s.treeForkCount),i.child}e=e.sibling}s.tail!==null&&hi()>Qc&&(i.flags|=128,f=!0,sc(s,!1),i.lanes=4194304)}else{if(!f)if(e=Qr(h),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Yc(i,e),sc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Hi)return On(i),null}else 2*hi()-s.renderingStartTime>Qc&&a!==536870912&&(i.flags|=128,f=!0,sc(s,!1),i.lanes=4194304);s.isBackwards?(h.sibling=i.child,i.child=h):(e=s.last,e!==null?e.sibling=h:i.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hi(),e.sibling=null,a=ba.current,R(ba,f?a&1|2:a&1),Hi&&vr(i,s.treeForkCount),e):(On(i),null);case 22:case 23:return tn(i),Sr(),s=i.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(a&536870912)!==0&&(i.flags&128)===0&&(On(i),i.subtreeFlags&6&&(i.flags|=8192)):On(i),a=i.updateQueue,a!==null&&Yc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048),e!==null&&_(I),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qo(er),On(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function jb(e,i){switch(Ta(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return qo(er),Ie(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return He(i),null;case 31:if(i.memoizedState!==null){if(tn(i),i.alternate===null)throw Error(l(340));el()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(l(340));el()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return _(ba),null;case 4:return Ie(),null;case 10:return qo(i.type),null;case 22:case 23:return tn(i),Sr(),e!==null&&_(I),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return qo(er),null;case 25:return null;default:return null}}function Q0(e,i){switch(Ta(i),i.tag){case 3:qo(er),Ie();break;case 26:case 27:case 5:He(i);break;case 4:Ie();break;case 31:i.memoizedState!==null&&tn(i);break;case 13:tn(i);break;case 19:_(ba);break;case 10:qo(i.type);break;case 22:case 23:tn(i),Sr(),e!==null&&_(I);break;case 24:qo(er)}}function lc(e,i){try{var a=i.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var f=s.next;a=f;do{if((a.tag&e)===e){s=void 0;var h=a.create,N=a.inst;s=h(),N.destroy=s}a=a.next}while(a!==f)}}catch(D){nn(i,i.return,D)}}function Cl(e,i,a){try{var s=i.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var h=f.next;s=h;do{if((s.tag&e)===e){var N=s.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,f=i;var xe=a,Ue=D;try{Ue()}catch(at){nn(f,xe,at)}}}s=s.next}while(s!==h)}}catch(at){nn(i,i.return,at)}}function $0(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{cr(i,a)}catch(s){nn(e,e.return,s)}}}function eh(e,i,a){a.props=$l(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){nn(e,i,s)}}function dc(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(f){nn(e,i,f)}}function Ps(e,i){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(f){nn(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nn(e,i,f)}else a.current=null}function th(e){var i=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(f){nn(e,e.return,f)}}function jf(e,i,a){try{var s=e.stateNode;Ub(s,e.type,a,i),s[sa]=i}catch(f){nn(e,e.return,f)}}function ih(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zl(e.type)||e.tag===4}function Sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Af(e,i,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=io));else if(s!==4&&(s===27&&zl(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Af(e,i,a),e=e.sibling;e!==null;)Af(e,i,a),e=e.sibling}function Xc(e,i,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(s!==4&&(s===27&&zl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xc(e,i,a),e=e.sibling;e!==null;)Xc(e,i,a),e=e.sibling}function ah(e){var i=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);so(i,s,a),i[Xi]=e,i[sa]=a}catch(h){nn(e,e.return,h)}}var sl=!1,zr=!1,wf=!1,nh=typeof WeakSet=="function"?WeakSet:Set,$r=null;function Sb(e,i){if(e=e.containerInfo,Hf=gu,e=sr(e),aa(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var N=0,D=-1,xe=-1,Ue=0,at=0,ct=e,Pe=null;t:for(;;){for(var Ye;ct!==a||f!==0&&ct.nodeType!==3||(D=N+f),ct!==h||s!==0&&ct.nodeType!==3||(xe=N+s),ct.nodeType===3&&(N+=ct.nodeValue.length),(Ye=ct.firstChild)!==null;)Pe=ct,ct=Ye;for(;;){if(ct===e)break t;if(Pe===a&&++Ue===f&&(D=N),Pe===h&&++at===s&&(xe=N),(Ye=ct.nextSibling)!==null)break;ct=Pe,Pe=ct.parentNode}ct=Ye}a=D===-1||xe===-1?null:{start:D,end:xe}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wf={focusedElem:e,selectionRange:a},gu=!1,$r=i;$r!==null;)if(i=$r,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,$r=e;else for(;$r!==null;){switch(i=$r,h=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=i,f=h.memoizedProps,h=h.memoizedState,s=a.stateNode;try{var Qt=$l(a.type,f);e=s.getSnapshotBeforeUpdate(Qt,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Bi){nn(a,a.return,Bi)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Zf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=i.sibling,e!==null){e.return=i.return,$r=e;break}$r=i.return}}function rh(e,i,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:dl(e,a),s&4&&lc(5,a);break;case 1:if(dl(e,a),s&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(N){nn(a,a.return,N)}else{var f=$l(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(N){nn(a,a.return,N)}}s&64&&$0(a),s&512&&dc(a,a.return);break;case 3:if(dl(e,a),s&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cr(e,i)}catch(N){nn(a,a.return,N)}}break;case 27:i===null&&s&4&&ah(a);case 26:case 5:dl(e,a),i===null&&s&4&&th(a),s&512&&dc(a,a.return);break;case 12:dl(e,a);break;case 31:dl(e,a),s&4&&lh(e,a);break;case 13:dl(e,a),s&4&&dh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gb.bind(null,a),Jb(e,a))));break;case 22:if(s=a.memoizedState!==null||sl,!s){i=i!==null&&i.memoizedState!==null||zr,f=sl;var h=zr;sl=s,(zr=i)&&!h?cl(e,a,(a.subtreeFlags&8772)!==0):dl(e,a),sl=f,zr=h}break;case 30:break;default:dl(e,a)}}function oh(e){var i=e.alternate;i!==null&&(e.alternate=null,oh(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wa(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Hn=null,Fo=!1;function ll(e,i,a){for(a=a.child;a!==null;)sh(e,i,a),a=a.sibling}function sh(e,i,a){if(T&&typeof T.onCommitFiberUnmount=="function")try{T.onCommitFiberUnmount($t,a)}catch{}switch(a.tag){case 26:zr||Ps(a,i),ll(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zr||Ps(a,i);var s=Hn,f=Fo;zl(a.type)&&(Hn=a.stateNode,Fo=!1),ll(e,i,a),xc(a.stateNode),Hn=s,Fo=f;break;case 5:zr||Ps(a,i);case 6:if(s=Hn,f=Fo,Hn=null,ll(e,i,a),Hn=s,Fo=f,Hn!==null)if(Fo)try{(Hn.nodeType===9?Hn.body:Hn.nodeName==="HTML"?Hn.ownerDocument.body:Hn).removeChild(a.stateNode)}catch(h){nn(a,i,h)}else try{Hn.removeChild(a.stateNode)}catch(h){nn(a,i,h)}break;case 18:Hn!==null&&(Fo?(e=Hn,$h(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zd(e)):$h(Hn,a.stateNode));break;case 4:s=Hn,f=Fo,Hn=a.stateNode.containerInfo,Fo=!0,ll(e,i,a),Hn=s,Fo=f;break;case 0:case 11:case 14:case 15:Cl(2,a,i),zr||Cl(4,a,i),ll(e,i,a);break;case 1:zr||(Ps(a,i),s=a.stateNode,typeof s.componentWillUnmount=="function"&&eh(a,i,s)),ll(e,i,a);break;case 21:ll(e,i,a);break;case 22:zr=(s=zr)||a.memoizedState!==null,ll(e,i,a),zr=s;break;default:ll(e,i,a)}}function lh(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zd(e)}catch(a){nn(i,i.return,a)}}}function dh(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zd(e)}catch(a){nn(i,i.return,a)}}function Ab(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new nh),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new nh),i;default:throw Error(l(435,e.tag))}}function Zc(e,i){var a=Ab(e);i.forEach(function(s){if(!a.has(s)){a.add(s);var f=Lb.bind(null,e,s);s.then(f,f)}})}function Vo(e,i){var a=i.deletions;if(a!==null)for(var s=0;s<a.length;s++){var f=a[s],h=e,N=i,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(zl(D.type)){Hn=D.stateNode,Fo=!1;break e}break;case 5:Hn=D.stateNode,Fo=!1;break e;case 3:case 4:Hn=D.stateNode.containerInfo,Fo=!0;break e}D=D.return}if(Hn===null)throw Error(l(160));sh(h,N,f),Hn=null,Fo=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ch(i,e),i=i.sibling}var Ns=null;function ch(e,i){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vo(i,e),Do(e),s&4&&(Cl(3,e,e.return),lc(3,e),Cl(5,e,e.return));break;case 1:Vo(i,e),Do(e),s&512&&(zr||a===null||Ps(a,a.return)),s&64&&sl&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var f=Ns;if(Vo(i,e),Do(e),s&512&&(zr||a===null||Ps(a,a.return)),s&4){var h=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":h=f.getElementsByTagName("title")[0],(!h||h[sn]||h[Xi]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(s),f.head.insertBefore(h,f.querySelector("head > title"))),so(h,s,a),h[Xi]=e,ka(h),s=h;break e;case"link":var N=c1("link","href",f).get(s+(a.href||""));if(N){for(var D=0;D<N.length;D++)if(h=N[D],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){N.splice(D,1);break t}}h=f.createElement(s),so(h,s,a),f.head.appendChild(h);break;case"meta":if(N=c1("meta","content",f).get(s+(a.content||""))){for(D=0;D<N.length;D++)if(h=N[D],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){N.splice(D,1);break t}}h=f.createElement(s),so(h,s,a),f.head.appendChild(h);break;default:throw Error(l(468,s))}h[Xi]=e,ka(h),s=h}e.stateNode=s}else u1(f,e.type,e.stateNode);else e.stateNode=d1(f,s,e.memoizedProps);else h!==s?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,s===null?u1(f,e.type,e.stateNode):d1(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Vo(i,e),Do(e),s&512&&(zr||a===null||Ps(a,a.return)),a!==null&&s&4&&jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Vo(i,e),Do(e),s&512&&(zr||a===null||Ps(a,a.return)),e.flags&32){f=e.stateNode;try{Mi(f,"")}catch(Qt){nn(e,e.return,Qt)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,jf(e,f,a!==null?a.memoizedProps:f)),s&1024&&(wf=!0);break;case 6:if(Vo(i,e),Do(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(Qt){nn(e,e.return,Qt)}}break;case 3:if(uu=null,f=Ns,Ns=du(i.containerInfo),Vo(i,e),Ns=f,Do(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{zd(i.containerInfo)}catch(Qt){nn(e,e.return,Qt)}wf&&(wf=!1,uh(e));break;case 4:s=Ns,Ns=du(e.stateNode.containerInfo),Vo(i,e),Do(e),Ns=s;break;case 12:Vo(i,e),Do(e);break;case 31:Vo(i,e),Do(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zc(e,s)));break;case 13:Vo(i,e),Do(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jc=hi()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zc(e,s)));break;case 22:f=e.memoizedState!==null;var xe=a!==null&&a.memoizedState!==null,Ue=sl,at=zr;if(sl=Ue||f,zr=at||xe,Vo(i,e),zr=at,sl=Ue,Do(e),s&8192)e:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||xe||sl||zr||ed(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){xe=a=i;try{if(h=xe.stateNode,f)N=h.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=xe.stateNode;var ct=xe.memoizedProps.style,Pe=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;D.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Qt){nn(xe,xe.return,Qt)}}}else if(i.tag===6){if(a===null){xe=i;try{xe.stateNode.nodeValue=f?"":xe.memoizedProps}catch(Qt){nn(xe,xe.return,Qt)}}}else if(i.tag===18){if(a===null){xe=i;try{var Ye=xe.stateNode;f?e1(Ye,!0):e1(xe.stateNode,!1)}catch(Qt){nn(xe,xe.return,Qt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Zc(e,a))));break;case 19:Vo(i,e),Do(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zc(e,s)));break;case 30:break;case 21:break;default:Vo(i,e),Do(e)}}function Do(e){var i=e.flags;if(i&2){try{for(var a,s=e.return;s!==null;){if(ih(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var f=a.stateNode,h=Sf(e);Xc(e,h,f);break;case 5:var N=a.stateNode;a.flags&32&&(Mi(N,""),a.flags&=-33);var D=Sf(e);Xc(e,D,N);break;case 3:case 4:var xe=a.stateNode.containerInfo,Ue=Sf(e);Af(e,Ue,xe);break;default:throw Error(l(161))}}catch(at){nn(e,e.return,at)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function uh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;uh(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function dl(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rh(e,i.alternate,i),i=i.sibling}function ed(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cl(4,i,i.return),ed(i);break;case 1:Ps(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&eh(i,i.return,a),ed(i);break;case 27:xc(i.stateNode);case 26:case 5:Ps(i,i.return),ed(i);break;case 22:i.memoizedState===null&&ed(i);break;case 30:ed(i);break;default:ed(i)}e=e.sibling}}function cl(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,f=e,h=i,N=h.flags;switch(h.tag){case 0:case 11:case 15:cl(f,h,a),lc(4,h);break;case 1:if(cl(f,h,a),s=h,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Ue){nn(s,s.return,Ue)}if(s=h,f=s.updateQueue,f!==null){var D=s.stateNode;try{var xe=f.shared.hiddenCallbacks;if(xe!==null)for(f.shared.hiddenCallbacks=null,f=0;f<xe.length;f++)Jr(xe[f],D)}catch(Ue){nn(s,s.return,Ue)}}a&&N&64&&$0(h),dc(h,h.return);break;case 27:ah(h);case 26:case 5:cl(f,h,a),a&&s===null&&N&4&&th(h),dc(h,h.return);break;case 12:cl(f,h,a);break;case 31:cl(f,h,a),a&&N&4&&lh(f,h);break;case 13:cl(f,h,a),a&&N&4&&dh(f,h);break;case 22:h.memoizedState===null&&cl(f,h,a),dc(h,h.return);break;case 30:break;default:cl(f,h,a)}i=i.sibling}}function _f(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Zl(a))}function Nf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Zl(e))}function Cs(e,i,a,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fh(e,i,a,s),i=i.sibling}function fh(e,i,a,s){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Cs(e,i,a,s),f&2048&&lc(9,i);break;case 1:Cs(e,i,a,s);break;case 3:Cs(e,i,a,s),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Zl(e)));break;case 12:if(f&2048){Cs(e,i,a,s),e=i.stateNode;try{var h=i.memoizedProps,N=h.id,D=h.onPostCommit;typeof D=="function"&&D(N,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(xe){nn(i,i.return,xe)}}else Cs(e,i,a,s);break;case 31:Cs(e,i,a,s);break;case 13:Cs(e,i,a,s);break;case 23:break;case 22:h=i.stateNode,N=i.alternate,i.memoizedState!==null?h._visibility&2?Cs(e,i,a,s):cc(e,i):h._visibility&2?Cs(e,i,a,s):(h._visibility|=2,Ad(e,i,a,s,(i.subtreeFlags&10256)!==0||!1)),f&2048&&_f(N,i);break;case 24:Cs(e,i,a,s),f&2048&&Nf(i.alternate,i);break;default:Cs(e,i,a,s)}}function Ad(e,i,a,s,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=e,N=i,D=a,xe=s,Ue=N.flags;switch(N.tag){case 0:case 11:case 15:Ad(h,N,D,xe,f),lc(8,N);break;case 23:break;case 22:var at=N.stateNode;N.memoizedState!==null?at._visibility&2?Ad(h,N,D,xe,f):cc(h,N):(at._visibility|=2,Ad(h,N,D,xe,f)),f&&Ue&2048&&_f(N.alternate,N);break;case 24:Ad(h,N,D,xe,f),f&&Ue&2048&&Nf(N.alternate,N);break;default:Ad(h,N,D,xe,f)}i=i.sibling}}function cc(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,s=i,f=s.flags;switch(s.tag){case 22:cc(a,s),f&2048&&_f(s.alternate,s);break;case 24:cc(a,s),f&2048&&Nf(s.alternate,s);break;default:cc(a,s)}i=i.sibling}}var uc=8192;function wd(e,i,a){if(e.subtreeFlags&uc)for(e=e.child;e!==null;)ph(e,i,a),e=e.sibling}function ph(e,i,a){switch(e.tag){case 26:wd(e,i,a),e.flags&uc&&e.memoizedState!==null&&d2(a,Ns,e.memoizedState,e.memoizedProps);break;case 5:wd(e,i,a);break;case 3:case 4:var s=Ns;Ns=du(e.stateNode.containerInfo),wd(e,i,a),Ns=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=uc,uc=16777216,wd(e,i,a),uc=s):wd(e,i,a));break;default:wd(e,i,a)}}function hh(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];$r=s,mh(s,e)}hh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gh(e),e=e.sibling}function gh(e){switch(e.tag){case 0:case 11:case 15:fc(e),e.flags&2048&&Cl(9,e,e.return);break;case 3:fc(e);break;case 12:fc(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Kc(e)):fc(e);break;default:fc(e)}}function Kc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];$r=s,mh(s,e)}hh(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cl(8,i,i.return),Kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Kc(i));break;default:Kc(i)}e=e.sibling}}function mh(e,i){for(;$r!==null;){var a=$r;switch(a.tag){case 0:case 11:case 15:Cl(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Zl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,$r=s;else e:for(a=e;$r!==null;){s=$r;var f=s.sibling,h=s.return;if(oh(s),s===a){$r=null;break e}if(f!==null){f.return=h,$r=f;break e}$r=h}}}var wb={getCacheForType:function(e){var i=Pr(er),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Pr(er).controller.signal}},_b=typeof WeakMap=="function"?WeakMap:Map,Pa=0,Sn=null,ca=null,ha=0,an=0,Jo=null,Bl=!1,_d=!1,Cf=!1,ul=0,hr=0,kl=0,td=0,Bf=0,Qo=0,Nd=0,pc=null,Uo=null,kf=!1,Jc=0,bh=0,Qc=1/0,$c=null,Ml=null,Wr=0,Gl=null,Cd=null,fl=0,Mf=0,Gf=null,xh=null,hc=0,Lf=null;function $o(){return(Pa&2)!==0&&ha!==0?ha&-ha:K.T!==null?qf():qa()}function yh(){if(Qo===0)if((ha&536870912)===0||Hi){var e=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),Qo=e}else Qo=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Qo}function Po(e,i,a){(e===Sn&&(an===2||an===9)||e.cancelPendingCommit!==null)&&(Bd(e,0),Ll(e,ha,Qo,!1)),Ut(e,a),((Pa&2)===0||e!==Sn)&&(e===Sn&&((Pa&2)===0&&(td|=a),hr===4&&Ll(e,ha,Qo,!1)),Hs(e))}function vh(e,i,a){if((Pa&6)!==0)throw Error(l(327));var s=!a&&(i&127)===0&&(i&e.expiredLanes)===0||on(e,i),f=s?Bb(e,i):zf(e,i,!0),h=s;do{if(f===0){_d&&!s&&Ll(e,i,0,!1);break}else{if(a=e.current.alternate,h&&!Nb(a)){f=zf(e,i,!1),h=!1;continue}if(f===2){if(h=i,e.errorRecoveryDisabledLanes&h)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var D=e;f=pc;var xe=D.current.memoizedState.isDehydrated;if(xe&&(Bd(D,N).flags|=256),N=zf(D,N,!1),N!==2){if(Cf&&!xe){D.errorRecoveryDisabledLanes|=h,td|=h,f=4;break e}h=Uo,Uo=f,h!==null&&(Uo===null?Uo=h:Uo.push.apply(Uo,h))}f=N}if(h=!1,f!==2)continue}}if(f===1){Bd(e,0),Ll(e,i,0,!0);break}e:{switch(s=e,h=f,h){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Ll(s,i,Qo,!Bl);break e;case 2:Uo=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(f=Jc+300-hi(),10<f)){if(Ll(s,i,Qo,!Bl),ci(s,0,!0)!==0)break e;fl=i,s.timeoutHandle=Jh(jh.bind(null,s,a,Uo,$c,kf,i,Qo,td,Nd,Bl,h,"Throttled",-0,0),f);break e}jh(s,a,Uo,$c,kf,i,Qo,td,Nd,Bl,h,null,-0,0)}}break}while(!0);Hs(e)}function jh(e,i,a,s,f,h,N,D,xe,Ue,at,ct,Pe,Ye){if(e.timeoutHandle=-1,ct=i.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:io},ph(i,h,ct);var Qt=(h&62914560)===h?Jc-hi():(h&4194048)===h?bh-hi():0;if(Qt=c2(ct,Qt),Qt!==null){fl=h,e.cancelPendingCommit=Qt(kh.bind(null,e,i,h,a,s,f,N,D,xe,at,ct,null,Pe,Ye)),Ll(e,h,N,!Ue);return}}kh(e,i,h,a,s,f,N,D,xe)}function Nb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var f=a[s],h=f.getSnapshot;f=f.value;try{if(!Fn(h(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ll(e,i,a,s){i&=~Bf,i&=~td,e.suspendedLanes|=i,e.pingedLanes&=~i,s&&(e.warmLanes|=i),s=e.expirationTimes;for(var f=i;0<f;){var h=31-nt(f),N=1<<h;s[h]=-1,f&=~N}a!==0&&mt(e,a,i)}function eu(){return(Pa&6)===0?(gc(0),!1):!0}function Tf(){if(ca!==null){if(an===0)var e=ca.return;else e=ca,ss=Rs=null,md(e),ft=null,ei=0,e=ca;for(;e!==null;)Q0(e.alternate,e),e=e.return;ca=null}}function Bd(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fl=0,Tf(),Sn=e,ca=a=Ii(e.current,null),ha=i,an=0,Jo=null,Bl=!1,_d=on(e,i),Cf=!1,Nd=Qo=Bf=td=kl=hr=0,Uo=pc=null,kf=!1,(i&8)!==0&&(i|=i&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=i;0<s;){var f=31-nt(s),h=1<<f;i|=e[f],s&=~h}return ul=i,oe(),a}function Sh(e,i){mi=null,K.H=rc,i===Se||i===ee?(i=rt(),an=3):i===Ve?(i=rt(),an=4):an=i===uf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Jo=i,ca===null&&(hr=1,Uc(e,oi(i,e.current)))}function Ah(){var e=Rn.current;return e===null?!0:(ha&4194048)===ha?Sa===null:(ha&62914560)===ha||(ha&536870912)!==0?e===Sa:!1}function wh(){var e=K.H;return K.H=rc,e===null?rc:e}function _h(){var e=K.A;return K.A=wb,e}function tu(){hr=4,Bl||(ha&4194048)!==ha&&Rn.current!==null||(_d=!0),(kl&134217727)===0&&(td&134217727)===0||Sn===null||Ll(Sn,ha,Qo,!1)}function zf(e,i,a){var s=Pa;Pa|=2;var f=wh(),h=_h();(Sn!==e||ha!==i)&&($c=null,Bd(e,i)),i=!1;var N=hr;e:do try{if(an!==0&&ca!==null){var D=ca,xe=Jo;switch(an){case 8:Tf(),N=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var Ue=an;if(an=0,Jo=null,kd(e,D,xe,Ue),a&&_d){N=0;break e}break;default:Ue=an,an=0,Jo=null,kd(e,D,xe,Ue)}}Cb(),N=hr;break}catch(at){Sh(e,at)}while(!0);return i&&e.shellSuspendCounter++,ss=Rs=null,Pa=s,K.H=f,K.A=h,ca===null&&(Sn=null,ha=0,oe()),N}function Cb(){for(;ca!==null;)Nh(ca)}function Bb(e,i){var a=Pa;Pa|=2;var s=wh(),f=_h();Sn!==e||ha!==i?($c=null,Qc=hi()+500,Bd(e,i)):_d=on(e,i);e:do try{if(an!==0&&ca!==null){i=ca;var h=Jo;t:switch(an){case 1:an=0,Jo=null,kd(e,i,h,1);break;case 2:case 9:if(Ee(h)){an=0,Jo=null,Ch(i);break}i=function(){an!==2&&an!==9||Sn!==e||(an=7),Hs(e)},h.then(i,i);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:Ee(h)?(an=0,Jo=null,Ch(i)):(an=0,Jo=null,kd(e,i,h,7));break;case 5:var N=null;switch(ca.tag){case 26:N=ca.memoizedState;case 5:case 27:var D=ca;if(N?f1(N):D.stateNode.complete){an=0,Jo=null;var xe=D.sibling;if(xe!==null)ca=xe;else{var Ue=D.return;Ue!==null?(ca=Ue,iu(Ue)):ca=null}break t}}an=0,Jo=null,kd(e,i,h,5);break;case 6:an=0,Jo=null,kd(e,i,h,6);break;case 8:Tf(),hr=6;break e;default:throw Error(l(462))}}kb();break}catch(at){Sh(e,at)}while(!0);return ss=Rs=null,K.H=s,K.A=f,Pa=a,ca!==null?0:(Sn=null,ha=0,oe(),hr)}function kb(){for(;ca!==null&&!Mt();)Nh(ca)}function Nh(e){var i=K0(e.alternate,e,ul);e.memoizedProps=e.pendingProps,i===null?iu(e):ca=i}function Ch(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=P0(a,i,i.pendingProps,i.type,void 0,ha);break;case 11:i=P0(a,i,i.pendingProps,i.type.render,i.ref,ha);break;case 5:md(i);default:Q0(a,i),i=ca=Fi(i,ul),i=K0(a,i,ul)}e.memoizedProps=e.pendingProps,i===null?iu(e):ca=i}function kd(e,i,a,s){ss=Rs=null,md(i),ft=null,ei=0;var f=i.return;try{if(bb(e,f,i,a,ha)){hr=1,Uc(e,oi(a,e.current)),ca=null;return}}catch(h){if(f!==null)throw ca=f,h;hr=1,Uc(e,oi(a,e.current)),ca=null;return}i.flags&32768?(Hi||s===1?e=!0:_d||(ha&536870912)!==0?e=!1:(Bl=e=!0,(s===2||s===9||s===3||s===6)&&(s=Rn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Bh(i,e)):iu(i)}function iu(e){var i=e;do{if((i.flags&32768)!==0){Bh(i,Bl);return}e=i.return;var a=vb(i.alternate,i,ul);if(a!==null){ca=a;return}if(i=i.sibling,i!==null){ca=i;return}ca=i=e}while(i!==null);hr===0&&(hr=5)}function Bh(e,i){do{var a=jb(e.alternate,e);if(a!==null){a.flags&=32767,ca=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){ca=e;return}ca=e=a}while(e!==null);hr=6,ca=null}function kh(e,i,a,s,f,h,N,D,xe){e.cancelPendingCommit=null;do au();while(Wr!==0);if((Pa&6)!==0)throw Error(l(327));if(i!==null){if(i===e.current)throw Error(l(177));if(h=i.lanes|i.childLanes,h|=pe,gn(e,a,h,N,D,xe),e===Sn&&(ca=Sn=null,ha=0),Cd=i,Gl=e,fl=a,Mf=h,Gf=f,xh=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Tb(ui,function(){return zh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null,f=fe.p,fe.p=2,N=Pa,Pa|=4;try{Sb(e,i,a)}finally{Pa=N,fe.p=f,K.T=s}}Wr=1,Mh(),Gh(),Lh()}}function Mh(){if(Wr===1){Wr=0;var e=Gl,i=Cd,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var s=fe.p;fe.p=2;var f=Pa;Pa|=4;try{ch(i,e);var h=Wf,N=sr(e.containerInfo),D=h.focusedElem,xe=h.selectionRange;if(N!==D&&D&&D.ownerDocument&&no(D.ownerDocument.documentElement,D)){if(xe!==null&&aa(D)){var Ue=xe.start,at=xe.end;if(at===void 0&&(at=Ue),"selectionStart"in D)D.selectionStart=Ue,D.selectionEnd=Math.min(at,D.value.length);else{var ct=D.ownerDocument||document,Pe=ct&&ct.defaultView||window;if(Pe.getSelection){var Ye=Pe.getSelection(),Qt=D.textContent.length,Bi=Math.min(xe.start,Qt),hn=xe.end===void 0?Bi:Math.min(xe.end,Qt);!Ye.extend&&Bi>hn&&(N=hn,hn=Bi,Bi=N);var Te=Ir(D,Bi),we=Ir(D,hn);if(Te&&we&&(Ye.rangeCount!==1||Ye.anchorNode!==Te.node||Ye.anchorOffset!==Te.offset||Ye.focusNode!==we.node||Ye.focusOffset!==we.offset)){var De=ct.createRange();De.setStart(Te.node,Te.offset),Ye.removeAllRanges(),Bi>hn?(Ye.addRange(De),Ye.extend(we.node,we.offset)):(De.setEnd(we.node,we.offset),Ye.addRange(De))}}}}for(ct=[],Ye=D;Ye=Ye.parentNode;)Ye.nodeType===1&&ct.push({element:Ye,left:Ye.scrollLeft,top:Ye.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ct.length;D++){var st=ct[D];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}gu=!!Hf,Wf=Hf=null}finally{Pa=f,fe.p=s,K.T=a}}e.current=i,Wr=2}}function Gh(){if(Wr===2){Wr=0;var e=Gl,i=Cd,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var s=fe.p;fe.p=2;var f=Pa;Pa|=4;try{rh(e,i.alternate,i)}finally{Pa=f,fe.p=s,K.T=a}}Wr=3}}function Lh(){if(Wr===4||Wr===3){Wr=0,Ct();var e=Gl,i=Cd,a=fl,s=xh;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wr=5:(Wr=0,Cd=Gl=null,Th(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ml=null),Qa(a),i=i.stateNode,T&&typeof T.onCommitFiberRoot=="function")try{T.onCommitFiberRoot($t,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=K.T,f=fe.p,fe.p=2,K.T=null;try{for(var h=e.onRecoverableError,N=0;N<s.length;N++){var D=s[N];h(D.value,{componentStack:D.stack})}}finally{K.T=i,fe.p=f}}(fl&3)!==0&&au(),Hs(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Lf?hc++:(hc=0,Lf=e):hc=0,gc(0)}}function Th(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Zl(i)))}function au(){return Mh(),Gh(),Lh(),zh()}function zh(){if(Wr!==5)return!1;var e=Gl,i=Mf;Mf=0;var a=Qa(fl),s=K.T,f=fe.p;try{fe.p=32>a?32:a,K.T=null,a=Gf,Gf=null;var h=Gl,N=fl;if(Wr=0,Cd=Gl=null,fl=0,(Pa&6)!==0)throw Error(l(331));var D=Pa;if(Pa|=4,gh(h.current),fh(h,h.current,N,a),Pa=D,gc(0,!1),T&&typeof T.onPostCommitFiberRoot=="function")try{T.onPostCommitFiberRoot($t,h)}catch{}return!0}finally{fe.p=f,K.T=s,Th(e,i)}}function Eh(e,i,a){i=oi(a,i),i=cf(e.stateNode,i,2),e=Wi(e,i,2),e!==null&&(Ut(e,2),Hs(e))}function nn(e,i,a){if(e.tag===3)Eh(e,e,a);else for(;i!==null;){if(i.tag===3){Eh(i,e,a);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ml===null||!Ml.has(s))){e=oi(a,e),a=R0(2),s=Wi(i,a,2),s!==null&&(O0(a,s,i,e),Ut(s,2),Hs(s));break}}i=i.return}}function Ef(e,i,a){var s=e.pingCache;if(s===null){s=e.pingCache=new _b;var f=new Set;s.set(i,f)}else f=s.get(i),f===void 0&&(f=new Set,s.set(i,f));f.has(a)||(Cf=!0,f.add(a),e=Mb.bind(null,e,i,a),i.then(e,e))}function Mb(e,i,a){var s=e.pingCache;s!==null&&s.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Sn===e&&(ha&a)===a&&(hr===4||hr===3&&(ha&62914560)===ha&&300>hi()-Jc?(Pa&2)===0&&Bd(e,0):Bf|=a,Nd===ha&&(Nd=0)),Hs(e)}function Rh(e,i){i===0&&(i=Oa()),e=Be(e,i),e!==null&&(Ut(e,i),Hs(e))}function Gb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Rh(e,a)}function Lb(e,i){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(i),Rh(e,a)}function Tb(e,i){return Kt(e,i)}var nu=null,Md=null,Rf=!1,ru=!1,Of=!1,Tl=0;function Hs(e){e!==Md&&e.next===null&&(Md===null?nu=Md=e:Md=Md.next=e),ru=!0,Rf||(Rf=!0,Eb())}function gc(e,i){if(!Of&&ru){Of=!0;do for(var a=!1,s=nu;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var h=0;else{var N=s.suspendedLanes,D=s.pingedLanes;h=(1<<31-nt(42|e)+1)-1,h&=f&~(N&~D),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Fh(s,h))}else h=ha,h=ci(s,s===Sn?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||on(s,h)||(a=!0,Fh(s,h));s=s.next}while(a);Of=!1}}function zb(){Oh()}function Oh(){ru=Rf=!1;var e=0;Tl!==0&&Hb()&&(e=Tl);for(var i=hi(),a=null,s=nu;s!==null;){var f=s.next,h=qh(s,i);h===0?(s.next=null,a===null?nu=f:a.next=f,f===null&&(Md=a)):(a=s,(e!==0||(h&3)!==0)&&(ru=!0)),s=f}Wr!==0&&Wr!==5||gc(e),Tl!==0&&(Tl=0)}function qh(e,i){for(var a=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var N=31-nt(h),D=1<<N,xe=f[N];xe===-1?((D&a)===0||(D&s)!==0)&&(f[N]=ia(D,i)):xe<=i&&(e.expiredLanes|=D),h&=~D}if(i=Sn,a=ha,a=ci(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===i&&(an===2||an===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&zt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||on(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(s!==null&&zt(s),Qa(a)){case 2:case 8:a=Oi;break;case 32:a=ui;break;case 268435456:a=si;break;default:a=ui}return s=Ih.bind(null,e),a=Kt(a,s),e.callbackPriority=i,e.callbackNode=a,i}return s!==null&&s!==null&&zt(s),e.callbackPriority=2,e.callbackNode=null,2}function Ih(e,i){if(Wr!==0&&Wr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(au()&&e.callbackNode!==a)return null;var s=ha;return s=ci(e,e===Sn?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(vh(e,s,i),qh(e,hi()),e.callbackNode!=null&&e.callbackNode===a?Ih.bind(null,e):null)}function Fh(e,i){if(au())return null;vh(e,i,!0)}function Eb(){Yb(function(){(Pa&6)!==0?Kt(ai,zb):Oh()})}function qf(){if(Tl===0){var e=c;e===0&&(e=At,At<<=1,(At&261888)===0&&(At=256)),Tl=e}return Tl}function Vh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wn(""+e)}function Dh(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Rb(e,i,a,s,f){if(i==="submit"&&a&&a.stateNode===f){var h=Vh((f[sa]||null).action),N=s.submitter;N&&(i=(i=N[sa]||null)?Vh(i.formAction):N.getAttribute("formAction"),i!==null&&(h=i,N=null));var D=new Er("action","action",null,s,f);e.push({event:D,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Tl!==0){var xe=N?Dh(f,N):new FormData(f);nf(a,{pending:!0,data:xe,method:f.method,action:h},null,xe)}}else typeof h=="function"&&(D.preventDefault(),xe=N?Dh(f,N):new FormData(f),nf(a,{pending:!0,data:xe,method:f.method,action:h},h,xe))},currentTarget:f}]})}}for(var If=0;If<vs.length;If++){var Ff=vs[If],Ob=Ff.toLowerCase(),qb=Ff[0].toUpperCase()+Ff.slice(1);Kr(Ob,"on"+qb)}Kr(ys,"onAnimationEnd"),Kr(Es,"onAnimationIteration"),Kr(Wl,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(dd,"onTransitionRun"),Kr(xl,"onTransitionStart"),Kr(Yl,"onTransitionCancel"),Kr(Qs,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function Uh(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],f=s.event;s=s.listeners;e:{var h=void 0;if(i)for(var N=s.length-1;0<=N;N--){var D=s[N],xe=D.instance,Ue=D.currentTarget;if(D=D.listener,xe!==h&&f.isPropagationStopped())break e;h=D,f.currentTarget=Ue;try{h(f)}catch(at){g(at)}f.currentTarget=null,h=xe}else for(N=0;N<s.length;N++){if(D=s[N],xe=D.instance,Ue=D.currentTarget,D=D.listener,xe!==h&&f.isPropagationStopped())break e;h=D,f.currentTarget=Ue;try{h(f)}catch(at){g(at)}f.currentTarget=null,h=xe}}}}function ua(e,i){var a=i[St];a===void 0&&(a=i[St]=new Set);var s=e+"__bubble";a.has(s)||(Ph(i,e,2,!1),a.add(s))}function Vf(e,i,a){var s=0;i&&(s|=4),Ph(a,e,s,i)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Df(e){if(!e[ou]){e[ou]=!0,Ze.forEach(function(a){a!=="selectionchange"&&(Ib.has(a)||Vf(a,!1,e),Vf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ou]||(i[ou]=!0,Vf("selectionchange",!1,i))}}function Ph(e,i,a,s){switch(y1(i)){case 2:var f=p2;break;case 8:f=h2;break;default:f=ap}a=f.bind(null,i,a,e),f=void 0,!ra||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function Uf(e,i,a,s,f){var h=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var N=s.tag;if(N===3||N===4){var D=s.stateNode.containerInfo;if(D===f)break;if(N===4)for(N=s.return;N!==null;){var xe=N.tag;if((xe===3||xe===4)&&N.stateNode.containerInfo===f)return;N=N.return}for(;D!==null;){if(N=Xn(D),N===null)return;if(xe=N.tag,xe===5||xe===6||xe===26||xe===27){s=h=N;continue e}D=D.parentNode}}s=s.return}Ti(function(){var Ue=h,at=di(a),ct=[];e:{var Pe=yl.get(e);if(Pe!==void 0){var Ye=Er,Qt=e;switch(e){case"keypress":if(kn(a)===0)break e;case"keydown":case"keyup":Ye=la;break;case"focusin":Qt="focus",Ye=Ao;break;case"focusout":Qt="blur",Ye=Ao;break;case"beforeblur":case"afterblur":Ye=Ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=Ln;break;case ys:case Es:case Wl:Ye=v;break;case Qs:Ye=kr;break;case"scroll":case"scrollend":Ye=vn;break;case"wheel":Ye=wo;break;case"copy":case"cut":case"paste":Ye=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=Gn;break;case"toggle":case"beforetoggle":Ye=lo}var Bi=(i&4)!==0,hn=!Bi&&(e==="scroll"||e==="scrollend"),Te=Bi?Pe!==null?Pe+"Capture":null:Pe;Bi=[];for(var we=Ue,De;we!==null;){var st=we;if(De=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||De===null||Te===null||(st=na(we,Te),st!=null&&Bi.push(bc(we,st,De))),hn)break;we=we.return}0<Bi.length&&(Pe=new Ye(Pe,Qt,null,a,at),ct.push({event:Pe,listeners:Bi}))}}if((i&7)===0){e:{if(Pe=e==="mouseover"||e==="pointerover",Ye=e==="mouseout"||e==="pointerout",Pe&&a!==Fe&&(Qt=a.relatedTarget||a.fromElement)&&(Xn(Qt)||Qt[wa]))break e;if((Ye||Pe)&&(Pe=at.window===at?at:(Pe=at.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Ye?(Qt=a.relatedTarget||a.toElement,Ye=Ue,Qt=Qt?Xn(Qt):null,Qt!==null&&(hn=u(Qt),Bi=Qt.tag,Qt!==hn||Bi!==5&&Bi!==27&&Bi!==6)&&(Qt=null)):(Ye=null,Qt=Ue),Ye!==Qt)){if(Bi=nr,st="onMouseLeave",Te="onMouseEnter",we="mouse",(e==="pointerout"||e==="pointerover")&&(Bi=Gn,st="onPointerLeave",Te="onPointerEnter",we="pointer"),hn=Ye==null?Pe:ya(Ye),De=Qt==null?Pe:ya(Qt),Pe=new Bi(st,we+"leave",Ye,a,at),Pe.target=hn,Pe.relatedTarget=De,st=null,Xn(at)===Ue&&(Bi=new Bi(Te,we+"enter",Qt,a,at),Bi.target=De,Bi.relatedTarget=hn,st=Bi),hn=st,Ye&&Qt)t:{for(Bi=Fb,Te=Ye,we=Qt,De=0,st=Te;st;st=Bi(st))De++;st=0;for(var yi=we;yi;yi=Bi(yi))st++;for(;0<De-st;)Te=Bi(Te),De--;for(;0<st-De;)we=Bi(we),st--;for(;De--;){if(Te===we||we!==null&&Te===we.alternate){Bi=Te;break t}Te=Bi(Te),we=Bi(we)}Bi=null}else Bi=null;Ye!==null&&Hh(ct,Pe,Ye,Bi,!1),Qt!==null&&hn!==null&&Hh(ct,hn,Qt,Bi,!0)}}e:{if(Pe=Ue?ya(Ue):window,Ye=Pe.nodeName&&Pe.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Pe.type==="file")var za=_o;else if(Js(Pe))if(Mr)za=ho;else{za=dn;var li=rs}else Ye=Pe.nodeName,!Ye||Ye.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Ue&&Ia(Ue.elementType)&&(za=_o):za=xs;if(za&&(za=za(e,Ue))){Kn(ct,za,a,at);break e}li&&li(e,Pe,Ue),e==="focusout"&&Ue&&Pe.type==="number"&&Ue.memoizedProps.value!=null&&xn(Pe,"number",Pe.value)}switch(li=Ue?ya(Ue):window,e){case"focusin":(Js(li)||li.contentEditable==="true")&&(Nn=li,Ro=Ue,en=null);break;case"focusout":en=Ro=Nn=null;break;case"mousedown":Fr=!0;break;case"contextmenu":case"mouseup":case"dragend":Fr=!1,qi(ct,a,at);break;case"selectionchange":if(os)break;case"keydown":case"keyup":qi(ct,a,at)}var $i;if(co)e:{switch(e){case"compositionstart":var ga="onCompositionStart";break e;case"compositionend":ga="onCompositionEnd";break e;case"compositionupdate":ga="onCompositionUpdate";break e}ga=void 0}else To?ns(e,a)&&(ga="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ga="onCompositionStart");ga&&(Zo&&a.locale!=="ko"&&(To||ga!=="onCompositionStart"?ga==="onCompositionEnd"&&To&&($i=$a()):(ma=at,yn="value"in ma?ma.value:ma.textContent,To=!0)),li=su(Ue,ga),0<li.length&&(ga=new Ge(ga,e,null,a,at),ct.push({event:ga,listeners:li}),$i?ga.data=$i:($i=Lo(a),$i!==null&&(ga.data=$i)))),($i=gs?xr(e,a):Ko(e,a))&&(ga=su(Ue,"onBeforeInput"),0<ga.length&&(li=new Ge("onBeforeInput","beforeinput",null,a,at),ct.push({event:li,listeners:ga}),li.data=$i)),Rb(ct,e,Ue,a,at)}Uh(ct,i)})}function bc(e,i,a){return{instance:e,listener:i,currentTarget:a}}function su(e,i){for(var a=i+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=na(e,a),f!=null&&s.unshift(bc(e,f,h)),f=na(e,i),f!=null&&s.push(bc(e,f,h))),e.tag===3)return s;e=e.return}return[]}function Fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hh(e,i,a,s,f){for(var h=i._reactName,N=[];a!==null&&a!==s;){var D=a,xe=D.alternate,Ue=D.stateNode;if(D=D.tag,xe!==null&&xe===s)break;D!==5&&D!==26&&D!==27||Ue===null||(xe=Ue,f?(Ue=na(a,h),Ue!=null&&N.unshift(bc(a,Ue,xe))):f||(Ue=na(a,h),Ue!=null&&N.push(bc(a,Ue,xe)))),a=a.return}N.length!==0&&e.push({event:i,listeners:N})}var Vb=/\r\n?/g,Db=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(Db,"")}function Yh(e,i){return i=Wh(i),Wh(e)===i}function pn(e,i,a,s,f,h){switch(a){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||Mi(e,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&Mi(e,""+s);break;case"className":ot(e,"class",s);break;case"tabIndex":ot(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ot(e,a,s);break;case"style":ir(e,s,h);break;case"data":if(i!=="object"){ot(e,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=wn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&pn(e,i,"name",f.name,f,null),pn(e,i,"formEncType",f.formEncType,f,null),pn(e,i,"formMethod",f.formMethod,f,null),pn(e,i,"formTarget",f.formTarget,f,null)):(pn(e,i,"encType",f.encType,f,null),pn(e,i,"method",f.method,f,null),pn(e,i,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=wn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=io);break;case"onScroll":s!=null&&ua("scroll",e);break;case"onScrollEnd":s!=null&&ua("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=wn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ua("beforetoggle",e),ua("toggle",e),Oe(e,"popover",s);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Oe(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hs.get(a)||a,Oe(e,a,s))}}function Pf(e,i,a,s,f,h){switch(a){case"style":ir(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Mi(e,s):(typeof s=="number"||typeof s=="bigint")&&Mi(e,""+s);break;case"onScroll":s!=null&&ua("scroll",e);break;case"onScrollEnd":s!=null&&ua("scrollend",e);break;case"onClick":s!=null&&(e.onclick=io);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),h=e[sa]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(i,h,f),typeof s=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,s,f);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Oe(e,a,s)}}}function so(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ua("error",e),ua("load",e);var s=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var N=a[h];if(N!=null)switch(h){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:pn(e,i,h,N,a,null)}}f&&pn(e,i,"srcSet",a.srcSet,a,null),s&&pn(e,i,"src",a.src,a,null);return;case"input":ua("invalid",e);var D=h=N=f=null,xe=null,Ue=null;for(s in a)if(a.hasOwnProperty(s)){var at=a[s];if(at!=null)switch(s){case"name":f=at;break;case"type":N=at;break;case"checked":xe=at;break;case"defaultChecked":Ue=at;break;case"value":h=at;break;case"defaultValue":D=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(l(137,i));break;default:pn(e,i,s,at,a,null)}}Ji(e,h,D,xe,Ue,N,f,!1);return;case"select":ua("invalid",e),s=N=h=null;for(f in a)if(a.hasOwnProperty(f)&&(D=a[f],D!=null))switch(f){case"value":h=D;break;case"defaultValue":N=D;break;case"multiple":s=D;default:pn(e,i,f,D,a,null)}i=h,a=N,e.multiple=!!s,i!=null?fa(e,!!s,i,!1):a!=null&&fa(e,!!s,a,!0);return;case"textarea":ua("invalid",e),h=f=s=null;for(N in a)if(a.hasOwnProperty(N)&&(D=a[N],D!=null))switch(N){case"value":s=D;break;case"defaultValue":f=D;break;case"children":h=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(91));break;default:pn(e,i,N,D,a,null)}Si(e,s,f,h);return;case"option":for(xe in a)if(a.hasOwnProperty(xe)&&(s=a[xe],s!=null))switch(xe){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:pn(e,i,xe,s,a,null)}return;case"dialog":ua("beforetoggle",e),ua("toggle",e),ua("cancel",e),ua("close",e);break;case"iframe":case"object":ua("load",e);break;case"video":case"audio":for(s=0;s<mc.length;s++)ua(mc[s],e);break;case"image":ua("error",e),ua("load",e);break;case"details":ua("toggle",e);break;case"embed":case"source":case"link":ua("error",e),ua("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ue in a)if(a.hasOwnProperty(Ue)&&(s=a[Ue],s!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:pn(e,i,Ue,s,a,null)}return;default:if(Ia(i)){for(at in a)a.hasOwnProperty(at)&&(s=a[at],s!==void 0&&Pf(e,i,at,s,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(s=a[D],s!=null&&pn(e,i,D,s,a,null))}function Ub(e,i,a,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,N=null,D=null,xe=null,Ue=null,at=null;for(Ye in a){var ct=a[Ye];if(a.hasOwnProperty(Ye)&&ct!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":xe=ct;default:s.hasOwnProperty(Ye)||pn(e,i,Ye,null,s,ct)}}for(var Pe in s){var Ye=s[Pe];if(ct=a[Pe],s.hasOwnProperty(Pe)&&(Ye!=null||ct!=null))switch(Pe){case"type":h=Ye;break;case"name":f=Ye;break;case"checked":Ue=Ye;break;case"defaultChecked":at=Ye;break;case"value":N=Ye;break;case"defaultValue":D=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(l(137,i));break;default:Ye!==ct&&pn(e,i,Pe,Ye,s,ct)}}Pi(e,N,D,xe,Ue,at,h,f);return;case"select":Ye=N=D=Pe=null;for(h in a)if(xe=a[h],a.hasOwnProperty(h)&&xe!=null)switch(h){case"value":break;case"multiple":Ye=xe;default:s.hasOwnProperty(h)||pn(e,i,h,null,s,xe)}for(f in s)if(h=s[f],xe=a[f],s.hasOwnProperty(f)&&(h!=null||xe!=null))switch(f){case"value":Pe=h;break;case"defaultValue":D=h;break;case"multiple":N=h;default:h!==xe&&pn(e,i,f,h,s,xe)}i=D,a=N,s=Ye,Pe!=null?fa(e,!!a,Pe,!1):!!s!=!!a&&(i!=null?fa(e,!!a,i,!0):fa(e,!!a,a?[]:"",!1));return;case"textarea":Ye=Pe=null;for(D in a)if(f=a[D],a.hasOwnProperty(D)&&f!=null&&!s.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:pn(e,i,D,null,s,f)}for(N in s)if(f=s[N],h=a[N],s.hasOwnProperty(N)&&(f!=null||h!=null))switch(N){case"value":Pe=f;break;case"defaultValue":Ye=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==h&&pn(e,i,N,f,s,h)}ln(e,Pe,Ye);return;case"option":for(var Qt in a)if(Pe=a[Qt],a.hasOwnProperty(Qt)&&Pe!=null&&!s.hasOwnProperty(Qt))switch(Qt){case"selected":e.selected=!1;break;default:pn(e,i,Qt,null,s,Pe)}for(xe in s)if(Pe=s[xe],Ye=a[xe],s.hasOwnProperty(xe)&&Pe!==Ye&&(Pe!=null||Ye!=null))switch(xe){case"selected":e.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:pn(e,i,xe,Pe,s,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bi in a)Pe=a[Bi],a.hasOwnProperty(Bi)&&Pe!=null&&!s.hasOwnProperty(Bi)&&pn(e,i,Bi,null,s,Pe);for(Ue in s)if(Pe=s[Ue],Ye=a[Ue],s.hasOwnProperty(Ue)&&Pe!==Ye&&(Pe!=null||Ye!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(l(137,i));break;default:pn(e,i,Ue,Pe,s,Ye)}return;default:if(Ia(i)){for(var hn in a)Pe=a[hn],a.hasOwnProperty(hn)&&Pe!==void 0&&!s.hasOwnProperty(hn)&&Pf(e,i,hn,void 0,s,Pe);for(at in s)Pe=s[at],Ye=a[at],!s.hasOwnProperty(at)||Pe===Ye||Pe===void 0&&Ye===void 0||Pf(e,i,at,Pe,s,Ye);return}}for(var Te in a)Pe=a[Te],a.hasOwnProperty(Te)&&Pe!=null&&!s.hasOwnProperty(Te)&&pn(e,i,Te,null,s,Pe);for(ct in s)Pe=s[ct],Ye=a[ct],!s.hasOwnProperty(ct)||Pe===Ye||Pe==null&&Ye==null||pn(e,i,ct,Pe,s,Ye)}function Xh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var f=a[s],h=f.transferSize,N=f.initiatorType,D=f.duration;if(h&&D&&Xh(N)){for(N=0,D=f.responseEnd,s+=1;s<a.length;s++){var xe=a[s],Ue=xe.startTime;if(Ue>D)break;var at=xe.transferSize,ct=xe.initiatorType;at&&Xh(ct)&&(xe=xe.responseEnd,N+=at*(xe<D?1:(D-Ue)/(xe-Ue)))}if(--s,i+=8*(h+N)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hf=null,Wf=null;function lu(e){return e.nodeType===9?e:e.ownerDocument}function Zh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kh(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Yf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xf=null;function Hb(){var e=window.event;return e&&e.type==="popstate"?e===Xf?!1:(Xf=e,!0):(Xf=null,!1)}var Jh=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(e){return Qh.resolve(null).then(e).catch(Xb)}:Jh;function Xb(e){setTimeout(function(){throw e})}function zl(e){return e==="head"}function $h(e,i){var a=i,s=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(f),zd(i);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")xc(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,xc(a);for(var h=a.firstChild;h;){var N=h.nextSibling,D=h.nodeName;h[sn]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=N}}else a==="body"&&xc(e.ownerDocument.body);a=f}while(a);zd(i)}function e1(e,i){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Zf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zf(a),Wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Zb(e,i,a,s){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[sn])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=cs(e.nextSibling),e===null)break}return null}function Kb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=cs(e.nextSibling),e===null))return null;return e}function t1(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cs(e.nextSibling),e===null))return null;return e}function Kf(e){return e.data==="$?"||e.data==="$~"}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var s=function(){i(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function cs(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Qf=null;function i1(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return cs(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function a1(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function n1(e,i,a){switch(i=lu(a),e){case"html":if(e=i.documentElement,!e)throw Error(l(452));return e;case"head":if(e=i.head,!e)throw Error(l(453));return e;case"body":if(e=i.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function xc(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wa(e)}var us=new Map,r1=new Set;function du(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pl=fe.d;fe.d={f:Qb,r:$b,D:e2,C:t2,L:i2,m:a2,X:r2,S:n2,M:o2};function Qb(){var e=pl.f(),i=eu();return e||i}function $b(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?S0(i):pl.r(e)}var Gd=typeof document>"u"?null:document;function o1(e,i,a){var s=Gd;if(s&&typeof i=="string"&&i){var f=Vt(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),r1.has(f)||(r1.add(f),e={rel:e,crossOrigin:a,href:i},s.querySelector(f)===null&&(i=s.createElement("link"),so(i,"link",e),ka(i),s.head.appendChild(i)))}}function e2(e){pl.D(e),o1("dns-prefetch",e,null)}function t2(e,i){pl.C(e,i),o1("preconnect",e,i)}function i2(e,i,a){pl.L(e,i,a);var s=Gd;if(s&&e&&i){var f='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Vt(a.imageSizes)+'"]')):f+='[href="'+Vt(e)+'"]';var h=f;switch(i){case"style":h=Ld(e);break;case"script":h=Td(e)}us.has(h)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),us.set(h,e),s.querySelector(f)!==null||i==="style"&&s.querySelector(yc(h))||i==="script"&&s.querySelector(vc(h))||(i=s.createElement("link"),so(i,"link",e),ka(i),s.head.appendChild(i)))}}function a2(e,i){pl.m(e,i);var a=Gd;if(a&&e){var s=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Vt(s)+'"][href="'+Vt(e)+'"]',h=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Td(e)}if(!us.has(h)&&(e=C({rel:"modulepreload",href:e},i),us.set(h,e),a.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vc(h)))return}s=a.createElement("link"),so(s,"link",e),ka(s),a.head.appendChild(s)}}}function n2(e,i,a){pl.S(e,i,a);var s=Gd;if(s&&e){var f=_a(s).hoistableStyles,h=Ld(e);i=i||"default";var N=f.get(h);if(!N){var D={loading:0,preload:null};if(N=s.querySelector(yc(h)))D.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=us.get(h))&&$f(e,a);var xe=N=s.createElement("link");ka(xe),so(xe,"link",e),xe._p=new Promise(function(Ue,at){xe.onload=Ue,xe.onerror=at}),xe.addEventListener("load",function(){D.loading|=1}),xe.addEventListener("error",function(){D.loading|=2}),D.loading|=4,cu(N,i,s)}N={type:"stylesheet",instance:N,count:1,state:D},f.set(h,N)}}}function r2(e,i){pl.X(e,i);var a=Gd;if(a&&e){var s=_a(a).hoistableScripts,f=Td(e),h=s.get(f);h||(h=a.querySelector(vc(f)),h||(e=C({src:e,async:!0},i),(i=us.get(f))&&ep(e,i),h=a.createElement("script"),ka(h),so(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function o2(e,i){pl.M(e,i);var a=Gd;if(a&&e){var s=_a(a).hoistableScripts,f=Td(e),h=s.get(f);h||(h=a.querySelector(vc(f)),h||(e=C({src:e,async:!0,type:"module"},i),(i=us.get(f))&&ep(e,i),h=a.createElement("script"),ka(h),so(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function s1(e,i,a,s){var f=(f=le.current)?du(f):null;if(!f)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ld(a.href),a=_a(f).hoistableStyles,s=a.get(i),s||(s={type:"style",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ld(a.href);var h=_a(f).hoistableStyles,N=h.get(e);if(N||(f=f.ownerDocument||f,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,N),(h=f.querySelector(yc(e)))&&!h._p&&(N.instance=h,N.state.loading=5),us.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},us.set(e,a),h||s2(f,e,a,N.state))),i&&s===null)throw Error(l(528,""));return N}if(i&&s!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Td(a),a=_a(f).hoistableScripts,s=a.get(i),s||(s={type:"script",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ld(e){return'href="'+Vt(e)+'"'}function yc(e){return'link[rel="stylesheet"]['+e+"]"}function l1(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function s2(e,i,a,s){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=e.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),so(i,"link",a),ka(i),e.head.appendChild(i))}function Td(e){return'[src="'+Vt(e)+'"]'}function vc(e){return"script[async]"+e}function d1(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var s=e.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(s)return i.instance=s,ka(s),s;var f=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ka(s),so(s,"style",f),cu(s,a.precedence,e),i.instance=s;case"stylesheet":f=Ld(a.href);var h=e.querySelector(yc(f));if(h)return i.state.loading|=4,i.instance=h,ka(h),h;s=l1(a),(f=us.get(f))&&$f(s,f),h=(e.ownerDocument||e).createElement("link"),ka(h);var N=h;return N._p=new Promise(function(D,xe){N.onload=D,N.onerror=xe}),so(h,"link",s),i.state.loading|=4,cu(h,a.precedence,e),i.instance=h;case"script":return h=Td(a.src),(f=e.querySelector(vc(h)))?(i.instance=f,ka(f),f):(s=a,(f=us.get(h))&&(s=C({},a),ep(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),ka(f),so(f,"link",s),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,cu(s,a.precedence,e));return i.instance}function cu(e,i,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,h=f,N=0;N<s.length;N++){var D=s[N];if(D.dataset.precedence===i)h=D;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function $f(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function ep(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var uu=null;function c1(e,i,a){if(uu===null){var s=new Map,f=uu=new Map;f.set(a,s)}else f=uu,s=f.get(a),s||(s=new Map,f.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var h=a[f];if(!(h[sn]||h[Xi]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var N=h.getAttribute(i)||"";N=e+N;var D=s.get(N);D?D.push(h):s.set(N,[h])}}return s}function u1(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function l2(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function d2(e,i,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ld(s.href),h=i.querySelector(yc(f));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=fu.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=h,ka(h);return}h=i.ownerDocument||i,s=l1(s),(f=us.get(f))&&$f(s,f),h=h.createElement("link"),ka(h);var N=h;N._p=new Promise(function(D,xe){N.onload=D,N.onerror=xe}),so(h,"link",s),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=fu.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var tp=0;function c2(e,i){return e.stylesheets&&e.count===0&&hu(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&hu(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+i);0<e.imgBytes&&tp===0&&(tp=62500*Pb());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hu(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>tp?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pu=null;function hu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pu=new Map,i.forEach(u2,e),pu=null,fu.call(e))}function u2(e,i){if(!(i.state.loading&4)){var a=pu.get(e);if(a)var s=a.get(null);else{a=new Map,pu.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var N=f[h];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(a.set(N.dataset.precedence,N),s=N)}s&&a.set(null,s)}f=i.instance,N=f.getAttribute("data-precedence"),h=a.get(N)||s,h===s&&a.set(null,f),a.set(N,f),this.count++,s=fu.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var jc={$$typeof:re,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function f2(e,i,a,s,f,h,N,D,xe){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function p1(e,i,a,s,f,h,N,D,xe,Ue,at,ct){return e=new f2(e,i,a,N,xe,Ue,at,ct,D),i=1,h===!0&&(i|=24),h=kt(3,null,null,i),e.current=h,h.stateNode=e,i=Sl(),i.refCount++,e.pooledCache=i,i.refCount++,h.memoizedState={element:s,isDehydrated:a,cache:i},Lt(h),e}function h1(e){return e?(e=et,e):et}function g1(e,i,a,s,f,h){f=h1(f),s.context===null?s.context=f:s.pendingContext=f,s=_i(i),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=Wi(e,s,i),a!==null&&(Po(a,e,i),Da(a,e,i))}function m1(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ip(e,i){m1(e,i),(e=e.alternate)&&m1(e,i)}function b1(e){if(e.tag===13||e.tag===31){var i=Be(e,67108864);i!==null&&Po(i,e,67108864),ip(e,67108864)}}function x1(e){if(e.tag===13||e.tag===31){var i=$o();i=Yi(i);var a=Be(e,i);a!==null&&Po(a,e,i),ip(e,i)}}var gu=!0;function p2(e,i,a,s){var f=K.T;K.T=null;var h=fe.p;try{fe.p=2,ap(e,i,a,s)}finally{fe.p=h,K.T=f}}function h2(e,i,a,s){var f=K.T;K.T=null;var h=fe.p;try{fe.p=8,ap(e,i,a,s)}finally{fe.p=h,K.T=f}}function ap(e,i,a,s){if(gu){var f=np(s);if(f===null)Uf(e,i,s,mu,a),v1(e,s);else if(m2(f,e,i,a,s))s.stopPropagation();else if(v1(e,s),i&4&&-1<g2.indexOf(e)){for(;f!==null;){var h=Cn(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var N=vt(h.pendingLanes);if(N!==0){var D=h;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var xe=1<<31-nt(N);D.entanglements[1]|=xe,N&=~xe}Hs(h),(Pa&6)===0&&(Qc=hi()+500,gc(0))}}break;case 31:case 13:D=Be(h,2),D!==null&&Po(D,h,2),eu(),ip(h,2)}if(h=np(s),h===null&&Uf(e,i,s,mu,a),h===f)break;f=h}f!==null&&s.stopPropagation()}else Uf(e,i,s,null,a)}}function np(e){return e=di(e),rp(e)}var mu=null;function rp(e){if(mu=null,e=Xn(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=y(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return mu=e,null}function y1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ki()){case ai:return 2;case Oi:return 8;case ui:case Rt:return 32;case si:return 268435456;default:return 32}default:return 32}}var op=!1,El=null,Rl=null,Ol=null,Sc=new Map,Ac=new Map,ql=[],g2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v1(e,i){switch(e){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":Sc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(i.pointerId)}}function wc(e,i,a,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:i,domEventName:a,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},i!==null&&(i=Cn(i),i!==null&&b1(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function m2(e,i,a,s,f){switch(i){case"focusin":return El=wc(El,e,i,a,s,f),!0;case"dragenter":return Rl=wc(Rl,e,i,a,s,f),!0;case"mouseover":return Ol=wc(Ol,e,i,a,s,f),!0;case"pointerover":var h=f.pointerId;return Sc.set(h,wc(Sc.get(h)||null,e,i,a,s,f)),!0;case"gotpointercapture":return h=f.pointerId,Ac.set(h,wc(Ac.get(h)||null,e,i,a,s,f)),!0}return!1}function j1(e){var i=Xn(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=y(a),i!==null){e.blockedOn=i,mn(e.priority,function(){x1(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,mn(e.priority,function(){x1(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=np(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Fe=s,a.target.dispatchEvent(s),Fe=null}else return i=Cn(a),i!==null&&b1(i),e.blockedOn=a,!1;i.shift()}return!0}function S1(e,i,a){bu(e)&&a.delete(i)}function b2(){op=!1,El!==null&&bu(El)&&(El=null),Rl!==null&&bu(Rl)&&(Rl=null),Ol!==null&&bu(Ol)&&(Ol=null),Sc.forEach(S1),Ac.forEach(S1)}function xu(e,i){e.blockedOn===i&&(e.blockedOn=null,op||(op=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,b2)))}var yu=null;function A1(e){yu!==e&&(yu=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){yu===e&&(yu=null);for(var i=0;i<e.length;i+=3){var a=e[i],s=e[i+1],f=e[i+2];if(typeof s!="function"){if(rp(s||a)===null)continue;break}var h=Cn(a);h!==null&&(e.splice(i,3),i-=3,nf(h,{pending:!0,data:f,method:a.method,action:s},s,f))}}))}function zd(e){function i(xe){return xu(xe,e)}El!==null&&xu(El,e),Rl!==null&&xu(Rl,e),Ol!==null&&xu(Ol,e),Sc.forEach(i),Ac.forEach(i);for(var a=0;a<ql.length;a++){var s=ql[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ql.length&&(a=ql[0],a.blockedOn===null);)j1(a),a.blockedOn===null&&ql.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var f=a[s],h=a[s+1],N=f[sa]||null;if(typeof h=="function")N||A1(a);else if(N){var D=null;if(h&&h.hasAttribute("formAction")){if(f=h,N=h[sa]||null)D=N.formAction;else if(rp(f)!==null)continue}else D=N.action;typeof D=="function"?a[s+1]=D:(a.splice(s,3),s-=3),A1(a)}}}function w1(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(N){return f=N})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function sp(e){this._internalRoot=e}vu.prototype.render=sp.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,s=$o();g1(a,s,e,i,null,null)},vu.prototype.unmount=sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;g1(e.current,2,null,e,null,null),eu(),i[wa]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var i=qa();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ql.length&&i!==0&&i<ql[a].priority;a++);ql.splice(a,0,e),a===0&&j1(e)}};var _1=n.version;if(_1!=="19.2.1")throw Error(l(527,_1,"19.2.1"));fe.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=b(i),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var x2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{$t=ju.inject(x2),T=ju}catch{}}return Nc.createRoot=function(e,i){if(!d(e))throw Error(l(299));var a=!1,s="",f=L0,h=T0,N=z0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),i=p1(e,1,!1,null,null,a,s,null,f,h,N,w1),e[wa]=i.current,Df(e),new sp(i)},Nc.hydrateRoot=function(e,i,a){if(!d(e))throw Error(l(299));var s=!1,f="",h=L0,N=T0,D=z0,xe=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(N=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.formState!==void 0&&(xe=a.formState)),i=p1(e,1,!0,i,a??null,s,f,xe,h,N,D,w1),i.context=h1(null),a=i.current,s=$o(),s=Yi(s),f=_i(s),f.callback=null,Wi(a,f,s),a=s,i.current.lanes=a,Ut(i,a),Hs(i),e[wa]=i.current,Df(e),new vu(i)},Nc.version="19.2.1",Nc}var E1;function k2(){if(E1)return cp.exports;E1=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),cp.exports=B2(),cp.exports}var M2=k2();const kc=[{id:"1",name:"Intervencin de corrientes superficiales",short:"Tcnicas que intervienen cauces y corrientes superficiales para retener flujos e inducir la infiltracin al acufero.",techniques:[{id:"1.1",name:"Presas de recarga",icon:"/images/Presas_de_recarga.png",definition:"Estructuras construidas en cauces de ros efmeros para retener temporalmente el agua y promover su infiltracin en el acufero subyacente. Funcionan interceptando el flujo y permitiendo que el agua se infiltre progresivamente a travs del lecho del ro, aumentando el almacenamiento en acuferos libres.",refs:"IGRAC, 2007; Hannappel et al., 2014; Bonilla-Valverde et al., 2018; Stefan & Ansems, 2018; Maliva, 2020; Dillon et al., 2022."},{id:"1.2",name:"Presas subterrneas",definition:"Barreras construidas en corrientes efmeras para retener y almacenar flujos de agua subterrnea. Se instalan en el lecho del ro, ancladas al basamento y rellenadas con material de baja permeabilidad, permitiendo la acumulacin de agua en los aluviones saturados para su uso posterior.",refs:"Dillon, 2005; IGRAC, 2007; Sprenger et al., 2017; Stefan & Ansems, 2018; Zhang et al., 2020; Dillon et al., 2022."},{id:"1.3",name:"Presas de arena",definition:"Estructuras construidas en corrientes efmeras de zonas ridas y semiridas para retener sedimentos y almacenar agua de escorrenta en sus poros. A medida que ocurren inundaciones sucesivas, la acumulacin de arena eleva la presa, creando un acufero artificial que permite la infiltracin y almacenamiento del agua para su aprovechamiento posterior, principalmente mediante pozos en estaciones secas.",refs:"Dillon, 2005; Dillon et al., 2009, 2022; IGRAC, 2007; Hannappel et al., 2014; Sprenger et al., 2017; Maliva, 2020; Zhang et al., 2020."},{id:"1.4",name:"Filtracin de ribera",definition:"Extraccin de agua subterrnea desde un pozo o galera cercana a un ro para inducir la infiltracin desde las bancas y el lecho del cuerpo de agua superficial.",refs:"Dillon, 2005; IGRAC, 2007; Hannappel et al., 2014; Sprenger et al., 2017; Bonilla-Valverde et al., 2018; Stefan & Ansems, 2018; Maliva, 2020; Zhang et al., 2020; Dillon et al., 2022."}]},{id:"2",name:"Recarga mediante pozos y perforaciones",short:"Tcnicas basadas en pozos y perforaciones para inyectar, almacenar, transferir y recuperar agua en acuferos.",techniques:[{id:"2.1",name:"Almacenamiento y recuperacin de acuferos (ASR)",definition:"Inyeccin de agua en un pozo durante los periodos de exceso hdrico para su almacenamiento subterrneo y posterior recuperacin desde el mismo pozo cuando se necesite.",refs:"Dillon, 2005; Dillon et al., 2009, 2022; IGRAC, 2007; Sprenger et al., 2017; Bonilla-Valverde et al., 2018; Stefan & Ansems, 2018; Maliva, 2020; Zhang et al., 2020."},{id:"2.2",name:`Almacenamiento, transferencia y 
recuperacin de acuferos (ASTR)`,definition:"Inyeccin de agua en un pozo para su almacenamiento y posterior recuperacin desde uno o varios pozos diferentes. Este mtodo permite extender el tiempo de residencia del agua en el acufero, facilitando su tratamiento natural a travs de procesos de filtracin, adsorcin y biodegradacin.",refs:"Dillon, 2005; Dillon et al., 2009, 2022; Hannappel et al., 2014; Sprenger et al., 2017; Bonilla-Valverde et al., 2018; Stefan & Ansems, 2018; Maliva, 2020; Zhang et al., 2020."},{id:"2.3",name:"Pozos secos",definition:"Estructuras excavadas superficialmente utilizadas para facilitar la infiltracin subterrnea en la zona vadosa. Son generalmente pozos poco profundos empleados en reas donde las capas freticas estn muy profundas, permitiendo la infiltracin de agua hacia el acufero libre en profundidad.",refs:"Dillon, 2005; Dillon et al., 2009; Maliva, 2020."}]},{id:"3",name:"Infiltracin superficial",short:"Tcnicas que favorecen la infiltracin desde la superficie mediante estanques, zanjas, exceso de riego o captacin de lluvia.",techniques:[{id:"3.1",name:"Estanques y cuencas de infiltracin",definition:"Estructuras diseadas para almacenar temporalmente agua superficial y facilitar su infiltracin hacia los acuferos. Generalmente, se construyen fuera del cauce principal y reciben agua desviada desde fuentes superficiales, permitiendo su percolacin a travs de suelos permeables y la zona no saturada hasta alcanzar un acufero subyacente.",refs:"Dillon, 2005; IGRAC, 2007; Sprenger et al., 2017; Maliva, 2020; Zhang et al., 2020; Dillon et al., 2022."},{id:"3.2",name:"Tratamiento sueloacufero",definition:"El agua residual tratada se infiltra de manera intermitente a travs de estanques de infiltracin para mejorar su calidad antes de alcanzar el acufero. Durante su paso por la zona no saturada, se facilita la eliminacin de nutrientes y patgenos mediante procesos naturales de filtracin, adsorcin y biodegradacin. Una vez el agua ha residido en el acufero, puede recuperarse mediante pozos para su posterior uso.",refs:"Dillon, 2005; Hannappel et al., 2014; Sprenger et al., 2017; Maliva, 2020; Zhang et al., 2020; Dillon et al., 2022."},{id:"3.3",name:"Galeras de infiltracin",definition:"Zanjas enterradas en suelos permeables que contienen celdas de polietileno o tuberas ranuradas, permitiendo la infiltracin del agua a travs de la zona no saturada hasta un acufero libre.",refs:"Dillon et al., 2009, 2022."},{id:"3.4",name:"Inundaciones controladas",definition:"Liberacin de agua sobre una amplia superficie terrestre para promover su infiltracin hacia el acufero. Se aplica principalmente en zonas donde el acufero libre se encuentra cerca de la superficie del suelo. Dependiendo de las condiciones locales, este mtodo puede incluir sistemas de zanjas y surcos poco profundos fuera de los cauces principales para facilitar la recarga.",refs:"IGRAC, 2007; Bonilla-Valverde et al., 2018; Stefan & Ansems, 2018; Maliva, 2020; Zhang et al., 2020."},{id:"3.5",name:"Exceso de riego",definition:"Basada en la infiltracin y percolacin gravitacional, permite que el agua aplicada en superficies agrcolas se infiltre ms all de la zona radicular hacia el acufero subyacente.",refs:"Sprenger et al., 2017; Zhang et al., 2020."},{id:"3.6",name:"Filtracin de dunas",definition:"Infiltracin de agua desde estanques construidos en dunas de arena, permitiendo su almacenamiento y posterior recuperacin mediante pozos o estanques ubicados a menor elevacin. Se usa en reas cercanas a cuerpos de agua superficiales, donde contribuye a reducir la presin en la ribera del ro, induciendo la infiltracin en el acufero.",refs:"Dillon, 2005; Maliva, 2020; Zhang et al., 2020; Dillon et al., 2022."},{id:"3.7",name:"Captacin de agua lluvia",definition:"Recoleccin del escurrimiento pluvial desde techos, terrenos o espacios abiertos para su almacenamiento y posterior infiltracin en el acufero. Dependiendo de la configuracin, el agua captada puede dirigirse a pozos, sumideros o estructuras con arena y grava para facilitar su percolacin hasta la capa fretica, desde donde puede ser extrada mediante bombeo. En algunos casos, la recoleccin se combina con tcnicas de inyeccin o infiltracin para mejorar su aprovechamiento en funcin de las condiciones local.",refs:"Dillon, 2005; IGRAC, 2007; Hannappel et al., 2014; Sprenger et al., 2017; Bonilla-Valverde et al., 2018; Stefan & Ansems, 2018; Zhang et al., 2020; Dillon et al., 2022."}]}],G2=Object.freeze([{id:"G1",label:"Infiltracion superficial"},{id:"G2",label:"Intervencion del cauce"},{id:"G3",label:"Recarga mediante pozos"}]),L2=Object.freeze([{id:"V1",label:"Objetivo definido",question:"Cual es el objetivo principal de MAR?",criterionId:"C1",inputs:[{moduleId:"comunidad",key:"uso_final_del_agua",kind:"select"}],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V2",label:"Caracterizacion del acuifero",question:"Existe caracterizacion del acuifero?",criterionId:"C2",inputs:[{moduleId:"caracterizacion",key:"clasificacion_hidrogeologica_uhg",kind:"select"},{moduleId:"caracterizacion",key:"porosidad",kind:"select"},{moduleId:"caracterizacion",key:"permeabilidad",kind:"select"}],maps:["unidades-hidrogeologicas"],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V3",label:"Modelo geologico",question:"Existe modelo geologico?",criterionId:"C2",inputs:[{moduleId:"geologico",key:"nombre_unidad_geologica",kind:"text"},{moduleId:"geologico",key:"descripcion_unidad_geologica",kind:"text"},{moduleId:"geologico",key:"escala_mapa_geologico",kind:"text"}],maps:["mapa-geologico"],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V4",label:"Modelo hidrologico",question:"Existe modelo hidrologico?",criterionId:"C2",inputs:[{moduleId:"hidrologico",key:"p_med_anual_mm",kind:"number"},{moduleId:"hidrologico",key:"q_med_anual_m3s",kind:"number"}],maps:["recarga","precipitacion"],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V5",label:"Modelo numerico o parametros",question:"Existe modelo numerico o parametros hidraulicos?",criterionId:"C2",inputs:[{moduleId:"hidraulico",key:"Tipo_unidad",kind:"select"},{moduleId:"hidraulico",key:"porosidad",kind:"select"},{moduleId:"hidraulico",key:"permeabilidad",kind:"select"},{moduleId:"hidraulico",key:"conductividad_hidraulica_k",kind:"text"},{moduleId:"hidraulico",key:"transmisividad_t",kind:"text"}],maps:["drenajes","densidad-drenajes","nivel-freatico"],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V6",label:"Modelo hidrogeoquimico",question:"Existe modelo hidrogeoquimico?",criterionId:"C2",inputs:[{moduleId:"hidrogeoquimico",key:"facies_hidroquimica_descriptiva",kind:"text"},{moduleId:"hidrogeoquimico",key:"ph",kind:"number"},{moduleId:"hidrogeoquimico",key:"tds_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"ce_uScm",kind:"number"},{moduleId:"hidrogeoquimico",key:"ca_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"mg_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"k_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"na_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"cl_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"so4_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"hco3_mgL",kind:"number"},{moduleId:"hidrogeoquimico",key:"no3_mgL",kind:"number"}],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V7",label:"Escala del acuifero",question:"Cual es la escala del acuifero?",criterionId:"C2",inputs:[{moduleId:"geologico",key:"escala_mapa_geologico",kind:"text"}],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V8",label:"Tipo de acuifero",question:"Cual es el tipo de acuifero?",criterionId:"C2",inputs:[{moduleId:"hidraulico",key:"Tipo_unidad",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{libre:{G1:4,G2:3,G3:4},"semiconfinado - confinado":{G1:1,G2:4,G3:1}},defaultScore:2},groupImpact:{G1:1,G2:1,G3:1}},{id:"V9",label:"Capacidad de infiltracion (zona no saturada)",question:"Se estudio la capacidad de infiltracion?",criterionId:"C2",inputs:[{moduleId:"volumen",key:"cap_infiltracion_zona_no_saturada",kind:"select"},{moduleId:"volumen",key:"cap_infiltracion_categoria",kind:"select"}],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V10",label:"Tecnica viable incluye pozos",question:"La tecnica viable incluye pozos?",criterionId:"C2",inputs:[{moduleId:"infraestructura",key:"tipo_infraestructura",kind:"select"}],scoring:{kind:"selectContains",tokens:["pozo"]},groupImpact:{G1:.4,G2:.5,G3:1}},{id:"V11",label:"Permeabilidad del acuifero",question:"Como es la permeabilidad?",criterionId:"C2",inputs:[{moduleId:"caracterizacion",key:"permeabilidad",kind:"select"}],scoring:{kind:"select",map:{"muy alta (100<k)":4,"alta (10<k<100)":4,"media (1<k<10)":2,"baja a muy baja (10^-2<k<1)":1},defaultScore:2},groupImpact:{G1:1,G2:1,G3:1}},{id:"V12",label:"Porosidad efectiva",question:"Como es la porosidad?",criterionId:"C2",inputs:[{moduleId:"caracterizacion",key:"porosidad",kind:"select"}],scoring:{kind:"select",map:{"muy alta (>50%)":4,"alta (30-50%)":4,"regular (10-30%)":2,"mala (0-10%)":1},defaultScore:2},groupImpact:{G1:1,G2:1,G3:1}},{id:"V13",label:"Fuente de agua identificada",question:"Conoce la fuente de agua?",criterionId:"C3",inputs:[{moduleId:"fuente",key:"tipo_de_fuente",kind:"select"}],scoring:{kind:"select",defaultScore:4},groupImpact:{G1:1,G2:1,G3:1}},{id:"V14",label:"Tipo de fuente de agua",question:"Cual es la fuente de agua a recargar?",criterionId:"C3",inputs:[{moduleId:"fuente",key:"tipo_de_fuente",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{superficial:{G1:4,G2:4,G3:4},"escorrentia estacional":{G1:0,G2:4,G3:4},escorrentia:{G1:0,G2:4,G3:4},"agua residual":{G1:0,G2:4,G3:3},"residual tratada":{G1:0,G2:4,G3:4},"subterranea u otra fuente":{G1:0,G2:4,G3:0},subterranea:{G1:0,G2:4,G3:0}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V15",label:"Calidad del agua fuente",question:"Conoce la calidad del agua fuente?",criterionId:"C3",inputs:[{moduleId:"fuente",key:"categoria_calidad_mar",kind:"select"}],scoring:{kind:"select",map:{apta:4,"apta con pretratamiento":3,"no apta":0,"no evaluada":0},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V16",label:"Normativa para la recarga",question:"La recarga esta permitida por normativa?",criterionId:"C3",inputs:[{moduleId:"fuente",key:"cumple_norma_para_uso",kind:"select"}],scoring:{kind:"select",map:{si:4,parcial:2,no:0,"no evaluado":0},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V36",label:"Tipo de fuente superficial",question:"Si la fuente es superficial, cual es el tipo?",criterionId:"C3",inputs:[{moduleId:"fuente",key:"tipo_fuente_superficial",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{"rio permanente":{G1:4,G2:0,G3:3},"rio permanente q9 meses":{G1:4,G2:0,G3:3},"rio estacional":{G1:3,G2:0,G3:3},"rio estacional q 3 9 meses":{G1:3,G2:0,G3:3},"rio efimero":{G1:2,G2:0,G3:4},"rio efimero q3 meses":{G1:2,G2:0,G3:4},"lago/embalse":{G1:0,G2:0,G3:4},"lago embalse":{G1:0,G2:0,G3:4}},defaultScore:0},groupImpact:{G1:1,G2:0,G3:1}},{id:"V37",label:"Conexion hidraulica con el rio",question:"Existe conexion hidraulica (rio ganador, perdedor o sin conexion)?",criterionId:"C3",inputs:[{moduleId:"fuente",key:"conexion_hidraulica",kind:"select"}],scoring:{kind:"select",map:{"rio ganador":4,"rio perdedor":4,"sin conexion":0},defaultScore:0},groupImpact:{G1:1,G2:0,G3:1}},{id:"V17",label:"Calidad del agua del acuifero",question:"Conoce la calidad del agua del acuifero?",criterionId:"C3",inputs:[],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V18",label:"Mezcla fuente-acuifero cumple limites",question:"La mezcla cumple limites aplicables?",criterionId:"C3",inputs:[],scoring:{kind:"presence"},groupImpact:{G1:1,G2:1,G3:1}},{id:"V19",label:"Capacidad de almacenamiento",question:"Conoce la capacidad de almacenamiento?",criterionId:"C4",inputs:[{moduleId:"volumen",key:"conoce_capacidad_almacenamiento",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{si:{G1:3,G2:4,G3:3},no:{G1:2,G2:0,G3:2}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V20",label:"Volumen de agua a recargar",question:"Conoce el volumen de agua a recargar?",criterionId:"C4",inputs:[{moduleId:"volumen",key:"conoce_volumen_recarga",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{si:{G1:3,G2:4,G3:4},no:{G1:2,G2:1,G3:2}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V21",label:"Volumen vs capacidad",question:"El volumen a recargar es menor que la capacidad?",criterionId:"C4",inputs:[{moduleId:"volumen",key:"volumen_menor_capacidad",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{si:{G1:4,G2:4,G3:4},no:{G1:1,G2:0,G3:1}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V22",label:"Uso final conocido",question:"Conoce el uso final del agua?",criterionId:"C6",inputs:[{moduleId:"comunidad",key:"uso_final_del_agua",kind:"select"}],scoring:{kind:"select",defaultScore:4},groupImpact:{G1:1,G2:1,G3:1}},{id:"V23",label:"Uso final definido",question:"Cual es el uso final?",criterionId:"C6",inputs:[{moduleId:"comunidad",key:"uso_final_del_agua",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{domestico:{G1:4,G2:3,G3:3},industrial:{G1:3,G2:4,G3:4},ambiental:{G1:4,G2:2,G3:4},agricola:{G1:2,G2:2,G3:4},mixto:{G1:4,G2:3,G3:4}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V24",label:"Relieve dominante",question:"Cual es el relieve dominante?",criterionId:"C4",inputs:[{moduleId:"relieve",key:"relieve_dominante",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{llanura:{G1:3,G2:3,G3:4},valle:{G1:4,G2:3,G3:3},"colina o meseta":{G1:2,G2:3,G3:2},montana:{G1:0,G2:2,G3:0},montaa:{G1:0,G2:2,G3:0},"no evaluado":{G1:0,G2:0,G3:0}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V25",label:"Clima dominante",question:"Cual es el clima dominante?",criterionId:"C4",inputs:[{moduleId:"relieve",key:"Clima",kind:"select"},{moduleId:"fuente",key:"Clima",kind:"select"}],minInputsPresent:1,scoring:{kind:"selectByGroup",mapByGroup:{"arido o semi arido seco":{G1:3,G2:4,G3:3},"arido o semiarido seco":{G1:3,G2:4,G3:3},"calido seco":{G1:3,G2:4,G3:3},"humedo-semihumedo templado":{G1:4,G2:3,G3:4},tropical:{G1:4,G2:3,G3:4},"no evaluado":{G1:0,G2:0,G3:0}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V26",label:"Infraestructura disponible",question:"Existe infraestructura para MAR?",criterionId:"C5",inputs:[{moduleId:"infraestructura",key:"tipo_infraestructura",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{pozo:{G1:3,G2:4,G3:2},canal:{G1:4,G2:1,G3:4},"red de distribucion":{G1:4,G2:1,G3:4},embalse:{G1:3,G2:2,G3:4},estanque:{G1:3,G2:2,G3:4},zanja:{G1:1,G2:2,G3:4},ptap:{G1:1,G2:4,G3:3},ptar:{G1:2,G2:4,G3:4},"obras en cauce":{G1:4,G2:0,G3:2},"sin infraestructura":{G1:0,G2:0,G3:0},"no hay infraestructura existente":{G1:0,G2:0,G3:0}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V28",label:"Planta de tratamiento",question:"Existe planta de tratamiento?",criterionId:"C5",inputs:[{moduleId:"infraestructura",key:"tipo_infraestructura",kind:"select"}],scoring:{kind:"selectContains",tokens:["ptap","ptar"]},groupImpact:{G1:0,G2:0,G3:1}},{id:"V29",label:"Estanques disponibles",question:"Existen estanques en la zona?",criterionId:"C5",inputs:[{moduleId:"infraestructura",key:"tipo_infraestructura",kind:"select"}],scoring:{kind:"selectContains",tokens:["estanque"]},groupImpact:{G1:0,G2:0,G3:1}},{id:"V32",label:"Obras en cauce",question:"Hay obras en cauce (presas o captacion de ribera)?",criterionId:"C5",inputs:[{moduleId:"infraestructura",key:"tipo_infraestructura",kind:"select"}],scoring:{kind:"selectContains",tokens:["embalse","canal"]},groupImpact:{G1:1,G2:0,G3:0}},{id:"V33",label:"Pozos operativos",question:"Existen pozos operativos o rehabilitables?",criterionId:"C5",inputs:[{moduleId:"infraestructura",key:"tipo_infraestructura",kind:"select"},{moduleId:"infraestructura",key:"estado",kind:"select"}],scoring:{kind:"pozosOperativos"},groupImpact:{G1:0,G2:1,G3:1}},{id:"V34",label:"Tipo de asentamiento",question:"Cual es el tipo de asentamiento?",criterionId:"C6",inputs:[{moduleId:"comunidad",key:"tipo_asentamiento",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{urbano:{G1:4,G2:4,G3:2},rural:{G1:3,G2:3,G3:4},mixto:{G1:3,G2:3,G3:3},na:{G1:2,G2:2,G3:2},"no evaluado":{G1:2,G2:2,G3:2}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}},{id:"V35",label:"Beneficio directo identificado",question:"Se identifico beneficio directo?",criterionId:"C6",inputs:[{moduleId:"comunidad",key:"condicion_beneficio",kind:"select"}],scoring:{kind:"selectByGroup",mapByGroup:{"beneficio directo":{G1:4,G2:4,G3:4},"beneficio indirecto":{G1:3,G2:3,G3:3},"potencial beneficiario":{G1:4,G2:4,G3:4},"no evaluado":{G1:0,G2:0,G3:0}},defaultScore:0},groupImpact:{G1:1,G2:1,G3:1}}]),br=Object.freeze({catalogVersion:"1.0.0",schemaVersion:"legacy-compatible-1.0.0",scale04:Object.freeze({id:"SCALE_0_4",levels:Object.freeze([{value:0,label:"0  No disponible",description:"No se reporta / no aplica / sin evidencia."},{value:1,label:"1  Mencin mnima",description:"Se menciona superficialmente, sin detalle verificable."},{value:2,label:"2  Parcial",description:"Hay info parcial; faltan parmetros, mtodo o fuente clara."},{value:3,label:"3  Completo",description:"Info completa, con mtodo/valores coherentes y fuente."},{value:4,label:"4  Validado",description:"Completo + validacin (campo/monitoreo/modelo/calibracin) o evidencia robusta."}])}),criteria:Object.freeze([{id:"C1",label:"Objetivo",description:"Claridad del objetivo (almacenamiento, calidad, intrusin salina, etc.)."},{id:"C2",label:"Condiciones hidrogeolgicas",description:"Modelos + parmetros del acufero y contexto."},{id:"C3",label:"Fuente y calidad del agua",description:"Fuente identificada + calidad recarga/acufero/post-mezcla."},{id:"C4",label:"Capacidad y volumen",description:"Capacidad de almacenamiento, volumen/caudales, balances."},{id:"C5",label:"Infraestructura y costos",description:"Infraestructura documentada + viabilidad/costobeneficio."},{id:"C6",label:"Socioambiental y regulacin",description:"Permisos, impacto ambiental, comunidad/servicios."}]),modules:Object.freeze([{id:"geologico",label:"Modelo geolgico",maps:[{layerId:"mapa-geologico",label:"Geolgico"},{layerId:"estructuras-lineamientos",label:"Estructuras/lineamientos"},{layerId:"densidad-estructuras-lineamientos",label:"Densidad de estructuras/lineamientos"},{layerId:"uso-suelo-cobertura",label:"Uso del suelo y cobertura"}]},{id:"hidraulico",label:"Modelo hidrulico",maps:[{layerId:"drenajes",label:"Drenajes"},{layerId:"densidad-drenajes",label:"Densidad de drenajes"},{layerId:"nivel-freatico",label:"Nivel fretico"}]},{id:"hidrologico",label:"Modelo hidrolgico",maps:[{layerId:"recarga",label:"Recarga"},{layerId:"precipitacion",label:"Precipitacin"}]},{id:"hidrogeoquimico",label:"Modelo hidrogeoqumico",maps:[]},{id:"caracterizacion",label:"Caracterizacin del acufero",maps:[{layerId:"unidades-hidrogeologicas",label:"Unidades (UHG)"}]},{id:"fuente",label:"Fuente y calidad del agua",maps:[]},{id:"volumen",label:"Capacidad y volumen",maps:[]},{id:"infraestructura",label:"Infraestructura",maps:[]},{id:"comunidad",label:"Comunidad y regulacin",maps:[]},{id:"relieve",label:"Relieve y clima",maps:[{layerId:"pendiente",label:"Pendiente"}]}]),aliases:Object.freeze({"Nombre_Formacin/Miembro/Grupo/Unidad":"Nombre_Formacion","Descripcin_Formacin/Miembro/Grupo/Unidad":"Descripcion_Formacion","Profundidad_Formacin/Miembro/Grupo/Unidad":"Profundidad_Formacion_m",Escala_mapa_geolgico:"Escala_mapa_geologico",Fuente_mapa:"Fuente_mapa",rea_cuenca_km2:"Area_cuenca_km2",Tipo_de_fuente:"tipo_de_fuente",Categoria_calidad_MAR:"categoria_calidad_mar",Cumple_norma_para_uso:"cumple_norma_para_uso",Uso_final_del_agua:"uso_final_del_agua",Relieve_dominante:"relieve_dominante",Clima:"Clima",clima:"Clima"}),indicators:Object.freeze([{id:"V1",moduleId:"geologico",key:"Nombre_Formacion",label:"Nombre formacin/miembro/grupo/unidad"},{id:"V2",moduleId:"geologico",key:"Descripcion_Formacion",label:"Descripcin de la unidad geolgica"},{id:"V3",moduleId:"geologico",key:"Profundidad_Formacion_m",label:"Profundidad (m) techobase"},{id:"V4",moduleId:"geologico",key:"Escala_mapa_geologico",label:"Escala del mapa geolgico"},{id:"V5",moduleId:"geologico",key:"Fuente_mapa",label:"Fuente del mapa"},{id:"V6",moduleId:"hidraulico",key:"Unidad_referida",label:"Unidad referida"},{id:"V7",moduleId:"hidraulico",key:"Tipo_unidad",label:"Tipo de unidad"},{id:"V8",moduleId:"hidraulico",key:"Conductividad_hidraulica_K",label:"Conductividad hidrulica (K)"},{id:"V9",moduleId:"hidraulico",key:"Transmisividad_T",label:"Transmisividad (T)"},{id:"V10",moduleId:"hidraulico",key:"Coeficiente_almacenamiento_S",label:"Coeficiente de almacenamiento (S)"},{id:"V11",moduleId:"hidraulico",key:"Fuente_parametros",label:"Fuente de parmetros"},{id:"V12",moduleId:"hidrologico",key:"Cuenca",label:"Cuenca"},{id:"V13",moduleId:"hidrologico",key:"Subcuenca_o_rio",label:"Subcuenca o ro"},{id:"V14",moduleId:"hidrologico",key:"Area_cuenca_km2",label:"rea cuenca (km)"},{id:"V15",moduleId:"hidrologico",key:"Periodo_analisis",label:"Periodo de anlisis"},{id:"V16",moduleId:"hidrologico",key:"Precipitacion_P",label:"Precipitacin (P)"},{id:"V17",moduleId:"hidrogeoquimico",key:"Facies_hidrogeoquimicas",label:"Facies hidrogeoqumicas"},{id:"V18",moduleId:"hidrogeoquimico",key:"Parametros_quimicos",label:"Parmetros qumicos reportados"},{id:"V19",moduleId:"hidrogeoquimico",key:"Calidad_agua_acuifero",label:"Calidad del agua del acufero"},{id:"V20",moduleId:"hidrogeoquimico",key:"Fuente_hidrogeoquimica",label:"Fuente hidrogeoqumica"},{id:"V21",moduleId:"caracterizacion",key:"UHG_codigo",label:"UHG (UHG-1, UHG-2)"},{id:"V22",moduleId:"caracterizacion",key:"Unidad_geologica_asociada",label:"Unidad geolgica asociada"},{id:"V23",moduleId:"caracterizacion",key:"Tipo_de_acuifero",label:"Tipo de acufero",requiredMin:!0},{id:"V24",moduleId:"caracterizacion",key:"Escala_del_acuifero",label:"Escala del acufero"},{id:"V25",moduleId:"caracterizacion",key:"Porosidad_clase",label:"Porosidad (clase)"},{id:"V26",moduleId:"caracterizacion",key:"Permeabilidad_clase",label:"Permeabilidad (clase)"},{id:"V27",moduleId:"caracterizacion",key:"Nivel_freatico",label:"Nivel fretico"},{id:"V28",moduleId:"relieve",key:"Relieve",label:"Relieve"},{id:"V29",moduleId:"fuente",key:"Tipo_de_fuente",label:"Tipo de fuente de agua",requiredMin:!0},{id:"V30",moduleId:"fuente",key:"Calidad_agua_recarga",label:"Calidad del agua a recargar",requiredMin:!0},{id:"V31",moduleId:"fuente",key:"Calidad_post_mezcla",label:"Calidad post-mezcla"},{id:"V32",moduleId:"volumen",key:"Capacidad_almacenamiento",label:"Capacidad de almacenamiento"},{id:"V33",moduleId:"volumen",key:"Volumen_recarga",label:"Volumen/caudal de recarga"},{id:"V34",moduleId:"infraestructura",key:"Infraestructura_documentada",label:"Infraestructura documentada"},{id:"V35",moduleId:"comunidad",key:"Regulacion_permisos_comunidad",label:"Regulacin, permisos y comunidad",requiredMin:!0}]),extraFields:Object.freeze([{moduleId:"comunidad",key:"Uso_final",label:"Uso final del agua",requiredMin:!0},{moduleId:"relieve",key:"Clima",label:"Clima"}]),routeA:Object.freeze({groups:G2,variables:L2,bindings:Object.freeze({C1:Object.freeze({indicatorIds:Object.freeze([]),mapLayerIds:Object.freeze([]),extraFields:Object.freeze([])}),C2:Object.freeze({indicatorIds:Object.freeze(["V1","V2","V3","V4","V5","V6","V7","V8","V9","V10","V11","V12","V13","V14","V15","V16","V21","V22","V23","V24","V25","V26","V27","V28"]),mapLayerIds:Object.freeze(["mapa-geologico","estructuras-lineamientos","densidad-estructuras-lineamientos","uso-suelo-cobertura","drenajes","densidad-drenajes","nivel-freatico","recarga","precipitacion","unidades-hidrogeologicas"]),extraFields:Object.freeze([])}),C3:Object.freeze({indicatorIds:Object.freeze(["V17","V18","V19","V20","V29","V30","V31"]),mapLayerIds:Object.freeze([]),extraFields:Object.freeze([])}),C4:Object.freeze({indicatorIds:Object.freeze(["V32","V33"]),mapLayerIds:Object.freeze([]),extraFields:Object.freeze([])}),C5:Object.freeze({indicatorIds:Object.freeze(["V34"]),mapLayerIds:Object.freeze([]),extraFields:Object.freeze([])}),C6:Object.freeze({indicatorIds:Object.freeze(["V35"]),mapLayerIds:Object.freeze([]),extraFields:Object.freeze([{moduleId:"comunidad",key:"Uso_final",label:"Uso final del agua",requiredMin:!0},{moduleId:"relieve",key:"Clima",label:"Clima"}])})})})});function R1(o){if(o==null)return!0;const n=String(o).trim();return!n||n==="No_reportado"||n==="No reportado"}function mm(o,n){let l=o?.phase1?.modules?.[n]||null||o?.[n]||{};if(n==="caracterizacion"){const u=o?.caracterizacion?.uhg_entries;if(Array.isArray(u)&&u.length){const y={...l||{}};for(const m of u)if(!(!m||typeof m!="object"))for(const[x,b]of Object.entries(m))R1(b)||x in y||(y[x]=b);l=y}}const d=o?.[`${n}_entries`];if(Array.isArray(d)&&d.length){const u={};for(const y of d)if(!(!y||typeof y!="object"))for(const[m,x]of Object.entries(y))R1(x)||m in u||(u[m]=x);if(Object.keys(u).length)return u}return l}function bm(o,n){if(!o||typeof o!="object")return"";if(n in o)return o[n];for(const[l,d]of Object.entries(br.aliases))if(d===n&&l in o)return o[l];const r=br.aliases[n];return r&&r in o?o[r]:""}function eo(o){if(o==null)return!0;const n=String(o).trim();return!n||n==="No_reportado"||n==="No reportado"}function jo(o){return String(o??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g," ").trim()}function Su(o){if(o==null)return null;const r=String(o).replace(/,/g,".").match(/-?\d+(\.\d+)?/);if(!r)return null;const l=Number(r[0]);return Number.isFinite(l)?l:null}function T2(o,n,r,l){const d=n+l;if(d===0)return 0;const u=o+r;return u===0?0:u<d?2:l>0&&r===l?4:3}function z2(o,n,r){if(eo(o))return 0;const l=jo(o);if(n&&Object.prototype.hasOwnProperty.call(n,l))return n[l];if(n){const d=Object.fromEntries(Object.entries(n).map(([u,y])=>[jo(u),y]));if(Object.prototype.hasOwnProperty.call(d,l))return d[l]}return Number.isFinite(r)?r:2}function E2(o,n){if(eo(o))return 0;const r=jo(o);return(n||[]).some(d=>r.includes(jo(d)))?4:0}function R2(o){return eo(o)?3:1}function es(o,n){const r=mm(o,n.moduleId);return bm(r,n.key)}function O2(o,n){const r=Array.isArray(n.inputs)?n.inputs:[],l=Array.isArray(n.maps)?n.maps:[],d=r.map(q=>{const $=es(o,q);return{...q,value:$,missing:eo($)}}),u=d.filter(q=>!q.missing).length,y=d.length;let m=Number.isFinite(n.minInputsPresent)?n.minInputsPresent:y;const x=l.map(q=>{const $=o?.mapUploads?.[q],z=(o?.mapMeta?.[q]||{})?.marks||{},Q=(br.modules||[]).flatMap(ze=>(ze.maps||[]).map(P=>({...P,moduleId:ze.id}))).find(ze=>ze.layerId===q)||null,ae=Q?.moduleId||null,me=Q?.label||q,K=ae?o?.mapLayersByModule?.[ae]:null,fe=Array.isArray(K)?K.includes(q):!0,ce=fe&&!!($?.url&&$?.name),Le=fe&&!!(z?.north&&z?.scale&&z?.legend);return{layerId:q,label:me,hasFile:ce,validated:Le}}),b=x.filter(q=>q.hasFile).length,j=x.length;if(n.id==="V9"){const q=d.find(B=>B.key==="cap_infiltracion_zona_no_saturada")?.value??"";m=jo(q).includes("si")?2:1}const C=u<m||b<j,M=n.scoring||{kind:"presence"},A=n.groupImpact||{},O={G1:Math.max(0,Math.min(1,Number(A.G1??1))),G2:Math.max(0,Math.min(1,Number(A.G2??1))),G3:Math.max(0,Math.min(1,Number(A.G3??1)))},V=d.find(q=>!q.missing)?.value??"",J=jo(V),ge=jo(es(o,{moduleId:"fuente",key:"tipo_de_fuente"})).includes("superficial");let re={G1:0,G2:0,G3:0},ne=0,ue="";if((n.id==="V36"||n.id==="V37")&&!ge)return{id:n.id,label:n.label,question:n.question||"",criterionId:n.criterionId,inputs:d,maps:x,missing:!1,score04:0,scoreByGroup:re,reason:"no aplica (fuente no superficial)",groupImpact:O};const Me=jo(es(o,{moduleId:"infraestructura",key:"tipo_infraestructura"}));if((Me.includes("no hay infraestructura")||Me.includes("sin infraestructura"))&&new Set(["V26","V28","V29","V32","V33"]).has(n.id))return{id:n.id,label:n.label,question:n.question||"",criterionId:n.criterionId,inputs:d,maps:x,missing:!1,score04:0,scoreByGroup:re,reason:"sin infraestructura existente",groupImpact:O};switch(M.kind){case"selectByGroup":{if(eo(V))re={G1:0,G2:0,G3:0};else{const q=M.mapByGroup||{},B=Object.fromEntries(Object.entries(q).map(([Q,ae])=>[jo(Q),ae]))[J],z=Number.isFinite(M.defaultScore)?M.defaultScore:2;re=B||{G1:z,G2:z,G3:z}}re={G1:re.G1*O.G1,G2:re.G2*O.G2,G3:re.G3*O.G3},ne=(re.G1+re.G2+re.G3)/3,n.id==="V8"&&(ne=Math.round(ne)),ue=String(V||"");break}case"select":{let $=z2(V,M.map||{},M.defaultScore);const B=[];if(V&&B.push(String(V)),n.id==="V11"||n.id==="V12"){const z=es(o,{moduleId:"hidraulico",key:"Tipo_unidad"});if(!eo(z)){const Q=jo(z);Q.includes("acuicludo")||Q.includes("acuifugo")?($=0,B.push(`tipo acuifero: ${z}`)):Q.includes("acuitardo")&&($=Math.min($,3),B.push(`tipo acuifero: ${z}`))}}re={G1:$*O.G1,G2:$*O.G2,G3:$*O.G3},ne=$,ue=B.join(" | ");break}case"selectContains":{const q=E2(V,M.tokens||[]);re={G1:q*O.G1,G2:q*O.G2,G3:q*O.G3},ne=q,ue=String(V||"");break}case"compareLTE":{const q=Su(d[0]?.value),$=Su(d[1]?.value),B=q===null||$===null?0:q<=$?4:1;re={G1:B*O.G1,G2:B*O.G2,G3:B*O.G3},ne=B,ue=q===null||$===null?"sin datos":`${q} <= ${$}`;break}case"pozosOperativos":{const q=jo(d[0]?.value||""),$=jo(d[1]?.value||""),B=q.includes("pozo");let z=0;B&&($==="bueno"||$==="regular"?z=4:z=2),re={G1:z*O.G1,G2:z*O.G2,G3:z*O.G3},ne=z,ue=B?d[1]?.value||"":"sin pozos";break}case"inversePresence":{const q=R2(V);re={G1:q*O.G1,G2:q*O.G2,G3:q*O.G3},ne=q,ue=eo(V)?"sin limitante":String(V||"");break}case"presence":default:{const q=T2(u,m,b,j);re={G1:q*O.G1,G2:q*O.G2,G3:q*O.G3},ne=q,ue=`${u}/${y}`;break}}if(n.id==="V9"){const q=d.find(ae=>ae.key==="cap_infiltracion_zona_no_saturada")?.value??"",$=d.find(ae=>ae.key==="cap_infiltracion_categoria")?.value??"",B=jo(q),z=jo($),Q=(ae,me,K,fe)=>{re={G1:ae,G2:me,G3:K},ne=(ae+me+K)/3,ue=fe||$||q||ue};B.includes("si")||z?z.includes("muy alta")?Q(3,0,4,$):z.includes("alta")?Q(4,1,4,$):z.includes("media")||z.includes("moderad")?Q(3,1,3,$):z.includes("baja")?Q(2,1,1,$):(z.includes("no evaluado")||z.includes("no evaluada"))&&Q(0,0,0,$):B.includes("no")&&Q(0,0,0,q)}if(n.id==="V36"||n.id==="V37"){const q=[O.G1>0?re.G1:null,O.G2>0?re.G2:null,O.G3>0?re.G3:null].filter($=>Number.isFinite($));ne=q.length?q.reduce(($,B)=>$+B,0)/q.length:0}if(n.id==="V23"&&(ue=String(V||"")),n.id==="V25"&&M.kind!=="selectByGroup"){const q=jo(V),$=eo(V)||q=="no evaluado"?0:4;re={G1:$*O.G1,G2:$*O.G2,G3:$*O.G3},ne=$,ue=String(V||"")}if(n.id==="V2"){const q=y+j,$=u+b;let B=0;if(q>0)if($===0)B=0;else if($===q)B=4;else{const z=$/q;z>=.75?B=3:z>=.5?B=2:B=1}re={G1:B*O.G1,G2:B*O.G2,G3:B*O.G3},ne=B,ue=`${$}/${q}`}if(n.id==="V4"){const q=es(o,{moduleId:"hidrologico",key:"p_med_anual_mm"}),$=es(o,{moduleId:"hidrologico",key:"q_med_anual_m3s"}),B=!eo(q),z=!eo($);let Q=0;b===0&&!B&&!z?Q=0:b>=1&&B&&z?Q=b===j?4:3:b>=1&&(B||z)?Q=2:Q=0,re={G1:Q*O.G1,G2:Q*O.G2,G3:Q*O.G3},ne=Q;const ae=[];B&&ae.push(`P: ${q}`),z&&ae.push(`Q: ${$}`),ae.push(`mapas: ${b}/${j}`),ue=ae.join(" | ")}if(n.id==="V5"){const q=es(o,{moduleId:"hidraulico",key:"Tipo_unidad"}),$=es(o,{moduleId:"hidraulico",key:"porosidad"}),B=es(o,{moduleId:"hidraulico",key:"permeabilidad"}),z=es(o,{moduleId:"hidraulico",key:"conductividad_hidraulica_k"}),Q=es(o,{moduleId:"hidraulico",key:"transmisividad_t"}),ae=_=>{if(eo(_))return null;const R=jo(_);return R.includes("muy alta")||R.includes("muy alto")||R.includes("muy buena")||R.includes("muy bueno")||R.includes("buena")||R.includes("bueno")?4:R.includes("alta")||R.includes("alto")?3:R.includes("regular")||R.includes("media")||R.includes("medio")?2:R.includes("muy baja")||R.includes("baja")||R.includes("mala")?1:Su(_)!==null?2:null},me=ae($),K=ae(B),fe=ae(z),ce=ae(Q),Le=[me,K,fe,ce].filter(_=>Number.isFinite(_));let ze=Le.length?Math.round(Le.reduce((_,R)=>_+R,0)/Le.length):0;j>0&&b<j&&ze===4&&(ze=3),re={G1:ze*O.G1,G2:ze*O.G2,G3:ze*O.G3},ne=ze;const P=[];eo(q)||P.push(`tipo unidad: ${q}`),eo($)||P.push(`porosidad: ${$}`),eo(B)||P.push(`permeabilidad: ${B}`),eo(z)||P.push(`K: ${z}`),eo(Q)||P.push(`T: ${Q}`),j>0&&P.push(`mapas: ${b}/${j}`),ue=P.join(" | ")}if(n.id==="V6"){const q=ce=>Su(es(o,{moduleId:"hidrogeoquimico",key:ce})),$=es(o,{moduleId:"hidrogeoquimico",key:"facies_hidroquimica_descriptiva"}),B=(ce,Le)=>ce===null?null:ce<=Le?4:ce<=Le*1.5?3:ce<=Le*2?2:ce<=Le*3?1:0,Q=[(ce=>ce===null?null:ce>=6.5&&ce<=9?4:ce>=6&&ce<=9.5?3:ce>=5.5&&ce<=10?2:ce>=5&&ce<=10.5?1:0)(q("ph")),B(q("tds_mgL"),500),B(q("ce_uScm"),1e3),B(q("ca_mgL"),60),B(q("mg_mgL"),36),B(q("k_mgL"),10),B(q("na_mgL"),200),B(q("cl_mgL"),250),B(q("so4_mgL"),250),B(q("hco3_mgL"),250),B(q("no3_mgL"),10)].filter(ce=>Number.isFinite(ce)),ae=eo($)?null:4,me=ae!==null?[...Q,ae]:Q,K=me.length===0?0:me.reduce((ce,Le)=>ce+Le,0)/me.length,fe=Math.max(0,Math.min(4,Math.round(K)));re={G1:fe*O.G1,G2:fe*O.G2,G3:fe*O.G3},ne=fe,ue=me.length?`promedio: ${K.toFixed(2)}`:"sin datos"}return{id:n.id,label:n.label,question:n.question||"",criterionId:n.criterionId,inputs:d,maps:x,missing:C,score04:ne,scoreByGroup:re,reason:ue,groupImpact:O}}function q2(o){return(br?.routeA?.variables||[]).map(r=>O2(o,r))}function Du(o,n){const r=q2(o),l=br?.routeA?.groups||[],d=br?.criteria||[],u=n||{},y=d.reduce((M,A)=>M+(Number(u[A.id])||0),0),m=d.length?1/d.length:0,x={};for(const M of d)x[M.id]={...M,variables:[]};for(const M of r)x[M.criterionId]&&x[M.criterionId].variables.push(M);const b={};for(const M of l)b[M.id]=0;for(const M of d){const A=x[M.id]?.variables||[],O=y>0?(Number(u[M.id])||0)/y:m;for(const V of l){let J=0,F=0;for(const re of A){const ne=re.groupImpact?.[V.id]??1;J+=re.scoreByGroup?.[V.id]??0,F+=ne}const ge=F>0?J/F:0;b[V.id]+=ge*O}}const j={};for(const M of l){const A=b[M.id]??0;j[M.id]=Math.round(A/4*1e3)/10}const C={};for(const M of l)C[M.id]=r.filter(A=>(A.scoreByGroup?.[M.id]??0)<=1&&(A.groupImpact?.[M.id]??0)>=.6);return{variables:r,criteria:x,groups:l,finalScores:j,limitantes:C}}const n0=Object.freeze([{moduleId:"hidraulico",key:"Tipo_unidad",label:"Tipo de acuifero",kind:"select"},{moduleId:"fuente",key:"tipo_de_fuente",label:"Fuente de agua",kind:"select"},{moduleId:"fuente",key:"categoria_calidad_mar",label:"Calidad del agua fuente",kind:"select"},{moduleId:"fuente",key:"cumple_norma_para_uso",label:"Normativa para la recarga",kind:"select"},{moduleId:"comunidad",key:"uso_final_del_agua",label:"Uso final",kind:"select"}]);function xm(o){const n=[];for(const r of n0){const l=mm(o,r.moduleId),d=bm(l,r.key);(r.kind==="select"?!eo(d):String(d??"").trim().length>0)||n.push(r)}return{ok:n.length===0,missing:n}}function I2(o){const n=o&&typeof o=="object"?{...o}:{},r=n.caseId||n.id||null;r&&(n.caseId=r,n.id=n.id||r),typeof n.nombre!="string"&&(n.nombre=n.nombre?String(n.nombre):""),typeof n.usuario!="string"&&(n.usuario=n.usuario?String(n.usuario):""),typeof n.ubicacion!="string"&&(n.ubicacion=n.ubicacion?String(n.ubicacion):""),(!n.mapUploads||typeof n.mapUploads!="object")&&(n.mapUploads={}),(!n.mapMeta||typeof n.mapMeta!="object")&&(n.mapMeta={}),(!n.mapLayersByModule||typeof n.mapLayersByModule!="object")&&(n.mapLayersByModule={});for(const l of br.modules){const d=l.id;n.phase1?.modules?.[d]||(!n[d]||typeof n[d]!="object")&&(n[d]={}),Array.isArray(n.mapLayersByModule[d])||(n.mapLayersByModule[d]=[])}for(const l of br.modules)for(const d of l.maps||[]){const u=d.layerId,y=n.mapUploads?.[u];(!n.mapMeta[u]||typeof n.mapMeta[u]!="object")&&(n.mapMeta[u]={});const m=n.mapMeta[u];(!m.marks||typeof m.marks!="object")&&(m.marks={}),m.marks={north:m.marks.north??null,scale:m.marks.scale??null,legend:m.marks.legend??null,polygon:m.marks.polygon??null},m.confirmedLayer=!!m.confirmedLayer,m.scaleText=typeof m.scaleText=="string"?m.scaleText:"",m.expectedLayerLabel=typeof m.expectedLayerLabel=="string"&&m.expectedLayerLabel.trim()?m.expectedLayerLabel:d.label||u,!!(y?.url&&y?.name)&&!n.mapLayersByModule[l.id].includes(u)&&n.mapLayersByModule[l.id].push(u)}return n}function F2({activeRoute:o,setActiveRoute:n}){const[r,l]=je.useState("A"),d=br?.uiCopy?.phase2Intro;return!(d?.baseTruth&&d?.twoRoutes&&d?.routeA&&d?.routeB&&d?.closing)?null:t.jsx("div",{className:"panel-card",children:t.jsxs("div",{className:"fase2-intro-wrap",children:[t.jsx("p",{className:"fase2-intro-p",children:d.baseTruth}),t.jsx("p",{className:"fase2-intro-p",children:d.twoRoutes}),t.jsxs("div",{className:"fase2-route-cards",children:[t.jsxs("div",{className:"fase2-route-card",children:[t.jsx("h3",{className:"fase2-route-title",children:d.routeA?.title}),t.jsx("p",{className:"fase2-route-p",children:d.routeA?.body}),t.jsxs("p",{className:"fase2-route-result",children:[t.jsx("strong",{children:"Resultado esperado:"})," ",d.routeA?.expected]})]}),t.jsxs("div",{className:"fase2-route-card",children:[t.jsx("h3",{className:"fase2-route-title",children:d.routeB?.title}),t.jsx("p",{className:"fase2-route-p",children:d.routeB?.body}),t.jsxs("p",{className:"fase2-route-result",children:[t.jsx("strong",{children:"Resultado esperado:"})," ",d.routeB?.expected]})]})]}),t.jsx("p",{className:"fase2-intro-p",children:d.closing}),d.nextStepTitle||d.nextStepItem?t.jsxs("div",{className:"fase2-nextstep",children:[d.nextStepTitle?t.jsx("div",{className:"fase2-nextstep-title",children:d.nextStepTitle}):null,d.nextStepItem?t.jsx("div",{className:"fase2-nextstep-item",children:d.nextStepItem}):null]}):null]})})}const V2=[{title:"Etapa 1: Preparacin de datos",highlights:["Recoleccin: dataset de 130 casos histricos MAR","Limpieza: manejo de valores faltantes y outliers","Codificacin: One-Hot Encoding para variables categricas","Escalado: normalizacin/estandarizacin de numricas"],purpose:"Transformar datos crudos en formato ML-compatible",result:"Matriz X (features) y vector y (grupo MAR ptimo)"},{title:"Etapa 2: Ingeniera de features",highlights:["Seleccin de variables: anlisis de importancia","Creacin de escenarios: E1 (5 vars), E2 (13 vars), E3 (24+ vars)","Interacciones: features compuestos (ej. acufero  fuente)"],purpose:"Optimizar la representacin de la informacin",result:"Conjuntos de features por escenario"},{title:"Etapa 3: Entrenamiento de modelos",highlights:["Modelo A: rbol de Decisin (CART) con profundidad controlada y poda","Modelo B: Bosque Aleatorio (Random Forest) de 100-500 rboles","Ambos modelos buscan capturar no-linealidades e interpretar patrones"],purpose:"Aprender patrones de casos histricos",result:"Modelos entrenados ML_E1, ML_E2 y ML_E3"},{title:"Etapa 4: Validacin y evaluacin",highlights:["Validacin cruzada estratificada k-fold (k=5 o 10)","Curvas de aprendizaje para detectar overfitting","Matrices de confusin y mtricas por grupo MAR"],purpose:"Cuantificar desempeo predictivo",result:"Mtricas por escenario y modelo"},{title:"Etapa 5: Anlisis de importancia de variables",highlights:["Gini Importance (Random Forest)","Permutation Importance (agnstico al modelo)","SHAP values para interpretabilidad avanzada"],purpose:"Identificar variables crticas para la decisin",result:"Ranking de importancia y grficos de contribucin"},{title:"Etapa 6: Comparacin Ruta A vs Ruta B",highlights:["Prueba t pareada sobre F1-scores","Test de McNemar para diferencias en clasificacin","Curvas ROC comparativas y anlisis estadstico"],purpose:"Validar hiptesis de mejora con ML",result:"Evidencia estadstica (p-value, intervalos de confianza)"}],O1=[{bg:"rgba(56, 189, 248, 0.12)",border:"rgba(56, 189, 248, 0.4)"},{bg:"rgba(16, 185, 129, 0.12)",border:"rgba(16, 185, 129, 0.4)"},{bg:"rgba(251, 191, 36, 0.15)",border:"rgba(251, 191, 36, 0.5)"},{bg:"rgba(239, 68, 68, 0.08)",border:"rgba(239, 68, 68, 0.35)"},{bg:"rgba(129, 140, 248, 0.12)",border:"rgba(129, 140, 248, 0.4)"},{bg:"rgba(59, 130, 246, 0.12)",border:"rgba(59, 130, 246, 0.4)"}],D2=o=>O1[o%O1.length];function U2(){return t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600,fontSize:18},children:"Figura 7: Etapas del proceso automatizado"}),t.jsx("div",{style:{marginTop:10,display:"flex",flexDirection:"column",gap:14},children:V2.map((o,n,r)=>{const l=D2(n);return t.jsxs(je.Fragment,{children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 24px 1fr",alignItems:"flex-start",columnGap:14,width:"100%",maxWidth:980},children:[t.jsxs("div",{style:{borderRadius:10,padding:"10px 14px",flex:"1 1 0",fontSize:15,lineHeight:1.4,fontFamily:"inherit",textAlign:"left",background:l.bg,border:`1px solid ${l.border}`,cursor:"pointer"},onClick:()=>handleStageClick(n),children:[t.jsx("div",{style:{fontWeight:800},children:o.title}),t.jsx("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:4},children:o.highlights.map(d=>t.jsxs("div",{style:{display:"flex",gap:6},children:[t.jsx("span",{style:{fontWeight:600},children:""}),t.jsx("span",{children:d})]},d))})]}),t.jsx("div",{style:{fontSize:24,lineHeight:1,textAlign:"center"}}),t.jsxs("div",{style:{borderRadius:10,padding:"10px 14px",flex:"1 1 0",fontSize:15,lineHeight:1.4,fontFamily:"inherit",textAlign:"left",background:l.bg,border:`1px solid ${l.border}`},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:4},children:"Propsito"}),t.jsx("div",{style:{fontSize:14,lineHeight:1.5},children:o.purpose}),t.jsx("div",{style:{marginTop:8,fontWeight:700},children:"Resultado"}),t.jsx("div",{style:{fontSize:14,lineHeight:1.5},children:o.result})]})]}),n<r.length-1?t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 24px 1fr",columnGap:14,width:"100%",maxWidth:980},children:[t.jsx("div",{style:{display:"flex",justifyContent:"center"},children:t.jsx("div",{style:{fontSize:24,lineHeight:1},children:""})}),t.jsx("div",{})]}):null]},o.title)})})]})}const ym="sigmma.cases.v1",Dp="sigmma.activeCaseId.v1";function P2(o,n){try{return JSON.parse(o)}catch{return n}}function H2(o){return o&&typeof o=="object"&&(o.phase1||o.schemaVersion||o.catalogVersion||o.weights)}function W2(o,n){const r=o&&typeof o=="object"?{...o}:{};if(!r.id&&n&&(r.id=n),r.caseId||(r.caseId=r.id),!r.caseName&&r.nombre&&(r.caseName=r.nombre),H2(r))try{return I2(r)}catch{return r}return r}function Y2(){const o=localStorage.getItem(ym),n=o?P2(o,{}):{};let r={};Array.isArray(n)?n.forEach((d,u)=>{const y=d?.id||d?.caseId||`CASE_${String(u+1).padStart(3,"0")}`;r[y]=d}):n&&typeof n=="object"&&(r=n);const l={};for(const d of Object.keys(r))l[d]=W2(r[d],d);return l}function X2(o,n){if(o!=="dataUrl")return n}function Z2(o){return o&&(o.name==="QuotaExceededError"||o.code===22||o.code===1014||o.message&&o.message.toLowerCase().includes("quota"))}function K2(o){const n=JSON.stringify(o||{},X2);try{localStorage.setItem(ym,n)}catch(r){Z2(r)?console.warn("No se pudo persistir los casos: se excedi la cuota de localStorage",r):console.error("No se pudo guardar la informacin de casos",r)}}function r0(o){const n=localStorage.getItem(Dp);return n&&o&&o[n]&&n!=="nuevo"?n:Object.keys(o||{}).find(l=>l!=="nuevo")||null}let bl=Y2(),Xs=r0(bl);const Up=new Set;function vm(){const o={cases:bl,activeCaseId:Xs};Up.forEach(n=>n(o))}function J2(o){bl=o||{},Xs&&!bl?.[Xs]&&(Xs=r0(bl)),vm()}function Q2(o){Xs=o,Xs&&!bl?.[Xs]&&(Xs=r0(bl)),vm()}function Hl(){const[o,n]=dt.useState(()=>({cases:bl,activeCaseId:Xs}));dt.useEffect(()=>{const u=y=>n(y);return Up.add(u),()=>Up.delete(u)},[]);const r=dt.useCallback(u=>{const y=typeof u=="function"?u(bl):u;J2(y)},[]),l=dt.useCallback(u=>{const y=typeof u=="function"?u(Xs):u;Q2(y)},[]);dt.useEffect(()=>{K2(o.cases)},[o.cases]),dt.useEffect(()=>{o.activeCaseId?localStorage.setItem(Dp,o.activeCaseId):localStorage.removeItem(Dp)},[o.activeCaseId]);const d=dt.useMemo(()=>o.activeCaseId?o.cases?.[o.activeCaseId]??null:null,[o.activeCaseId,o.cases]);return{cases:o.cases,setCases:r,activeCaseId:o.activeCaseId,setActiveCaseId:l,activeCase:d}}const $2=[{id:1,title:"Escenario 1 - Mnimo operativo",desc:"Se trabaja solo con los 5 criterios obligatorios. Permite continuar el proceso, pero los resultados son ms sensibles a faltantes.",warn:"Mayor incertidumbre (Clculo del dato al final)."},{id:2,title:"Escenario 2 - Intermedio verificado",desc:"Incluye Escenario 1 ms los insumos de modelos (geolgico, hidrolgico, hidrulico e hidrogeoqumico, tipo de acufero y fuente/calidad).",warn:"Incertidumbre moderada (Clculo del dato al final)."},{id:3,title:"Escenario 3 - Completo robusto",desc:"Integra la mayor parte de variables V1-V35, mapas y evidencias. Es el escenario recomendado para resultados confiables.",warn:"Baja incertidumbre (Clculo del dato al final)."}],ex={geologico:"geologico",hidraulico:"hidraulico",hidrologico:"hidrologico",hidrogeoquimico:"hidrogeoquimico",caracterizacion:"caracterizacion",fuente:"fuente",volumen:"volumen",infraestructura:"infraestructura",comunidad:"comunidad",relieve:"relieve","mod-geologico":"geologico","mod-hidraulico":"hidraulico","mod-hidrologico":"hidrologico","mod-hidrogeoquimico":"hidrogeoquimico","mod-caracterizacion":"caracterizacion","mod-fuente":"fuente","mod-volumen":"volumen","mod-infraestructura":"infraestructura","mod-comunidad":"comunidad","mod-relieve":"relieve"},tx=Object.freeze({C1:10,C2:35,C3:20,C4:20,C5:15}),Yr=Object.freeze([{id:"C1",label:"Objetivo",description:"Propsito y claridad del objetivo MAR.",variables:"V1"},{id:"C2",label:"Condiciones hidrogeolgicas",description:"Modelos, propiedades del acufero y contexto fsico.",variables:"V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V24, V25"},{id:"C3",label:"Fuente y calidad del agua",description:"Tipo de fuente, calidad y compatibilidad fuente-acufero.",variables:"V13, V14, V15, V16, V36, V37, V17, V18"},{id:"C4",label:"Viabilidad tcnica",description:"Capacidad, volumen e infraestructura asociada.",variables:"V19, V20, V21, V26, V28, V29, V32, V33"},{id:"C5",label:"Aspectos socioambientales",description:"Uso final, comunidad y beneficio directo.",variables:"V22, V23, V34, V35"}]),Au=["G1","G2","G3"],hp=Object.freeze([{id:"V1",question:"Cul es el objetivo por el que se quiere aplicar MAR?",options:["Almacenamiento de excedentes o aumentar disponibilidad","Mitigacin de la sobreexplotacin","Control de intrusin salina","Mejorar la calidad del agua"],inputs:"NA"},{id:"V2",question:"Existe o realizaron caracterizacin del acufero?",options:["S","No"],inputs:"Caracterizacin del acufero"},{id:"V3",question:"Existe o realizaron un modelo geolgico?",options:["S","No"],inputs:"Modelo geolgico"},{id:"V4",question:"Existe o realizaron un modelo hidrolgico?",options:["S","No"],inputs:"Modelo hidrolgico"},{id:"V5",question:"Existe o realizaron un modelo numrico?",options:["S","No"],inputs:"Modelo hidrulico"},{id:"V6",question:"Existe o realizaron un modelo hidrogeoqumico?",options:["S","No"],inputs:"Modelo hidrogeoqumico"},{id:"V7",question:"Cul es la escala que define el acufero del estudio?",options:["Muy pequeo (&le; 100 km&sup2;)","Pequeo (100-500 km&sup2;)","Mediano (500-5000 km&sup2;)","Grande (500-50000 km&sup2;)"],inputs:"Modelo geolgico"},{id:"V8",question:"Cul es el tipo de acufero?",options:["Libre","Semiconfinado - Confinado"],inputs:"Modelo hidrulico"},{id:"V9",question:"Conoce la capacidad de infiltracin de la zona no saturada?",options:["S","No"],inputs:"Volumen - capacidad"},{id:"V10",question:"La tcnica viable incluye pozos?",options:["S","No"],inputs:"Infraestructura"},{id:"V11",question:"La permeabilidad (K) del acufero es?",options:["Muy alta (100<K)","Alta (10<K<100)","Media (1<K<10)","Baja a muy baja (10^-2<K<1)"],inputs:"Modelo hidrulico - Caracterizacin del acufero"},{id:"V12",question:"La porosidad del acufero es?",options:["Muy alta (>50%)","Alta (30-50%)","Regular (10-30%)","Mala (0-10%)"],inputs:"Modelo hidrulico - Caracterizacin del acufero"},{id:"V13",question:"Conoce la fuente de agua?",options:["S","No"],inputs:"Fuente de agua"},{id:"V14",question:"Cul es la fuente de agua a recargar?",options:["Superficial","Escorrenta estacional","Agua residual","Subterrnea u otra fuente"],inputs:"Fuente de agua"},{id:"V15",question:"Conoce la calidad del agua fuente?",options:["S","No"],inputs:"Fuente de agua"},{id:"V16",question:"La recarga con esta fuente est permitida por la normativa local?",options:["S","No"],inputs:"Fuente de agua"},{id:"V36",question:"Si la fuente es superficial, cul es el tipo?",options:["Ro permanente","Ro estacional","Ro efmero","Lago/Embalse"],inputs:"Fuente de agua"},{id:"V37",question:"Existe conexin hidrulica (ro ganador, perdedor o sin conexin)?",options:["Ro ganador","Ro perdedor","Sin conexin"],inputs:"Fuente de agua"},{id:"V17",question:"Conoce la calidad del agua del acufero? Es vulnerable a la contaminacin?",options:["S","No"],inputs:"NA"},{id:"V18",question:"La mezcla fuente-acufero cumple los lmites de calidad aplicables?",options:["S","No"],inputs:"NA"},{id:"V19",question:"Conoce la capacidad de almacenamiento del acufero?",options:["S","No"],inputs:"Volumen - Capacidad"},{id:"V20",question:"Conoce el volumen de agua a recargar?",options:["S","No"],inputs:"Volumen - Capacidad"},{id:"V21",question:"El volumen de agua a recargar es < que la capacidad de almacenamiento del acufero?",options:["S","No"],inputs:"Volumen - Capacidad"},{id:"V22",question:"Conoce el uso final del agua?",options:["S","No"],inputs:"Comunidad - Uso final"},{id:"V23",question:"Cul es el uso final?",options:["Domstico","Industrial","Ambiental","Agrcola"],inputs:"Comunidad - Uso final"},{id:"V24",question:"Cul es el relieve que domina la zona de estudio?",options:["Llanura","Valle","Colina o meseta","Montaa"],inputs:"Relieve - clima"},{id:"V25",question:"Cul es el clima que predomina en su zona de estudio?",options:["rido o semirido (seco)","Clido (seco)","Hmedo-semihmedo (Templado)","Tropical"],inputs:"Relieve - clima"},{id:"V26",question:"En la zona de estudio existe infraestructura que pueda utilizarse para MAR?",options:["S","No"],inputs:"Infraestructura"},{id:"V28",question:"Existe planta de tratamiento en la zona de estudio?",options:["S","No"],inputs:"NA"},{id:"V29",question:"Existen estanques en la zona de estudio?",options:["S","No"],inputs:"NA"},{id:"V32",question:"Hay obras en cauce (presas) infraestructura de captacin de ribera?",options:["S","No"],inputs:"NA"},{id:"V33",question:"Existen pozos operativos o rehabilitables?",options:["S","No"],inputs:"NA"},{id:"V34",question:"Hay una comunidad en el rea de influencia?",options:["S","No"],inputs:"Comunidad - Uso final"},{id:"V35",question:"Se identific un beneficio directo (potable/riego/inundacin)?",options:["S","No"],inputs:"Comunidad - Uso final"}]),q1={"1.1":"/images/Presas_de_recarga.png","1.2":"/images/Presas_subterraneas.png","1.3":"/images/Presas_de_arena.png","1.4":"/images/Filtracion_de_ribera.png","2.1":"/images/ASR.png","2.2":"/images/ASTR.png","2.3":"/images/Pozos_secos.png","3.1":"/images/Estanque_infiltracion.png","3.2":"/images/SAT.png","3.3":"/images/Galerias_infiltracion.png","3.4":"/images/Inundaciones_controladas.png","3.5":"/images/Exceso_de_irrigacion.png","3.6":"/images/Dunas_de_infiltracion.png","3.7":"/images/Lluvia.png"},I1={[Ra("Estanques y cuencas de infiltracion")]:"/images/Estanque_infiltracion.png",[Ra("Tratamiento suelo - acuifero")]:"/images/SAT.png",[Ra("Tratamiento suelo-acuifero")]:"/images/SAT.png",[Ra("Tratamiento suelo-acuifero (SAT)")]:"/images/SAT.png",[Ra("Galerias de infiltracion")]:"/images/Galerias_infiltracion.png",[Ra("Inundaciones controladas")]:"/images/Inundaciones_controladas.png",[Ra("Exceso de riego")]:"/images/Exceso_de_irrigacion.png",[Ra("Filtracion de dunas")]:"/images/Dunas_de_infiltracion.png",[Ra("Captacion de agua lluvia")]:"/images/Lluvia.png"};function ix(o){if(!o)return null;if(o.icon)return o.icon;if(q1[o.id])return q1[o.id];const n=Ra(o.name);return I1[n]?I1[n]:null}function Ra(o){return String(o??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g," ").trim()}function Ar(o,n,r){if(!o)return"";const l=o?.phase1?.modules?.[n]||o?.[n]||{};if(!l||typeof l!="object")return"";if(r in l)return l[r];const d=br.aliases||{};for(const[y,m]of Object.entries(d))if(m===r&&y in l)return l[y];const u=d[r];return u&&u in l?l[u]:""}function ax(o){if(!o)return new Map;const n=new Map,r=(x,b,{round:j=!1,floor:C=!1}={})=>{if(!b)return;const M=(b.G1+b.G2+b.G3)/3;let A=M;j?A=Math.round(M):C&&(A=Math.floor(M)),n.set(x,{scoreByGroup:b,score04:A})},l=Ra(Ar(o,"hidraulico","Tipo_unidad"));l.includes("libre")?r("V8",{G1:4,G2:3,G3:4},{round:!0}):(l.includes("confinado")||l.includes("semiconfinado"))&&r("V8",{G1:2,G2:4,G3:2},{round:!0});const d=Ra(Ar(o,"fuente","tipo_de_fuente"));d.includes("superficial")?r("V14",{G1:4,G2:3,G3:3},{floor:!0}):d.includes("escorrentia")&&d.includes("estacional")?r("V14",{G1:2,G2:3,G3:4},{floor:!0}):d.includes("residual")?r("V14",{G1:1,G2:4,G3:4},{floor:!0}):d.includes("subterranea")?r("V14",{G1:0,G2:3,G3:2},{floor:!0}):d&&r("V14",{G1:4,G2:4,G3:4},{floor:!0});const u=Ra(Ar(o,"fuente","categoria_calidad_mar"));u.includes("no apta")||u.includes("no evaluada")?r("V15",{G1:0,G2:0,G3:0},{floor:!0}):u.includes("apta con")||u.includes("pretratamiento")||u.includes("con tratamiento")?r("V15",{G1:3,G2:3,G3:4},{floor:!0}):u.includes("apta")&&r("V15",{G1:4,G2:4,G3:3},{floor:!0});const y=Ra(Ar(o,"fuente","cumple_norma_para_uso"));y.includes("no evaluado")?r("V16",{G1:0,G2:0,G3:0},{floor:!0}):y.includes("parcial")?r("V16",{G1:2,G2:1,G3:2},{floor:!0}):y.includes("si")?r("V16",{G1:4,G2:4,G3:4},{floor:!0}):y.includes("no")&&r("V16",{G1:0,G2:0,G3:0},{floor:!0});const m=Ra(Ar(o,"comunidad","uso_final_del_agua"));if(m.includes("domestico")?r("V23",{G1:4,G2:3,G3:2}):m.includes("industrial")?r("V23",{G1:2,G2:4,G3:3}):m.includes("ambiental")?r("V23",{G1:3,G2:2,G3:4}):m.includes("agricola")?r("V23",{G1:3,G2:3,G3:4}):m.includes("mixto")&&r("V23",{G1:4,G2:3,G3:4}),m&&r("V22",{G1:4,G2:4,G3:4}),d.includes("superficial")){const x=Ra(Ar(o,"fuente","tipo_fuente_superficial"));x.includes("rio ganador")||x.includes("rio")&&x.includes("permanente")?r("V36",{G1:4,G2:3,G3:3}):x.includes("estacional")?r("V36",{G1:2,G2:3,G3:4}):x.includes("efimero")?r("V36",{G1:0,G2:3,G3:3}):(x.includes("lago")||x.includes("embalse"))&&r("V36",{G1:3,G2:3,G3:3});const b=Ra(Ar(o,"fuente","conexion_hidraulica"));b.includes("ganador")?r("V37",{G1:4,G2:3,G3:3}):b.includes("perdedor")?r("V37",{G1:2,G2:2,G3:2}):b.includes("sin")&&r("V37",{G1:0,G2:3,G3:1})}return n}function nx(o,n){if(!o||!n)return new Map;const r=new Map,l=($,B)=>{if(!B)return;const z=(B.G1+B.G2+B.G3)/3;r.set($,{scoreByGroup:B,score04:z})},d=($,B)=>{const z=n.get($);return(Array.isArray(z?.inputs)?z.inputs:[]).find(ae=>ae?.key===B)?.value??""},u=$=>{const B=ze=>{if(ze==null)return!1;const P=String(ze).trim();return!(!P||P==="No_reportado"||P==="No reportado")};if($==="V3"){const P=["nombre_unidad_geologica","descripcion_unidad_geologica","profundidad_unidad_geologica_m","escala_mapa_geologico"].filter(Z=>B(Ar(o,"geologico",Z))).length,_=n.get($),U=(Array.isArray(_?.maps)?_.maps:[]).filter(Z=>Z&&Z.hasFile).length;return{present:P+(U>0?1:0),total:5}}const z=n.get($),Q=Array.isArray(z?.inputs)?z.inputs:[],ae=Array.isArray(z?.maps)?z.maps:[],me=Q.filter(ze=>!ze?.missing).length,K=ae.filter(ze=>ze&&ze.hasFile).length,fe=$==="V4"?K>0?1:0:$==="V5"?ae.length&&K===ae.length?1:0:K,ce=$==="V4"||$==="V5"?Q.length+(ae.length?1:0):Q.length+ae.length;return{present:$==="V4"||$==="V5"?me+fe:me+K,total:ce}},m=Ra(Ar(o,"fuente","tipo_de_fuente")).includes("superficial"),x=Ra(Ar(o,"caracterizacion","clasificacion_hidrogeologica_uhg")),b=u("V2");let j=0;if(b.total>0)if(b.present===b.total)j=4;else{const $=b.present/b.total;$>=.75?j=3:$>=.5?j=2:b.present>0&&(j=1)}x.includes("acuifero")?l("V2",{G1:Math.min(4,j),G2:Math.min(4,j),G3:Math.min(4,j)}):x.includes("acuitardo")?l("V2",{G1:Math.min(1,j),G2:Math.min(3,j),G3:Math.min(2,j)}):(x.includes("acuicludo")||x.includes("acuifugo"))&&l("V2",{G1:0,G2:0,G3:0});const C=Ar(o,"volumen","cap_infiltracion_zona_no_saturada")||d("V9","cap_infiltracion_zona_no_saturada"),M=Ar(o,"volumen","cap_infiltracion_categoria")||d("V9","cap_infiltracion_categoria"),A=Ra(C),O=Ra(M);A.includes("si")?O.includes("muy alta")?l("V9",{G1:3,G2:0,G3:4}):O.includes("alta")?l("V9",{G1:4,G2:1,G3:4}):O.includes("media")||O.includes("moderad")?l("V9",{G1:3,G2:1,G3:3}):O.includes("baja")?l("V9",{G1:2,G2:1,G3:1}):(O.includes("no evaluado")||O.includes("no evaluada"))&&l("V9",{G1:0,G2:0,G3:0}):A.includes("no")&&l("V9",{G1:0,G2:0,G3:0});const V=u("V3");V.present>=5?l("V3",{G1:4,G2:4,G3:3}):V.present>=2?l("V3",{G1:3,G2:3,G3:2}):V.present>=1&&l("V3",{G1:1,G2:1,G3:1});const J=u("V5");let F=null;J.present>=6?F={G1:4,G2:4,G3:4}:J.present>=2?F={G1:3,G2:3,G3:3}:J.present>=1&&(F={G1:1,G2:1,G3:1});const ge=Ra(Ar(o,"hidraulico","porosidad")||Ar(o,"caracterizacion","porosidad")),re=Ra(Ar(o,"hidraulico","permeabilidad")||Ar(o,"caracterizacion","permeabilidad")),ne={"muy alta (>50%)":{G1:2,G2:3,G3:3},"alta (30-50%)":{G1:3,G2:4,G3:4},"regular (10-30%)":{G1:3,G2:3,G3:3},"mala (0-10%)":{G1:2,G2:2,G3:1}},ue={"muy alta (100<k)":{G1:4,G2:3,G3:4},"alta (10<k<100)":{G1:4,G2:4,G3:4},"media (1<k<10)":{G1:3,G2:3,G3:3},"baja (0.01<k<1)":{G1:1,G2:1,G3:1},"baja a muy baja (10^-2<k<1)":{G1:1,G2:1,G3:1}},Me=ne[Object.keys(ne).find($=>Ra($)===ge)],he=ue[Object.keys(ue).find($=>Ra($)===re)];if(he&&l("V11",he),Me&&l("V12",Me),Me||he){const $=Me&&he?{G1:Math.min(Me.G1,he.G1),G2:Math.min(Me.G2,he.G2),G3:Math.min(Me.G3,he.G3)}:Me||he,B=F?{G1:Math.min(F.G1,$.G1),G2:Math.min(F.G2,$.G2),G3:Math.min(F.G3,$.G3)}:$;l("V5",B)}else F&&l("V5",F);const se=u("V4");se.present>=3?l("V4",{G1:4,G2:m?3:2,G3:4}):se.present>=2?l("V4",{G1:3,G2:2,G3:3}):se.present>=1&&l("V4",{G1:1,G2:1,G3:1});const q=u("V6");if(q.present>=12?l("V6",{G1:4,G2:4,G3:3}):q.present>=9?l("V6",{G1:3,G2:2,G3:2}):q.present>=2&&l("V6",{G1:1,G2:1,G3:1}),m){const $=Ra(Ar(o,"fuente","tipo_fuente_superficial"));$.includes("rio ganador")||$.includes("rio")&&$.includes("permanente")?l("V36",{G1:4,G2:3,G3:3}):$.includes("estacional")?l("V36",{G1:2,G2:3,G3:4}):$.includes("efimero")?l("V36",{G1:0,G2:3,G3:3}):($.includes("lago")||$.includes("embalse"))&&l("V36",{G1:3,G2:3,G3:3});const B=Ra(Ar(o,"fuente","conexion_hidraulica"));B.includes("ganador")?l("V37",{G1:4,G2:3,G3:3}):B.includes("perdedor")?l("V37",{G1:2,G2:2,G3:2}):B.includes("sin")&&l("V37",{G1:0,G2:3,G3:1})}return r}function rx(o,n){const r=new Date().toISOString(),l=b=>{if(b==null)return!0;const j=String(b).trim();return!j||j==="No_reportado"||j==="No reportado"},d=(b,j)=>{const C={...b||{}},M=Array.isArray(j)?j:[];for(const A of M)if(!(!A||typeof A!="object"))for(const[O,V]of Object.entries(A))l(V)||l(C[O])&&(C[O]=V);return C},u={schemaVersion:br.schemaVersion,catalogVersion:br.catalogVersion,caseId:o?.id||n||"",caseName:o?.nombre||"",createdAtISO:o?.createdAtISO||r,updatedAtISO:r,weights:{...tx,...o?.weights||{}},mapUploads:o?.mapUploads||{},mapMeta:o?.mapMeta||{},mapLayersByModule:o?.mapLayersByModule||{},caracterizacion:o?.caracterizacion||{},phase1:{modules:{},maps:{}}};for(const b of br.modules){const j=ex[b.id]||b.id;let C={...o?.phase1?.modules?.[b.id]||{},...o?.[j]||{}};C=d(C,o?.[`${j}_entries`]),b.id==="caracterizacion"&&(C=d(C,o?.caracterizacion?.uhg_entries)),u.phase1.modules[b.id]=C}const y=br.aliases||{};for(const b of Object.keys(u.phase1.modules)){const j=u.phase1.modules[b];if(!(!j||typeof j!="object"))for(const C of Object.keys(j)){const M=y[C];M&&!(M in j)&&(j[M]=j[C])}}const m=o?.mapUploads||{},x=o?.mapMeta||{};for(const b of br.modules)for(const j of b.maps||[]){const C=j.layerId,M=m[C]||null,A=x[C]||{},O=A.marks||{},V=!!M?.url&&!!M?.name;u.phase1.maps[C]={layerId:C,label:j.label,fileName:V?M.name:null,mimeType:M?.type||null,dataUrl:V?M.url:null,uploadedAtISO:V?r:null,validation:{hasScale:!!String(A.scaleText||"").trim()||!!O.scale,hasNorth:!!O.north,hasLegend:!!O.legend,scaleText:String(A.scaleText||"")}}}return u}function F1(o){const n=Number(o)||0;return n<=0?"#fecaca":n===1?"#fed7aa":n===2?"#fef08a":n===3?"#bbf7d0":"#86efac"}function ox({activeRoute:o="A",onSelectRoute:n,onGoPhase3:r}={}){const{cases:l,setCases:d,activeCaseId:u}=Hl(),y=je.useRef(null),m=je.useRef(null),x=je.useRef(null),b=je.useRef(null),j=je.useRef(null),C=je.useRef(null),M=je.useRef(null),[A,O]=je.useState(1),[V,J]=je.useState(!1),[F,ge]=je.useState(null),[re,ne]=je.useState(1),[ue,Me]=je.useState(1),[he,se]=je.useState("C2"),[q,$]=je.useState(20),[B,z]=je.useState(1),[Q,ae]=je.useState(!1),[me,K]=je.useState(!1),[fe,ce]=je.useState(!1),[Le,ze]=je.useState(!1),[P,_]=je.useState(()=>new Set),[R,U]=je.useState(""),Z=je.useMemo(()=>!l||!u?null:l[u]||null,[l,u]),le=je.useCallback(g=>{u&&d(L=>{const W={...L||{}},pe=W[u];if(!pe)return L;const oe=g(pe);return W[u]={...oe,updatedAtISO:new Date().toISOString()},W})},[u,d]);je.useEffect(()=>{le(g=>({...g,phase2:{...g.phase2||{},sensitivitySettings:{criterion:he,range:q,step:B}}}))},[le,he,q,B]);const ye=je.useMemo(()=>!Z||u==="nuevo"?null:rx(Z,u),[Z,u]),qe=je.useMemo(()=>ye?Du(ye,Z?.weights||{}):null,[ye,Z?.weights]),Xe=je.useMemo(()=>Ra(Ar(ye,"fuente","tipo_de_fuente")),[ye]).includes("superficial");je.useEffect(()=>{O(1)},[u]);const He=Z?.phase2?.manualScores||{},ut=Z?.phase2?.manualOverrides||{},jt=!1,Ft=je.useMemo(()=>new Set(["V1","V17","V18"]),[]),X=je.useCallback(g=>Ft.has(g),[jt,Ft]);Z?.phase2?.useDefaultWeights,Z?.phase2?.weightJustification;const pt=Z?.phase2?.useCustomInfluence??!1,Tt=Z?.phase2?.customInfluenceByVar||{},Yt=Z?.phase2?.ahp?.pairs||{},lt=je.useMemo(()=>{const g=[];for(let L=0;L<Yr.length;L+=1){const W=Yr[L],pe=Yr.slice(L+1);pe.forEach((oe,Ce)=>{g.push({a:W,b:oe,showA:Ce===0,rowSpan:pe.length})})}return g},[]),Kt=je.useCallback(g=>{const L=g.length;if(!L)return{weights:[],lambdaMax:null,ci:null,cr:null};let W=Array.from({length:L},()=>1/L);for(let et=0;et<50;et+=1){const wt=Array.from({length:L},()=>0);for(let qt=0;qt<L;qt+=1){let Ii=0;for(let Fi=0;Fi<L;Fi+=1)Ii+=g[qt][Fi]*W[Fi];wt[qt]=Ii}const kt=wt.reduce((qt,Ii)=>qt+Ii,0);W=kt>0?wt.map(qt=>qt/kt):W}const pe=Array.from({length:L},()=>0);for(let et=0;et<L;et+=1){let wt=0;for(let kt=0;kt<L;kt+=1)wt+=g[et][kt]*W[kt];pe[et]=wt}const Ce=pe.map((et,wt)=>W[wt]?et/W[wt]:0).reduce((et,wt)=>et+wt,0)/L,ke=L>1?(Ce-L)/(L-1):0,Nt={1:0,2:0,3:.58,4:.9,5:1.12,6:1.24,7:1.32,8:1.41,9:1.45,10:1.49}[L]??1.49,it=Nt>0?ke/Nt:0;return{weights:W,lambdaMax:Ce,ci:ke,cr:it}},[]),zt=je.useCallback(g=>{const L=[...g.entries()];if(!L.length)return new Map;const W=L.map(([,Ce])=>Number(Ce)).sort((Ce,ke)=>ke-Ce),pe=[...L].sort((Ce,ke)=>Number(Ce[1])-Number(ke[1])),oe=new Map;return pe.forEach(([Ce],ke)=>{oe.set(Ce,Number.isFinite(W[ke])?W[ke]:0)}),oe},[]),Mt=je.useMemo(()=>{const g=Yr.map(oe=>oe.id),L=new Map(g.map((oe,Ce)=>[oe,Ce])),W=g.length,pe=Array.from({length:W},()=>Array.from({length:W},()=>1));for(let oe=0;oe<W;oe+=1)pe[oe][oe]=1;for(let oe=0;oe<W;oe+=1)for(let Ce=oe+1;Ce<W;Ce+=1){const ke=g[oe],Be=g[Ce],Nt=`${ke}-${Be}`,it=Yt[Nt]||{more:ke,scale:1},et=Number(it.scale)||1,qt=((it.more==="A"?ke:it.more==="B"?Be:it.more)===Be?Be:ke)===ke?et:1/et,Ii=1/qt;pe[oe][Ce]=qt,pe[Ce][oe]=Ii}return{matrix:pe,ids:g,indexById:L}},[Yt]),Ct=je.useMemo(()=>Kt(Mt.matrix),[Mt,Kt]),hi=Number.isFinite(Ct.cr)?Ct.cr:null,ki=Number.isFinite(hi)&&hi>.1,ai=je.useMemo(()=>{const g=Ct.weights||[],L=Yr.map((oe,Ce)=>({...oe,weight:Number.isFinite(g[Ce])?g[Ce]:0})),W=[...L].sort((oe,Ce)=>Ce.weight-oe.weight),pe=new Map(W.map((oe,Ce)=>[oe.id,Ce+1]));return L.map(oe=>({...oe,rank:pe.get(oe.id)||"-"}))},[Ct.weights]),Oi=je.useMemo(()=>[...ai].sort((g,L)=>(g.rank||0)-(L.rank||0)),[ai]),ui=je.useMemo(()=>new Map(ai.map(g=>[g.id,g.weight])),[ai]),Rt=je.useMemo(()=>fe?zt(ui):null,[fe,ui,zt]),si=je.useMemo(()=>{if(!fe||!Rt)return null;const g=Mt.ids,L=g.map(W=>g.map(pe=>{const oe=Number(Rt.get(W)||0),Ce=Number(Rt.get(pe)||0);return!Number.isFinite(oe)||!Number.isFinite(Ce)||Ce===0?oe||1:oe/Ce}));return{ids:g,matrix:L}},[fe,Rt,Mt.ids]),It=je.useMemo(()=>si?Kt(si.matrix):null,[si,Kt]),ta=je.useMemo(()=>Rt?[...Rt.entries()].sort(([,L],[,W])=>Number(W)-Number(L)).map(([L])=>L).join(" > "):"",[Rt]);je.useMemo(()=>{if(!Ct.weights?.length)return[];const g=Yr.map((pe,oe)=>({id:pe.id,label:pe.label,weight:Number(Ct.weights[oe]||0)})),L=[...g].sort((pe,oe)=>oe.weight-pe.weight),W=new Map(L.map((pe,oe)=>[pe.id,oe+1]));return g.map(pe=>({...pe,rank:W.get(pe.id)||0}))},[Ct.weights]);const $t=je.useMemo(()=>{const g=Yr.map(pe=>({id:pe.id,weight:Number(Z?.weights?.[pe.id]||0)})),L=g.reduce((pe,oe)=>pe+oe.weight,0),W=L>0;return new Map(W?g.map(pe=>[pe.id,L?pe.weight/L:0]):ai.map(pe=>[pe.id,pe.weight]))},[Z?.weights,ai]),T=je.useMemo(()=>fe?zt($t):$t,[fe,zt,$t]),Ne=je.useMemo(()=>{const g={};for(const[L,W]of T.entries())g[L]=Number(W)||0;return g},[T]),nt=je.useMemo(()=>Du(ye,Ne),[ye,Ne]),Ke=fe?nt:qe,_t=je.useMemo(()=>new Map(T),[T]),bt=!!(Z&&u!=="nuevo"&&Ke),At=je.useMemo(()=>{const g=Yr.length;return g*(g-1)/2},[]),bi=je.useMemo(()=>{const{matrix:g,ids:L}=Mt,W=Ct.weights||[];if(!g.length||!W.length)return[];const pe=[1,2,3,4,5,6,7,8,9],oe=[];for(let Ce=0;Ce<L.length;Ce+=1)for(let ke=Ce+1;ke<L.length;ke+=1){const Be=W[ke]===0?0:W[Ce]/W[ke];if(!Number.isFinite(Be)||Be===0)continue;const Nt=Be>=1?"A":"B",it=Be>=1?Be:1/Be;let et=1,wt=1/0;for(const Ii of pe){const Fi=Math.abs(Math.log(it)-Math.log(Ii));Fi<wt&&(wt=Fi,et=Ii)}const kt=g[Ce][ke],qt=Math.abs(Math.log(kt)-Math.log(Be));oe.push({pair:`${L[Ce]} vs ${L[ke]}`,suggestedMore:Nt,suggestedScale:et,error:qt})}return oe.sort((Ce,ke)=>ke.error-Ce.error).slice(0,3)},[Ct.weights,Mt]),Bt=je.useCallback((g,L)=>{le(W=>{const pe=W.phase2?.ahp||{},oe={...pe.pairs||{}};return oe[g]={...oe[g],...L},{...W,phase2:{...W.phase2||{},ahp:{...pe,pairs:oe}}}})},[le]),vt=je.useCallback((g,L,W,pe)=>{const oe=F===g;return t.jsxs("th",{style:{...pe,position:"relative",paddingRight:28},children:[t.jsx("span",{children:L}),t.jsx("button",{type:"button",onClick:()=>ge(Ce=>Ce===g?null:g),"aria-label":`Ayuda: ${typeof L=="string"?L:"columna"}`,style:{position:"absolute",top:6,right:6,width:16,height:16,padding:0,border:"none",background:"transparent",cursor:"pointer"},children:t.jsx("span",{style:{display:"block",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent",borderTop:"9px solid #0f172a"}})}),oe?t.jsx("div",{style:{position:"absolute",top:"100%",left:0,marginTop:6,background:"#ffffff",border:"1px solid rgba(0,0,0,.2)",borderRadius:8,padding:"8px 10px",fontSize:12,maxWidth:260,lineHeight:1.4,whiteSpace:"normal",wordBreak:"break-word",boxShadow:"0 4px 12px rgba(0,0,0,.12)",zIndex:5},children:W}):null]})},[F]),ci=je.useMemo(()=>{const g=new Map;for(const L of Ke?.variables||[])g.set(L.id,L);return g},[Ke]),on=je.useMemo(()=>["V2","V3","V4","V5","V6","V8","V11","V12","V13","V14","V15","V16","V36","V37","V17","V18"],[]),ia=je.useMemo(()=>["V8","V14","V15","V16","V22","V23"],[]),Oa=je.useMemo(()=>Array.from(new Set([...ia,...on])),[on,ia]);je.useMemo(()=>["V1","V2","V3","V4","V5","V6","V7","V8","V9","V11","V12","V13","V14","V15","V16","V17","V18","V36","V37","V19","V20","V21","V22","V23","V24","V25","V26","V28","V29","V32","V33","V34","V35"],[]),je.useMemo(()=>["V2","V3","V4","V5","V6","V7","V8","V9","V11","V12","V13","V14","V15","V16","V17","V18","V22","V23","V36","V37"],[]);const Li=je.useMemo(()=>new Set(["V11","V12"]),[]),Ut=je.useMemo(()=>new Set([]),[]),gn=je.useMemo(()=>{const g=new Map;for(const L of br.modules||[])for(const W of L.maps||[])g.set(W.layerId,L.id);return g},[]),mt=je.useMemo(()=>{const g=new Map,L=br?.routeA?.variables||[];for(const W of L)W&&W.id&&g.set(W.id,W.minInputsPresent);return g},[]),Ka=je.useCallback(g=>g?typeof g.missing=="boolean"&&!g.missing?!0:Array.isArray(g.inputs)&&g.inputs.length?g.inputs.every(L=>!L.missing):typeof g.missing=="boolean"?!g.missing:!0:!1,[]),Ja=je.useMemo(()=>ye?xm(ye):{ok:!1,missing:[]},[ye]),Yi=je.useMemo(()=>Ja.ok?ia.every(g=>Ka(ci.get(g))):!1,[Ja,ia,ci,Ka]),Qa=je.useCallback(g=>{if(!g)return!1;if(Array.isArray(g.inputs)&&g.inputs.length){if(["V26","V28","V29","V32","V33"].includes(g.id)){const oe=g.inputs.find(ke=>ke?.key==="tipo_infraestructura"),Ce=Ra(oe?.value);if(Ce.includes("no hay infraestructura")||Ce.includes("sin infraestructura"))return!0}const L=g.inputs.filter(oe=>!oe?.missing).length,W=mt.get(g.id);let pe=Number.isFinite(W)?W:g.inputs.length;if(g.id==="V9"){const oe=g.inputs.find(Be=>Be?.key==="cap_infiltracion_zona_no_saturada"),Ce=g.inputs.find(Be=>Be?.key==="cap_infiltracion_categoria");return oe?.missing?!1:Ra(oe?.value).includes("si")?!Ce?.missing:!0}return L>=pe}return!0},[mt]),qa=je.useCallback(g=>{if(!g)return!1;if(Array.isArray(g.inputs)&&g.inputs.length){const L=Ce=>{if(!Ce)return!1;if(Ce.missing===!1)return!0;const ke=Ce.value;if(ke==null)return!1;const Be=String(ke).trim();return!(!Be||Be==="No_reportado"||Be==="No reportado")};if(["V26","V28","V29","V32","V33"].includes(g.id)){const Ce=g.inputs.find(Be=>Be?.key==="tipo_infraestructura"),ke=Ra(Ce?.value);if(ke.includes("no hay infraestructura")||ke.includes("sin infraestructura"))return!0}const W=g.inputs.filter(L).length,pe=mt.get(g.id),oe=Number.isFinite(pe)?pe:Math.min(1,g.inputs.length);if(g.id==="V9"){const Ce=g.inputs.find(Nt=>Nt?.key==="cap_infiltracion_zona_no_saturada"),ke=g.inputs.find(Nt=>Nt?.key==="cap_infiltracion_categoria");return L(Ce)?Ra(Ce?.value).includes("si")?L(ke):!0:!1}return W>=oe}return!0},[mt]),mn=je.useMemo(()=>{const g=new Set(Oa);return["V36","V37"].forEach(L=>{Xe||g.delete(L)}),Array.from(g).every(L=>qa(ci.get(L)))},[Oa,ci,qa,Xe]),xa=je.useMemo(()=>{const g=Ke?.variables||[];return g.length?g.every(L=>Qa(L)):!1},[Ke,Qa]),Xi=Yi,sa=je.useMemo(()=>Yi&&!mn&&!xa,[Yi,mn,xa]),wa=je.useMemo(()=>mn&&!xa,[mn,xa]),St=je.useCallback(g=>A>=3?!1:sa?!ia.includes(g):wa?!Oa.includes(g):!1,[A,sa,wa,ia,Oa]),gt=je.useMemo(()=>{if(!ye)return ci;let g=null;if(sa?g=ax(ye):wa&&(g=nx(ye,ci)),!g||!g.size)return ci;const L=new Map(ci);for(const[W,pe]of g.entries()){const oe=ci.get(W);oe&&L.set(W,{...oe,...pe})}return L},[ci,ye,sa,wa]),Yn=je.useMemo(()=>{const g={};return gt.forEach((L,W)=>{g[W]={...L}}),g},[gt]),Ha=je.useMemo(()=>{const g=qe||{};return{scoreById:Yn,variables:Object.values(Yn),criteria:g.criteria||{},groups:g.groups||[],finalScores:g.finalScores||{},limitantes:g.limitantes||{}}},[qe,Yn]),sn=je.useMemo(()=>{const g=Array.isArray(Mt.ids)?Mt.ids:[],L=Array.isArray(Mt.matrix)&&Mt.matrix.length?Mt.matrix.map(ke=>Array.isArray(ke)?ke.map(Be=>Number.isFinite(Be)?Number(Be):null):[]):[];if(!g.length)return null;const W=Array.isArray(Ct.weights)?Ct.weights.map(ke=>Number.isFinite(ke)?Number(ke):0):[],pe=Number.isFinite(Ct.lambdaMax)?Ct.lambdaMax:null,oe=Number.isFinite(Ct.ci)?Ct.ci:null,Ce=Number.isFinite(Ct.cr)?Ct.cr:null;return{ids:g,matrix:L,weights:W,lambdaMax:pe,ci:oe,cr:Ce}},[Mt,Ct]),Wa=xa,Xn=je.useMemo(()=>Wa?3:Xi?Math.min(A+1,3):1,[Wa,Xi,A]),Cn=je.useMemo(()=>[{bg:"rgba(219, 234, 254, 0.55)",border:"rgba(147, 197, 253, 0.7)"},{bg:"rgba(254, 243, 199, 0.65)",border:"rgba(252, 211, 77, 0.7)"},{bg:"rgba(240, 253, 250, 0.65)",border:"rgba(153, 246, 228, 0.7)"}],[]),ya=je.useCallback(g=>{const L=Cn[g-1]||Cn[0];return{background:L.bg,border:`1px solid ${L.border}`}},[Cn]),_a=je.useCallback((g,L=!0)=>{const W=ya(g);if(Wa)return{...W,cursor:L?"pointer":"default"};const pe=g>Xn;return{...W,cursor:pe&&L?"not-allowed":L?"pointer":"default",opacity:pe?.55:1,filter:pe?"grayscale(0.1)":"none"}},[ya,Wa,Xn]),ka=je.useMemo(()=>({1:x,2:b,3:j}),[]),Ze=je.useCallback(g=>g<=Xn,[Xn]),fi=je.useCallback(g=>Wa||A>=g,[Wa,A]),vi=je.useCallback(g=>{if(!Ze(g))return;O(W=>g>W?g:W);const L=ka[g];L?.current&&typeof L.current.scrollIntoView=="function"&&L.current.scrollIntoView({behavior:"smooth",block:"start"})},[Ze,ka]),bn=je.useMemo(()=>(Ke?.variables||[]).filter(L=>!Ka(L)).map(L=>L.label||L.id),[Ke,Ka]),Ya=je.useMemo(()=>Ja.missing?.length?Ja.missing.map(g=>g.label||g.key||g.moduleId):[],[Ja]),de=je.useMemo(()=>(Ke?.variables||[]).filter(L=>Oa.includes(L.id)&&!qa(L)).map(L=>L.label||L.id),[Oa,Ke,qa]),Ae=je.useMemo(()=>gt.get("V1")||null,[gt]),be=je.useMemo(()=>St("V1"),[St]),Oe=je.useMemo(()=>(Ae?!Ae.missing:!1)&&!be,[be,Ae]),ot=He?.V1,$e=ut?.V1===!0&&ot!==void 0&&ot!==null&&ot!=="",xt=je.useMemo(()=>Number(Ae?.score04||0),[Ae]),gi=je.useMemo(()=>be?0:$e?Number(ot):xt,[xt,$e,be,ot]),ni=wa?"2":"1",Jt=be?"Bloqueado":Oe?"Completo":"Falta",ji=je.useMemo(()=>["G1","G2","G3"],[]),Ni=je.useMemo(()=>ji.map(g=>{const L=Ae?.scoreByGroup?.[g],W=be?0:$e?gi:Number.isFinite(L)?L:gi,pe=be?0:Oe&&Number.isFinite(W)?W:null;return{id:g,score:W,sc:pe,obs:be?`Bloqueado en escenario ${ni}`:Oe?`Objetivo compatible con ${g}`:"Pendiente de informacin"}}),[ni,gi,ji,$e,be,Oe,Ae]),We=je.useCallback(g=>Number.isFinite(g)?Number(g).toFixed(2):"-",[]),Vt=je.useMemo(()=>new Map(hp.map(g=>[g.id,g])),[]),Pi=je.useMemo(()=>new Map([["V2","Caracterizacin del acufero"],["V3","Modelo geolgico"],["V4","Modelo hidrolgico"],["V5","Modelo numrico o parmetros"],["V6","Modelo hidrogeoqumico"],["V7","Escala del acufero"],["V8","Tipo de acufero"],["V9","Capacidad de infiltracin (zona no saturada)"],["V10","Tcnica viable incluye pozos"],["V11","Permeabilidad del acufero"],["V12","Porosidad efectiva"],["V13","Fuente de agua identificada"],["V14","Tipo de fuente de agua"],["V15","Calidad del agua fuente"],["V16","Normativa para la recarga"],["V36","Tipo de fuente superficial"],["V37","Conexion hidrulica con el rio"],["V17","Calidad del agua del acufero"],["V18","Mezcla fuente-acufero cumple lmites"],["V19","Capacidad de almacenamiento"],["V20","Volumen de agua a recargar"],["V21","Volumen de recarga vs capacidad de almacenamiento"],["V22","Uso final del agua"],["V23","Tipo de uso final"],["V24","Relieve dominante"],["V25","Clima dominante"],["V26","Infraestructura disponible para MAR"],["V28","Planta de tratamiento disponible"],["V29","Existencia de estanques"],["V32","Obras en cauce / captacin ribera"],["V33","Pozos operativos o rehabilitables"],["V34","Tipo de asentamiento"],["V35","Beneficio directo identificado"]]),[]),Ji=je.useCallback((g,L)=>Pi.get(g)||L||g,[Pi]),xn=je.useMemo(()=>{const g=gt.get("V1"),L=Vt.get("V1");return[{id:"V1",label:Ji("V1",g?.label||L?.question||"V1")}]},[Ji,Vt,gt]),fa=je.useCallback(g=>{if(!Number.isFinite(g))return"-";const L=Number(g);return Number.isInteger(L)?String(L):L.toFixed(2)},[]),ln=je.useCallback(g=>Number.isFinite(g)?`${(Number(g)*100).toFixed(1)}%`:"-",[]),Si=je.useCallback(g=>{if(St(g))return 0;const L=gt.get(g),W=He?.[g],pe=!Li.has(g)&&ut?.[g]===!0&&W!==void 0&&W!==null&&W!=="",oe=Number(L?.score04||0);return pe?Number(W):oe},[St,Li,ut,He,gt]),Mi=je.useCallback(g=>{const L=g.filter(Ce=>Ce&&Ce.include&&Number.isFinite(Ce.value)).map(Ce=>Number(Ce.value)),W=L.length,pe=L.reduce((Ce,ke)=>Ce+ke,0),oe=W>0?pe/W:null;return{scores:L,denom:W,sc:oe}},[]),Gi=je.useCallback((g,L)=>{if(!pt)return null;const W=Tt?.[g]?.[L];return Number.isFinite(W)?Number(W):null},[Tt,pt]),Ot=je.useCallback((g,L,W)=>{if(St(g))return 0;const pe=Gi(g,L);return Number.isFinite(pe)?pe:Number.isFinite(W)?Number(W):W},[Gi,St]),ir=je.useMemo(()=>["V2","V3","V4","V5","V6","V7","V8","V9","V11","V12","V24","V25"],[]),Ia=je.useMemo(()=>ir.map(g=>{const L=gt.get(g),W=Vt.get(g),pe=St(g),oe=Array.isArray(L?.inputs)?L.inputs:[],Ce=Array.isArray(L?.maps)?L.maps:[],ke=oe.filter(qt=>!qt?.missing).length,Be=Ce.filter(qt=>qt&&qt.hasFile).length,Nt=ke+Be>0,it=pe?!0:L?!L.missing:!1,et=He?.[g],wt=!Li.has(g)&&ut?.[g]===!0&&et!==void 0&&et!==null&&et!=="",kt=g==="V25"&&Number.isFinite(L?.scoreByGroup?.G1)?Number(L.scoreByGroup.G1):Si(g);return{id:g,status:pe?"Bloqueado":it?"Completo":Nt?"Parcial":"Falta",scoreBase:pe?0:wt?Number(et):it||Nt?kt:null,description:Ji(g,L?.label||W?.question||""),isComplete:it,isBlocked:pe,hasEvidence:Nt}}).filter(g=>g.id),[ir,Vt,Ji,Si,St,Li,ut,He,gt]),hs=je.useMemo(()=>ir.map(g=>{const L=gt.get(g),W=Vt.get(g);return{id:g,label:Ji(g,L?.label||W?.question||g)}}),[ir,Ji,Vt,gt]),Mo=je.useCallback((g,L)=>{if(St(g))return 0;const W=gt.get(g),pe=W?.scoreByGroup?.[L];return Number.isFinite(pe)?Number(pe):Number(W?.score04||0)},[St,gt]),wn=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=[];for(const Be of Ia){if(Be.isBlocked){W.push({value:0,include:!1});continue}const Nt=gt.get(Be.id),it=Gi(Be.id,L),et=He?.[Be.id],wt=!Li.has(Be.id)&&ut?.[Be.id]===!0&&et!==void 0&&et!==null&&et!=="";if(Number.isFinite(it)){const Fi=it!==0;W.push({value:it,include:Fi});continue}if(!Be.isComplete&&!wt&&!Be.hasEvidence){W.push({value:0,include:!1});continue}const kt=Nt?.scoreByGroup?.[L],qt=Be.id==="V8"?Number.isFinite(kt)?Number(kt):Number(Be.scoreBase||0):wt?Number(et):Number.isFinite(kt)?Number(kt):Number(Be.scoreBase||0),Ii=Number.isFinite(qt)&&qt!==0;W.push({value:qt,include:Ii})}const{scores:pe,denom:oe,sc:Ce}=Mi(W),ke=Ia.filter(Be=>!Be.isBlocked&&!Be.isComplete).length;return{id:L,scores:pe,denom:oe,sc:Ce,obs:ke?`Confianza reducida (${ke} faltantes)`:`Condiciones compatibles con ${L}`}}),[Ia,Gi,ut,He,gt,Mi]),io=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=wn.find(oe=>oe.id===L),pe={};for(const oe of Ia){if(oe.isBlocked){pe[oe.id]=0;continue}const Ce=gt.get(oe.id),ke=Gi(oe.id,L),Be=He?.[oe.id],Nt=!Li.has(oe.id)&&ut?.[oe.id]===!0&&Be!==void 0&&Be!==null&&Be!=="";if(Number.isFinite(ke)){pe[oe.id]=Number(ke);continue}if(!oe.isComplete&&!Nt&&!oe.hasEvidence){pe[oe.id]=null;continue}const it=Ce?.scoreByGroup?.[L],et=oe.id==="V8"?Number.isFinite(it)?Number(it):Number(oe.scoreBase||0):Nt?Number(Be):Number.isFinite(it)?Number(it):Number(oe.scoreBase||0);pe[oe.id]=Number.isFinite(et)?et:null}return{id:L,scoresByVar:pe,sc:W?.sc??null,obs:W?.obs||""}}),[wn,Ia,Gi,Li,ut,He,gt]),Fe=je.useMemo(()=>["V13","V14","V15","V16","V17","V18"],[]),di=je.useMemo(()=>Fe.map(g=>{const L=gt.get(g),W=Vt.get(g),pe=St(g),oe=pe?!0:L?!L.missing:!1,Ce=He?.[g],ke=!Li.has(g)&&ut?.[g]===!0&&Ce!==void 0&&Ce!==null&&Ce!=="",Be=Number(L?.score04||0);return{id:g,status:pe?"Bloqueado":oe?"Completo":"Falta",scoreBase:pe?0:ke?Number(Ce):oe?Be:null,description:Ji(g,L?.label||W?.question||""),isComplete:oe,isBlocked:pe}}).filter(g=>g.id),[Fe,Ji,Vt,St,Li,ut,He,gt]),Bn=je.useMemo(()=>Fe.map(g=>{const L=gt.get(g),W=Vt.get(g);return{id:g,label:Ji(g,L?.label||W?.question||g)}}),[Fe,Ji,Vt,gt]),Dt=je.useMemo(()=>new Set(["V17","V18"]),[]),_n=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=[];for(const Be of di){if(Be.isBlocked){W.push({value:0,include:!1});continue}const Nt=gt.get(Be.id),it=Gi(Be.id,L),et=He?.[Be.id],wt=Dt.has(Be.id)&&ut?.[Be.id]===!0&&et!==void 0&&et!==null&&et!=="";if(Number.isFinite(it)){const Fi=it!==0;W.push({value:it,include:Fi});continue}if(!Be.isComplete&&!wt){W.push({value:0,include:!1});continue}const kt=Nt?.scoreByGroup?.[L],qt=wt?Number(et):Number.isFinite(kt)?Number(kt):Number(Be.scoreBase||0),Ii=Number.isFinite(qt)&&qt!==0;W.push({value:qt,include:Ii})}const{scores:pe,denom:oe,sc:Ce}=Mi(W),ke=di.filter(Be=>!Be.isBlocked&&!Be.isComplete).length;return{id:L,scores:pe,denom:oe,sc:Ce,obs:ke?`Confianza reducida (${ke} faltantes)`:`Condiciones compatibles con ${L}`}}),[Dt,di,Gi,ut,He,gt,Mi]),Ma=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=_n.find(oe=>oe.id===L),pe={};for(const oe of di){if(oe.isBlocked){pe[oe.id]=0;continue}const Ce=gt.get(oe.id),ke=Gi(oe.id,L),Be=He?.[oe.id],Nt=Dt.has(oe.id)&&ut?.[oe.id]===!0&&Be!==void 0&&Be!==null&&Be!=="";if(Number.isFinite(ke)){pe[oe.id]=Number(ke);continue}if(!oe.isComplete&&!Nt){pe[oe.id]=null;continue}const it=Ce?.scoreByGroup?.[L],et=Nt?Number(Be):Number.isFinite(it)?Number(it):Number(oe.scoreBase||0);pe[oe.id]=Number.isFinite(et)?et:null}return{id:L,scoresByVar:pe,sc:W?.sc??null,obs:W?.obs||""}}),[_n,Dt,di,Gi,ut,He,gt]),Ti=je.useMemo(()=>["V19","V20","V21","V26","V28","V29","V32","V33"],[]),na=je.useMemo(()=>new Set(["V28","V29","V32","V33"]),[]),Qi=je.useMemo(()=>new Map([["V28","Afecta solo G3."],["V29","Afecta solo G3."],["V32","Afecta solo G1."],["V33","Afecta solo G2 y G3."]]),[]),ra=je.useMemo(()=>Ti.map(g=>{const L=gt.get(g),W=Vt.get(g),pe=St(g),oe=pe?!0:L?!L.missing:!1,Ce=He?.[g],ke=!Li.has(g)&&ut?.[g]===!0&&Ce!==void 0&&Ce!==null&&Ce!=="",Be=Si(g);return{id:g,status:pe?"Bloqueado":oe?"Completo":"Falta",scoreBase:pe?0:ke?Number(Ce):oe?Be:null,description:Ji(g,L?.label||W?.question||""),isComplete:oe,isBlocked:pe}}).filter(g=>g.id),[Ti,Ji,Vt,Si,St,Li,ut,He,gt]),Fa=je.useMemo(()=>Ti.map(g=>{const L=gt.get(g),W=Vt.get(g);return{id:g,label:Ji(g,L?.label||W?.question||g)}}),[Ti,Ji,Vt,gt]),ma=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=[];for(const Be of ra){if(Be.isBlocked){W.push({value:0,include:!1});continue}const Nt=gt.get(Be.id),it=Nt?.groupImpact?.[L]??1,et=na.has(Be.id),wt=Gi(Be.id,L),kt=He?.[Be.id],qt=!Li.has(Be.id)&&ut?.[Be.id]===!0&&kt!==void 0&&kt!==null&&kt!=="";if(Number.isFinite(wt)){const Et=et?Number(wt)*it:Number(wt),Wt=Et!==0;W.push({value:Et,include:Wt});continue}if(!Be.isComplete&&!qt){W.push({value:0,include:!1});continue}const Ii=Nt?.scoreByGroup?.[L],Fi=qt?et?Number(kt)*it:Number(kt):Number.isFinite(Ii)?Number(Ii):Number(Be.scoreBase||0),Gt=Number.isFinite(Fi)&&Fi!==0;W.push({value:Fi,include:Gt})}const{scores:pe,denom:oe,sc:Ce}=Mi(W),ke=ra.filter(Be=>!Be.isBlocked&&!Be.isComplete).length;return{id:L,scores:pe,denom:oe,sc:Ce,obs:ke?`Confianza reducida (${ke} faltantes)`:`Condiciones compatibles con ${L}`}}),[na,ra,Gi,ut,He,gt,Mi]),yn=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=ma.find(oe=>oe.id===L),pe={};for(const oe of ra){if(oe.isBlocked){pe[oe.id]=0;continue}const Ce=gt.get(oe.id),ke=Ce?.groupImpact?.[L]??1,Be=na.has(oe.id),Nt=Gi(oe.id,L),it=He?.[oe.id],et=!Li.has(oe.id)&&ut?.[oe.id]===!0&&it!==void 0&&it!==null&&it!=="";if(Number.isFinite(Nt)){pe[oe.id]=Be?Number(Nt)*ke:Number(Nt);continue}if(!oe.isComplete&&!et){pe[oe.id]=null;continue}const wt=Ce?.scoreByGroup?.[L],kt=et?Be?Number(it)*ke:Number(it):Number.isFinite(wt)?Number(wt):Number(oe.scoreBase||0);pe[oe.id]=Number.isFinite(kt)?kt:null}return{id:L,scoresByVar:pe,sc:W?.sc??null,obs:W?.obs||""}}),[na,ma,ra,Gi,Li,ut,He,gt]),Xa=je.useMemo(()=>["V22","V23","V34","V35"],[]),$a=je.useMemo(()=>Xa.map(g=>{const L=gt.get(g),W=Vt.get(g),pe=St(g),oe=pe?!0:L?!L.missing:!1,Ce=He?.[g],ke=!Li.has(g)&&ut?.[g]===!0&&Ce!==void 0&&Ce!==null&&Ce!=="",Be=Si(g);return{id:g,status:pe?"Bloqueado":oe?"Completo":"Falta",scoreBase:pe?0:ke?Number(Ce):oe?Be:null,description:Ji(g,L?.label||W?.question||""),isComplete:oe,isBlocked:pe}}).filter(g=>g.id),[Xa,Ji,Vt,Si,St,Li,ut,He,gt]),kn=je.useMemo(()=>Xa.map(g=>{const L=gt.get(g),W=Vt.get(g);return{id:g,label:Ji(g,L?.label||W?.question||g)}}),[Xa,Ji,Vt,gt]),Mn=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=[];for(const Be of $a){if(Be.isBlocked){W.push({value:0,include:!1});continue}const Nt=gt.get(Be.id),it=Gi(Be.id,L),et=He?.[Be.id],wt=!Li.has(Be.id)&&ut?.[Be.id]===!0&&et!==void 0&&et!==null&&et!=="";if(Number.isFinite(it)){const Fi=it!==0;W.push({value:it,include:Fi});continue}if(!Be.isComplete&&!wt){W.push({value:0,include:!1});continue}const kt=Nt?.scoreByGroup?.[L],qt=wt?Number(et):Number.isFinite(kt)?Number(kt):Number(Be.scoreBase||0),Ii=Number.isFinite(qt)&&qt!==0;W.push({value:qt,include:Ii})}const{scores:pe,denom:oe,sc:Ce}=Mi(W),ke=$a.filter(Be=>!Be.isBlocked&&!Be.isComplete).length;return{id:L,scores:pe,denom:oe,sc:Ce,obs:ke?`Confianza reducida (${ke} faltantes)`:`Condiciones compatibles con ${L}`}}),[$a,Gi,ut,He,gt,Mi]),So=je.useMemo(()=>["G1","G2","G3"].map(L=>{const W=Mn.find(oe=>oe.id===L),pe={};for(const oe of $a){if(oe.isBlocked){pe[oe.id]=0;continue}const Ce=gt.get(oe.id),ke=Gi(oe.id,L),Be=He?.[oe.id],Nt=!Li.has(oe.id)&&ut?.[oe.id]===!0&&Be!==void 0&&Be!==null&&Be!=="";if(Number.isFinite(ke)){pe[oe.id]=Number(ke);continue}if(!oe.isComplete&&!Nt){pe[oe.id]=null;continue}const it=Ce?.scoreByGroup?.[L],et=Nt?Number(Be):Number.isFinite(it)?Number(it):Number(oe.scoreBase||0);pe[oe.id]=Number.isFinite(et)?et:null}return{id:L,scoresByVar:pe,sc:W?.sc??null,obs:W?.obs||""}}),[Mn,$a,Gi,Li,ut,He,gt]),Ci=je.useMemo(()=>{const g=(oe,Ce)=>oe.find(ke=>ke.id===Ce)?.sc??null,L=(oe,Ce)=>{const ke=gt.get(oe),Be=ke?.scoreByGroup?.[Ce],Nt=Number.isFinite(Be)?Number(Be):Number(ke?.score04||0),it=Ot(oe,Ce,Nt);return Number.isFinite(it)?Number(it):null},W=oe=>{const Ce=oe.filter(Nt=>!Nt.isBlocked),ke=Ce.length;if(!ke)return"Bloqueado";const Be=Ce.filter(Nt=>Nt.isComplete).length;return Be===0?"Falta":Be===ke?"Completo":"Parcial"},pe=oe=>oe?"Completo":"Falta";return[{id:"C1",g1:g(Ni,"G1"),g2:g(Ni,"G2"),g3:g(Ni,"G3"),status:be?"Bloqueado":pe(Oe)},{id:"C2",g1:g(wn,"G1"),g2:g(wn,"G2"),g3:g(wn,"G3"),status:W(Ia)},{id:"C3",g1:g(_n,"G1"),g2:g(_n,"G2"),g3:g(_n,"G3"),status:W(di)},{id:"C4",g1:g(ma,"G1"),g2:g(ma,"G2"),g3:g(ma,"G3"),status:W(ra)},{id:"C5",g1:g(Mn,"G1"),g2:g(Mn,"G2"),g3:g(Mn,"G3"),status:W($a)},{id:"V36",g1:L("V36","G1"),g2:L("V36","G2"),g3:L("V36","G3"),status:pe(Ka(gt.get("V36")))},{id:"V37",g1:L("V37","G1"),g2:L("V37","G2"),g3:L("V37","G3"),status:pe(Ka(gt.get("V37")))}]},[be,Oe,Ni,wn,Ia,_n,di,ma,ra,Mn,$a,Ot,Ka,gt]),Zn=je.useMemo(()=>{const g=Yr.map(ke=>ke.id);if(!g.length)return null;const L=new Map(Ci.map(ke=>[ke.id,ke])),W=new Map(Yr.map(ke=>[ke.id,ke.label||ke.id])),pe=[],oe=Au.reduce((ke,Be)=>(ke[Be]=0,ke),{});for(const ke of g){const Be=L.get(ke)||{},Nt=T.get(ke),it=Number.isFinite(Number(Nt))?Number(Nt):0;let et=0;const wt={},kt={};for(const qt of Au){const Ii=qt.toLowerCase(),Fi=Number(Be[Ii]??0),Gt=it*Fi,Et=Number.isFinite(Gt)?Gt:0;wt[qt]=Et,kt[qt]=Number.isFinite(Fi)?Fi:0,et+=Et,oe[qt]=(oe[qt]||0)+Et}pe.push({id:ke,label:W.get(ke)||ke,weight:it,scores:wt,groupScores:kt,total:et})}const Ce=Au.reduce((ke,Be)=>ke+(oe[Be]||0),0);return pe.push({id:"TOTAL_IDONEIDAD",label:"Total idoneidad",weight:null,scores:{...oe},groupScores:Au.reduce((ke,Be)=>(ke[Be]=null,ke),{}),total:Ce}),{rows:pe,commitTotals:{...oe},aggregateTotal:Ce}},[T,Ci]),Er=je.useMemo(()=>{const g={computedScores:Ha};return Zn&&(g.wlcResults=Zn),sn&&sn.ids?.length&&(g.ahpResults=sn),g},[Ha,sn,Zn]),Cr=je.useMemo(()=>JSON.stringify(Er),[Er]);je.useEffect(()=>{Cr&&le(g=>{if(!g)return g;const L={...g.phase2||{}},W={computedScores:L.computedScores||{},ahpResults:L.ahpResults||{},wlcResults:L.wlcResults||null};return JSON.stringify(W)===Cr?g:(L.computedScores=Ha,sn&&sn.ids?.length&&(L.ahpResults=sn),Zn?L.wlcResults=Zn:delete L.wlcResults,{...g,phase2:L})})},[le,Cr,Ha,sn,Zn]);const vn=je.useMemo(()=>{const g=Number(_t.get(he)||0),L=Number(q),W=Number(B),pe=new Map(Ci.map(Wt=>[Wt.id,Wt])),oe=Yr.map(Wt=>Wt.id);if(!Number.isFinite(g)||g<=0||!Number.isFinite(L)||!Number.isFinite(W)||W<=0)return{isReady:!1,message:"Ajusta criterio, rango y paso para calcular la idoneidad."};const Ce=g>0?Math.max(0,(1/g-1)*100):0,ke=Math.min(50,Ce),Be=Math.max(0,Math.min(L,ke)),Nt=Math.floor(Be/W),it=Array.from({length:Nt*2+1},(Wt,ri)=>(ri-Nt)*W),et=new Map(oe.map(Wt=>[Wt,Number(_t.get(Wt)||0)])),wt=it.map(Wt=>{const ri=g;let Zi=ri*(1+Wt/100);Zi<0&&(Zi=0),Zi>1&&(Zi=1);const Ki=ri<1?(1-Zi)/(1-ri):0,oi=new Map(oe.map(Ca=>{const Gr=Number(et.get(Ca)||0);return[Ca,Ca===he?Zi:Gr*Ki]})),yr=["G1","G2","G3"].map(Ca=>{const Gr=Ca.toLowerCase(),Vn=oe.reduce((Jn,Tn)=>{const Qn=Number(oi.get(Tn)||0),$n=Number(pe.get(Tn)?.[Gr]||0);return Jn+Qn*$n},0);return{gid:Ca,total:Vn}}),Na=[...yr].sort((Ca,Gr)=>Gr.total-Ca.total).map(Ca=>Ca.gid).join(" > ");return{delta:Wt,wTest:Zi,scores:yr,ranking:Na}}),kt=wt.find(Wt=>Wt.delta===0)?.ranking||"",qt=wt.find(Wt=>kt&&Wt.ranking!==kt)||null,Ii=kt&&wt.every(Wt=>Wt.ranking===kt),Fi=kt?kt.split(" > ")[0]:"",Gt=Yr.find(Wt=>Wt.id===he)?.label||he,Et=Ii?`Para la alternativa con mayor puntuacion final de idoneidad (${Fi}), el analisis de sensibilidad aplicado al criterio ${he} (${Gt}) con un rango de variacion de +/-${Be.toFixed(1)}% y un paso de incremento de ${Number(W||0).toFixed(1)}%, no genera cambios en el ranking de los grupos. Este resultado sugiere que la eleccion de ${Fi} como grupo MAR optimo es robusta frente a ajustes razonables en la ponderacion del criterio ${he} (${Gt}).`:`Para la alternativa con mayor puntuacion final de idoneidad (${Fi}), el analisis de sensibilidad aplicado al criterio ${he} (${Gt}) con un rango de variacion de +/-${Be.toFixed(1)}% y un paso de incremento de ${Number(W||0).toFixed(1)}%, si genera cambios en el ranking de los grupos. El cambio ocurre a partir de w_test = ${qt?qt.wTest.toFixed(3):"-"} (${qt?qt.delta.toFixed(1):"-"}%), donde el orden pasa de ${kt||"-"} a ${qt?qt.ranking:"-"}.`;return{isReady:!0,baseWeight:g,range:L,step:W,safeRange:Be,rows:wt,baseRanking:kt,firstChange:qt,allSameRanking:Ii,topGroup:Fi,critLabel:Gt,interpretationText:Et}},[he,q,B,_t,Ci]),ar=Array.isArray(Z?.phase2?.sensitivityAnalyses)?Z.phase2.sensitivityAnalyses:[],Br=je.useCallback(()=>{if(!vn?.isReady)return;const g=new Date().toISOString();le(L=>{const W={...L.phase2||{}},pe=Array.isArray(W.sensitivityAnalyses)?[...W.sensitivityAnalyses]:[];return pe.unshift({id:`SENS_${Date.now()}`,createdAtISO:g,criterionId:he,criterionLabel:vn.critLabel,baseWeight:vn.baseWeight,range:vn.safeRange,step:vn.step,baseRanking:vn.baseRanking,topGroup:vn.topGroup,allSameRanking:vn.allSameRanking,firstChange:vn.firstChange?{delta:vn.firstChange.delta,wTest:vn.firstChange.wTest,ranking:vn.firstChange.ranking}:null,interpretation:vn.interpretationText}),W.sensitivityAnalyses=pe,{...L,phase2:W}})},[le,vn,he]),Go=je.useCallback(g=>{le(L=>{const W={...L.phase2||{}},pe=Array.isArray(W.sensitivityAnalyses)?W.sensitivityAnalyses.filter(oe=>oe.id!==g):[];return W.sensitivityAnalyses=pe,{...L,phase2:W}})},[le]),Wo=je.useCallback(()=>{!ar.length||!window.confirm("Se eliminarn todos los anlisis guardados. Deseas continuar?")||le(L=>{const W={...L.phase2||{}};return W.sensitivityAnalyses=[],{...L,phase2:W}})},[le,ar.length]),nr=je.useMemo(()=>gt.get("V8")||null,[gt]),Rr=je.useMemo(()=>String(nr?.reason||""),[nr]),Or=je.useMemo(()=>nr?.scoreByGroup||{},[nr]),Xr=je.useMemo(()=>gt.get("V2")||null,[gt]);je.useMemo(()=>String(Xr?.reason||""),[Xr]);const Ao=je.useMemo(()=>Xr?.scoreByGroup||{},[Xr]),Ls=je.useMemo(()=>Array.isArray(Xr?.inputs)?Xr.inputs:[],[Xr]),v=je.useMemo(()=>Array.isArray(Xr?.maps)?Xr.maps:[],[Xr]),k=je.useMemo(()=>Ls.filter(g=>g&&!g.missing).length,[Ls]),ie=je.useMemo(()=>v.filter(g=>g&&g.hasFile).length,[v]),ve=Ls.length+v.length,Ge=k+ie;He?.V2;const Je=je.useMemo(()=>gt.get("V3")||null,[gt]),ht=je.useMemo(()=>Je?.scoreByGroup||{},[Je]);je.useMemo(()=>Array.isArray(Je?.inputs)?Je.inputs:[],[Je]);const Xt=je.useMemo(()=>Array.isArray(Je?.maps)?Je.maps:[],[Je]),ii=je.useMemo(()=>{if(!ye)return 0;const g=["nombre_unidad_geologica","descripcion_unidad_geologica","profundidad_unidad_geologica_m","escala_mapa_geologico"],L=W=>{if(W==null)return!1;const pe=String(W).trim();return!(!pe||pe==="No_reportado"||pe==="No reportado")};return g.filter(W=>L(Ar(ye,"geologico",W))).length},[ye]),Ai=je.useMemo(()=>Xt.filter(g=>g&&g.hasFile).length,[Xt]),Ri=5,la=ii+(Ai>0?1:0);He?.V3;const va=je.useMemo(()=>gt.get("V4")||null,[gt]),Gn=je.useMemo(()=>va?.scoreByGroup||{},[va]),Ga=je.useMemo(()=>Array.isArray(va?.inputs)?va.inputs:[],[va]),Ln=je.useMemo(()=>Array.isArray(va?.maps)?va.maps:[],[va]),In=je.useMemo(()=>Ga.filter(g=>g&&!g.missing).length,[Ga]),Yo=je.useMemo(()=>Ln.filter(g=>g&&g.hasFile).length,[Ln])>0?1:0,wo=Ga.length+(Ln.length?1:0),Xo=In+Yo;He?.V4;const lo=je.useMemo(()=>gt.get("V5")||null,[gt]),Ts=je.useMemo(()=>lo?.scoreByGroup||{},[lo]),co=je.useMemo(()=>Array.isArray(lo?.inputs)?lo.inputs:[],[lo]),qr=je.useMemo(()=>Array.isArray(lo?.maps)?lo.maps:[],[lo]),gs=je.useMemo(()=>co.filter(g=>g&&!g.missing).length,[co]),Zo=je.useMemo(()=>qr.filter(g=>g&&g.hasFile).length,[qr]),rr=qr.length&&Zo===qr.length?1:0,as=co.length+(qr.length?1:0),ns=gs+rr;He?.V5;const Lo=je.useMemo(()=>gt.get("V6")||null,[gt]),To=je.useMemo(()=>Lo?.scoreByGroup||{},[Lo]),xr=je.useMemo(()=>Array.isArray(Lo?.inputs)?Lo.inputs:[],[Lo]),Ko=je.useMemo(()=>xr.filter(g=>g&&!g.missing).length,[xr]),zs=xr.length,Js=Ko;He?.V6;const Kn=je.useMemo(()=>gt.get("V7")||null,[gt]),uo=je.useMemo(()=>(Array.isArray(Kn?.inputs)?Kn.inputs:[]).find(g=>!g?.missing)?.value??"",[Kn]),zo=je.useMemo(()=>String(uo||Kn?.reason||""),[uo,Kn]),ms=je.useMemo(()=>Kn?.scoreByGroup||{},[Kn]);He?.V7;const Zr=je.useMemo(()=>gt.get("V9")||null,[gt]),_o=je.useMemo(()=>String(Zr?.reason||""),[Zr]),Mr=je.useMemo(()=>Zr?.scoreByGroup||{},[Zr]);He?.V9;const or=je.useMemo(()=>gt.get("V11")||null,[gt]),No=je.useMemo(()=>String(or?.reason||""),[or]),fo=je.useMemo(()=>or?.scoreByGroup||{},[or]);He?.V11;const po=je.useMemo(()=>gt.get("V12")||null,[gt]),bs=je.useMemo(()=>String(po?.reason||""),[po]),rs=je.useMemo(()=>po?.scoreByGroup||{},[po]);He?.V12;const dn=je.useMemo(()=>gt.get("V24")||null,[gt]),xs=je.useMemo(()=>String(dn?.reason||""),[dn]),ho=je.useMemo(()=>dn?.scoreByGroup||{},[dn]);He?.V24;const ao=je.useMemo(()=>gt.get("V25")||null,[gt]),Fn=je.useMemo(()=>String(ao?.reason||""),[ao]),Co=je.useMemo(()=>ao?.scoreByGroup||{},[ao]);He?.V25;const Eo=je.useCallback(g=>{le(L=>({...L,phase2:{...L.phase2||{},useCustomInfluence:g}}))},[le]),Ir=je.useCallback((g,L,W)=>{le(pe=>{const oe={...pe.phase2||{}},Ce={...oe.customInfluenceByVar||{}},ke={...Ce[g]||{}};return W===null?delete ke[L]:ke[L]=W,Object.keys(ke).length?Ce[g]=ke:delete Ce[g],oe.customInfluenceByVar=Ce,{...pe,phase2:oe}})},[le]),no=je.useCallback(()=>{le(g=>({...g,phase2:{...g.phase2||{},customInfluenceByVar:{}}}))},[le]),sr=je.useCallback(g=>{g?.current&&typeof g.current.scrollIntoView=="function"&&g.current.scrollIntoView({behavior:"smooth",block:"start"})},[]);je.useEffect(()=>{o&&_(g=>{const L=new Set(g);return L.add(o),L})},[o]);const aa=je.useMemo(()=>xa?3:mn?2:Yi?1:0,[xa,Yi,mn]),os=je.useMemo(()=>P.size>0,[P]),Nn=je.useMemo(()=>aa>0&&os,[os,aa]);je.useEffect(()=>{Nn&&R&&U("")},[R,Nn]);const Ro=je.useCallback(()=>{if(!Nn){U("Selecciona una ruta y asegrate de que un escenario est en estudio para acceder a resultados.");return}if(typeof r=="function"){r();return}sr(C)},[r,Nn,sr]),en=je.useMemo(()=>pt?sa?new Set(ia):wa?new Set(Oa):null:null,[pt,sa,wa,ia,Oa]),Fr=je.useCallback(g=>{const L=Ke?.variables||[],W=g===2?on:[],pe=g===2?L.filter(Ce=>W.includes(Ce.id)&&Ce.missing):L.filter(Ce=>Ce.missing),oe=new Set;for(const Ce of pe){for(const ke of Ce.inputs||[])ke.missing&&ke.moduleId&&oe.add(ke.moduleId);for(const ke of Ce.maps||[])if(!ke.hasFile){const Be=gn.get(ke.layerId);Be&&oe.add(Be)}}return Array.from(oe)},[gn,on,Ke]),qi=je.useCallback((g,L)=>{try{window.dispatchEvent(new CustomEvent("sigmma:scenario-insumos",{detail:{scenario:g,modules:L,caseId:u}}))}catch{}try{window.dispatchEvent(new CustomEvent("sigmma:navigate",{detail:{to:"insumos",caseId:u}}))}catch{}try{window.location.hash="#insumos"}catch{}},[u]),da=je.useCallback(g=>{g&&qi(aa||0,[g])},[qi,aa]),La=je.useCallback(g=>{if(g===1){if(aa>=2){if(!window.confirm("Si vuelves al Escenario 1 se eliminarn los insumos adicionales. Solo se conservarn los 5 campos con (*). Deseas continuar?"))return;le(W=>{const pe={...W},oe=new Map;for(const Ce of n0||[])oe.has(Ce.moduleId)||oe.set(Ce.moduleId,new Set),oe.get(Ce.moduleId).add(Ce.key);for(const Ce of br.modules||[]){const ke=Ce.id,Be=oe.get(ke),Nt={...pe?.[ke]||{}},it={};if(Be)for(const wt of Be)wt in Nt&&(it[wt]=Nt[wt]);pe[ke]=it;const et=`${ke}_entries`;Array.isArray(pe?.[et])&&(pe[et]=Be?[{...it}]:[])}return pe.mapUploads={},pe.mapMeta={},pe.mapLayersByModule=Object.fromEntries((br.modules||[]).map(Ce=>[Ce.id,[]])),pe.mapCustomLayersByModule=Object.fromEntries((br.modules||[]).map(Ce=>[Ce.id,[]])),pe})}return}if(!Yi){alert("Completa primero el mnimo del Escenario 1 para continuar."),qi(g,[]);return}if(g===2&&!mn){const L=Fr(2);alert("Para habilitar el Escenario 2 debes completar insumos adicionales en Fase 1. Te llevamos all??."),qi(2,L);return}if(g===3&&!mn){const L=Fr(2);alert("Para habilitar el Escenario 3 debes completar primero el minimo del Escenario 2. Te llevamos alla?"),qi(2,L);return}if(g===3&&!xa){const L=Fr(3);alert("Para habilitar el Escenario 3 debes completar todos los insumos. Te llevamos alla?"),qi(3,L)}},[xa,Fr,qi,le,Yi,mn,aa]);je.useEffect(()=>{if(!(typeof window>"u")){window.sigmmaCurrentScenarioId=aa;try{window.dispatchEvent(new CustomEvent("sigmma:scenario-changed",{detail:{scenarioId:aa}}))}catch{}}},[aa]),je.useEffect(()=>{if(typeof window>"u")return()=>{};const g=L=>{const W=L?.detail?.targetScenario;W&&La(W)};return window.addEventListener("sigmma:scenario-request",g),()=>window.removeEventListener("sigmma:scenario-request",g)},[La]);const cn=je.useCallback(g=>!X(g)||pt&&(aa===1||aa===2),[pt,X,aa]),Oo=g=>{if(St(g))return 0;const L=gt.get(g),W=He?.[g],pe=W!=null&&W!=="",oe=Number(L?.score04||0),Ce=Ut.has(g),ke=L&&!L.missing,Be=!Li.has(g)&&(!Ce||!ke),Nt=!cn(g)&&Be&&pe&&ut?.[g]&&Number(W)!==oe;return cn(g)?oe:Nt?Number(W):oe},Bo=(g,L)=>{if(Li.has(g)||St(g)||cn(g)||Ut.has(g)&&!gt.get(g)?.missing)return;const W=Math.max(0,Math.min(4,Number(L)));le(pe=>({...pe,phase2:{...pe.phase2||{},manualScores:{...pe.phase2?.manualScores||{},[g]:W},manualOverrides:{...pe.phase2?.manualOverrides||{},[g]:!0}}}))};Yr.reduce((g,L)=>g+(Number(Z?.weights?.[L.id])||0),0);const ys=new Set(["V1","V2","V3","V4","V5","V6","V7","V8","V9","V11","V12","V13","V14","V15","V16","V17","V18","V19","V20","V21","V22","V23","V24","V25","V26","V28","V29","V32","V33","V34","V35"]),Es=hp.filter(g=>ys.has(g.id)),Wl=Es.filter(g=>g.options.length===2),dd=Es.filter(g=>g.options.length!==2),xl=je.useMemo(()=>["V36","V37"],[]),Yl=je.useMemo(()=>hp.filter(g=>xl.includes(g.id)),[xl]),Qs=je.useCallback(g=>{_(W=>{const pe=new Set(W);return pe.add(g),pe}),n&&n(g);const L=g==="A"?y.current:m.current;L&&typeof L.scrollIntoView=="function"&&L.scrollIntoView({behavior:"smooth",block:"start"})},[n]),yl=je.useCallback(g=>{if(ze(!1),g){Qs("B");return}Ro()},[Ro,Qs]),vs=je.useCallback(()=>{if(!Nn){U("Selecciona una ruta y asegrate de que un escenario est en estudio para acceder a resultados.");return}U(""),ze(!0)},[Nn]),Kr=g=>{const L=Oo(g.id),W=Number.isFinite(L)?Math.round(L):0,pe=F1(L),oe=gt.get(g.id),Ce=He?.[g.id],ke=X(g.id)&&ut?.[g.id]===!0&&Ce!==void 0&&Ce!==null&&Ce!=="",Be=Number(oe?.score04||0),Nt=Ut.has(g.id),it=oe&&!oe.missing,et=!Li.has(g.id)&&(!Nt||!it),wt=X(g.id)&&et&&ke&&Number(Ce)!==Be,kt=g.inputs==="NA"?"No aplica (se responde en esta ruta).":g.inputs,qt=g.options.length===2,Ii=xl.includes(g.id),Fi=qt?"#fff7d6":"#e3efff",Gt=qt?"#f3dc98":"#c7dcff",Et=g.id==="V2"?"caracterizacion":oe?.inputs?.find(wi=>wi?.moduleId)?.moduleId||null,Wt=Array.isArray(oe?.inputs)?oe.inputs:[],ri=Array.isArray(oe?.maps)?oe.maps:[],Zi=Wt.filter(wi=>!wi?.missing).length,Ki=ri.filter(wi=>wi&&wi.hasFile).length,oi=wi=>{if(wi==null)return!1;const Dr=String(wi).trim();return!(!Dr||Dr==="No_reportado"||Dr==="No reportado")},yr=g.id==="V3"?["nombre_unidad_geologica","descripcion_unidad_geologica","profundidad_unidad_geologica_m","escala_mapa_geologico"].filter(wi=>oi(Ar(ye,"geologico",wi))).length:0,Na=g.id==="V3"?ri.filter(wi=>wi&&wi.hasFile).length:0,Ca=g.id==="V3"?yr+(Na>0?1:0):null,Gr=g.id==="V3"?5:null,Vn=g.id==="V4"||g.id==="V5",Jn=g.id==="V4"?Ki>0?1:0:g.id==="V5"?ri.length&&Ki===ri.length?1:0:Ki,Tn=g.id==="V3"?Gr:Vn?Wt.length+(ri.length?1:0):Wt.length+ri.length,Qn=g.id==="V3"?Ca:Vn?Zi+Jn:Zi+Ki,$n=wt?"Ajuste manual.":Tn>0?`Evidencia: ${Qn}/${Tn}`:oe?.reason?`Evidencia: ${oe.reason}`:"Sin evidencia.",vr=Wt.length+ri.length,$s=Wt.filter(wi=>wi?.missing).length+ri.filter(wi=>wi&&wi.hasFile===!1).length,pa=ri.filter(wi=>wi&&wi.hasFile===!1).map(wi=>wi.label||wi.layerId).map(wi=>g.id==="V2"&&wi==="Unidades (UHG)"?"Unidades Hidrogeolgicas":wi),Ta=kt==="No aplica (se responde en esta ruta)."?{label:"No aplica",color:"#475569",bg:"#e2e8f0"}:vr?$s?$s<vr?{label:"Parcial",color:"#92400e",bg:"#fef3c7"}:{label:"Falta",color:"#b91c1c",bg:"#fee2e2"}:{label:"Completo",color:"#166534",bg:"#dcfce7"}:{label:"Sin insumo",color:"#6b7280",bg:"#e5e7eb"},Vr=!Li.has(g.id)&&(aa===3||aa===2&&Oa.includes(g.id)||aa===1&&ia.includes(g.id)),Va=Nt&&(Ta.label==="Falta"||Ta.label==="No aplica")||Vr,Hi=aa===1&&!ia.includes(g.id),lr=aa===2&&!Oa.includes(g.id),Za=cn(g.id)||Hi||lr||Li.has(g.id)||Nt&&Ta.label!=="Falta"&&Ta.label!=="No aplica"||(Ta.label==="Falta"||Ta.label==="No aplica")&&!Va;return t.jsxs("div",{style:{background:Fi,borderRadius:14,padding:12,boxShadow:"0 1px 0 rgba(0,0,0,.04)",border:`1px solid ${Gt}`},children:[t.jsxs("div",{style:{fontWeight:800,fontSize:16},children:[g.id,". ",g.question]}),t.jsxs("div",{style:{marginTop:6,fontSize:13,opacity:.8},children:["Insumo relacionado:"," ",kt==="No aplica (se responde en esta ruta)."||!Et?kt:t.jsx("button",{type:"button",onClick:()=>da(Et),style:{border:"none",background:"none",padding:0,color:"#1d4ed8",textDecoration:"underline",cursor:"pointer",fontSize:13},children:kt})]}),t.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.85,display:"flex",alignItems:"center",gap:6},children:[t.jsx("span",{children:"Estado del insumo:"}),t.jsx("span",{style:{padding:"2px 8px",borderRadius:999,background:Ta.bg,color:Ta.color,fontWeight:700,fontSize:11},children:Ta.label})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginTop:10},children:[t.jsx("input",{type:"range",min:"0",max:"4",step:"1",value:L,onChange:wi=>Bo(g.id,wi.target.value),disabled:Za,style:{flex:1,accentColor:pe,opacity:Za?.55:1,cursor:Za?"not-allowed":"pointer"}}),t.jsx("div",{style:{width:36,height:32,borderRadius:10,background:pe,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800},children:W})]}),t.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.85},children:["Puntaje (",W,"): ",$n]}),Ii?t.jsxs("div",{style:{marginTop:10,padding:10,borderRadius:12,background:"#ffffff",border:"1px solid rgba(0,0,0,.08)",fontSize:14},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Clculo:"}),["G1","G2","G3"].map(wi=>{const Dr=Ot(g.id,wi,oe?.scoreByGroup?.[wi]);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap",marginBottom:6},children:[t.jsx("span",{style:{fontWeight:700,minWidth:24},children:wi}),t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,flexWrap:"wrap"},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:We(Dr)}),t.jsx("span",{style:{padding:"0 6px"},children:"1"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:We(Dr)})]})]},wi)})]}):null,Hi?t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Bloqueado en el Escenario 1 (no requerido)."}):lr?t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Bloqueado en el Escenario 2 (no requerido)."}):X(g.id)&&!Li.has(g.id)?t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Valor sugerido automticamente segn los insumos. Puedes ajustarlo si lo deseas."}):t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Valor sugerido automticamente segn los insumos."}),pa.length?t.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.75},children:["Falta el mapa: ",pa.join(", ")]}):null]},g.id)};return bt?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"panel-card",style:{marginTop:14},children:[t.jsx("div",{style:{fontWeight:800,fontSize:20,marginBottom:6},children:"Escenarios de informacin"}),t.jsx("p",{style:{marginTop:0,opacity:.9},children:"Un escenario de informacin es un nivel de anlisis definido por la disponibilidad, calidad y completitud de los datos tcnicos recopilados durante la fase de insumos."}),t.jsx("p",{style:{marginTop:8,opacity:.9},children:"Al diligenciar la fase de insumos, el sistema determina por defecto el escenario correspondiente, sincronizando automticamente los datos y evidencias cargados para articular las fases metodolgicas de manera coherente. No obstante, el usuario mantiene la flexibilidad de elegir el escenario en el cual situarse, siempre que cumpla estrictamente con el ndice de Completitud y los insumos requeridos para dicho nivel de anlisis. Esta integracin asegura que la Ruta A procese variables estandarizadas bajo un esquema conceptual validado, optimizando la precisin del clculo final y permitiendo una gestin robusta de los niveles de incertidumbre y confiabilidad de los resultados obtenidos."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:12},children:$2.map(g=>{const L=g.id===aa;return t.jsxs("div",{style:{border:L?"2px solid #2563eb":"1px solid rgba(0,0,0,.12)",borderRadius:14,padding:14,background:L?"#eef5ff":"#fff",boxShadow:"0 1px 0 rgba(0,0,0,.04)"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:g.title}),t.jsxs("div",{style:{marginTop:6,fontSize:13,color:g.id<3?"#b91c1c":"#15803d",display:"flex",alignItems:"center",gap:6},children:[g.id<3?"":"",t.jsx("span",{children:g.warn})]}),t.jsx("p",{style:{fontSize:13,opacity:.85,marginTop:10},children:g.desc}),t.jsx("button",{type:"button",onClick:()=>La(g.id),style:{borderRadius:12,padding:"8px 14px",border:"1.5px solid #1d4ed8",background:L?"#1d4ed8":"#fff",color:L?"#fff":"#111827",fontWeight:700},children:L?"Escenario actual":"Usar escenario"})]},g.id)})}),t.jsx("p",{style:{marginTop:10,opacity:.9},children:"El sistema opera bajo dos dimensiones complementarias: primero, los Escenarios de Informacin (macro), que ofrecen un resumen del avance general del caso; y segundo, la Gua del Esquema (micro), la cual valida cada insumo y pregunta de manera detallada. Este anlisis permite evaluar la idoneidad de las condiciones, identificar faltantes de informacin y justificar tcnicamente el puntaje asignado a cada variable."}),xa?null:t.jsx("div",{style:{marginTop:10,fontSize:13,color:"#b91c1c"},children:"Faltan insumos para Escenario 3: Volumen - Capacidad, Infraestructura, Comunidad - uso final, Relieve - Clima"}),t.jsx("p",{style:{marginTop:8,opacity:.9},children:"Con la informacin consolidada en Insumos, el sistema habilita dos rutas de procesamiento alineadas con el mismo esquema conceptual de decisin. Ambas buscan producir resultados comparables, trazables y justificables; sin embargo, se diferencian en la forma de estructurar la evaluacin y, por tanto, en el papel que asume el usuario durante el proceso."}),t.jsxs("p",{style:{marginTop:2,opacity:.92},children:[t.jsx("strong",{children:"Selecciona la ruta de tu preferencia!"}),"."]}),t.jsx("div",{style:{marginTop:12,display:"flex",gap:10,flexWrap:"wrap"},children:[{id:"A",label:"Ruta A"},{id:"B",label:"Ruta B"}].map(g=>{const L=o===g.id;return t.jsx("button",{type:"button",onClick:()=>Qs(g.id),style:{padding:"10px 16px",borderRadius:999,border:"1px solid rgba(0,0,0,.18)",background:L?"#2563eb":"#fff",color:L?"#fff":"#111827",fontWeight:700,cursor:"pointer"},children:g.label},g.id)})}),t.jsx("hr",{style:{margin:"18px 0"}}),t.jsxs("div",{style:{display:o==="A"?"block":"none"},children:[t.jsx("div",{ref:y}),t.jsxs("div",{style:{marginTop:8},children:[t.jsx("p",{style:{marginTop:0,opacity:.8},children:"Conceptos a tener en cuenta para facilitar la comprensin de la ruta."}),t.jsxs("div",{style:{marginTop:8,padding:12,borderRadius:12,background:"#f8fafc",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:4,fontSize:20},children:"Glosario"}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"Grupo (G1)"}),": Infiltracin superficial."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"Grupo (G2)"}),": Recarga mediante pozos y perforaciones."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"Grupo (G3)"}),": Intervencin del cauce."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"V"}),": variables/preguntas del esquema conceptual (V1-V35), descritos en la Introduccin."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"C"}),": criterios de evaluacin (C1-C5), descritos en la Introduccin."]})]})]}),t.jsxs("div",{style:{marginTop:8},children:[t.jsx("div",{style:{fontWeight:800,fontSize:20},children:"Ruta A: Proceso Jerrquico Analtico"}),t.jsxs("p",{style:{marginTop:6,opacity:.92},children:["Esta ruta constituye el marco metodolgico para transformar la evidencia tcnica de un caso en criterios comparables que determinen la idoneidad de los grupos de Recarga Gestionada. El proceso se desarrolla en dos dimensiones integradas: (1) ",t.jsx("strong",{children:"Estructura Jerrquica:"})," Organiza la toma de decisiones en tres niveles descendentes que son criterios generales (C1-C6), variables especficas (V1-V35) e integracin por grupos (G1, G2 Y G3). y (2) ",t.jsx("strong",{children:"Flujo Operativo:"})," Avanza a travs de tres etapas consecutivas (Figura 6), desde la consolidacin de insumos hasta el anlisis de robustez."]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsxs("div",{style:{marginTop:8,display:"grid",justifyItems:"center",gap:8},children:[t.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:14},children:t.jsx("div",{style:{width:560}})}),[{title:"Etapa 1: Insumos - Esquema conceptual de decisin",body:"Objetivos, caracterizacin de acuferos, fuente de agua",purpose:"Organizar la informacin tcnica para definir las variables que condicionan el proyecto. Como resultado, se obtiene un conjunto de indicadores que permiten medir la capacidad de respuesta del acufero ante la recarga gestionada."},{title:"Etapa 2: Jerarquizacin de criterios (AHP)",body:"Matriz pareada -> Pesos w_i -> Verificacin CR",purpose:"Establece la importancia relativa de cada factor. El resultado es una matriz de pesos (w_i) validados estadsticamente por su ndice de consistencia (CR). Esta etapa suma objetividad, priorizando los elementos que realmente determinan el xito de la recarga."},{title:"Etapa 3: Anlisis de Incertidumbre + Sensibilidad",body:"Incertidumbre -> Sensibilidad AHP -> Ranking bajo condiciones",purpose:"Evaluar la confiabilidad de la decisin considerando informacin incompleta y variaciones en los pesos AHP. Identificar bajo qu; condiciones cambiar el ranking de grupos MAR."}].map((g,L,W)=>t.jsxs(je.Fragment,{children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 24px 1fr",alignItems:"flex-start",columnGap:14,width:"100%",maxWidth:980},children:[t.jsxs("div",{style:{borderRadius:10,padding:"10px 14px",flex:"1 1 0",fontSize:15,lineHeight:1.4,fontFamily:"inherit",textAlign:"left",..._a(L+1,!0)},onClick:()=>vi(L+1),children:[t.jsx("div",{style:{fontWeight:800},children:g.title}),t.jsx("div",{style:{marginTop:4},children:g.body})]}),t.jsx("div",{style:{fontSize:24,lineHeight:1,textAlign:"center"}}),t.jsxs("div",{style:{borderRadius:10,padding:"10px 14px",flex:"1 1 0",fontSize:15,lineHeight:1.4,fontFamily:"inherit",textAlign:"left",..._a(L+1,!1)},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:4},children:"Propsito"}),t.jsx("div",{style:{fontSize:14},children:g.purpose})]})]}),L<W.length-1?t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 24px 1fr",columnGap:14,width:"100%",maxWidth:980},children:[t.jsx("div",{style:{display:"flex",justifyContent:"center"},children:t.jsx("div",{style:{fontSize:24,lineHeight:1},children:""})}),t.jsx("div",{})]}):null]},g.title))]}),t.jsx("div",{style:{marginTop:6,fontSize:14},children:"Figura 6. Esquema conceptual de la ruta jerrquica (A). Fuente. Elaboracin propia."})]}),t.jsx("div",{ref:x,style:{marginTop:12,padding:12,borderRadius:12,display:"inline-block",minWidth:90,...ya(1)},children:t.jsx("div",{style:{fontWeight:800,fontSize:18,textAlign:"center"},children:"Etapa 1"})}),t.jsx("p",{style:{marginTop:6,opacity:.92},children:'El proceso inicia convirtiendo los datos, mapas y evidencias cargados en la seccin de "Insumos" en 35 variables operativas. Cada variable sintetiza aspectos como condiciones hidrogeolgicas, calidad de la fuente, volumen, relieve y contexto socioambiental. Para garantizar la consistencia, cada variable se evala mediante una escala ordinal de cinco niveles (0-4), la cual traduce la evidencia tcnica a un marco de decisin unificado: los niveles bajos indican limitantes tcnicos o condiciones restrictivas para la recarga, mientras que los niveles altos representan condiciones ptimas, todo apoyado en una referencia cromtica (Tabla 2) que facilita su interpretacin.'}),t.jsxs("div",{style:{marginTop:12,overflowX:"auto"},children:[t.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Tabla 2. Escala ordinal (0-4) para la evaluacin de variables V1-V35"}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Puntuacin"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Categora"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Interpretacin"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Color de referencia"})]})}),t.jsx("tbody",{children:[{v:0,cat:"No favorable / Inexistente",int:"Limitante crtico",color:"#dc2626",label:"Rojo"},{v:1,cat:"Poco favorable",int:"Limitante significativo",color:"#f97316",label:"Naranja"},{v:2,cat:"Neutral / Moderado",int:"Aceptable con reservas",color:"#facc15",label:"Amarillo"},{v:3,cat:"Favorable",int:"Condicin buena",color:"#22c55e",label:"Verde claro"},{v:4,cat:"Muy favorable / ptimo",int:"Condicin ideal",color:"#15803d",label:"Verde oscuro"}].map(g=>t.jsxs("tr",{style:{background:F1(g.v)},children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:800},children:g.v}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.cat}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.int}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{width:12,height:12,borderRadius:999,background:g.color,display:"inline-block"}}),g.label]})})]},g.v))})]}),t.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.75},children:t.jsx("em",{children:"Fuente: elaboracin propia."})})]}),t.jsx("p",{style:{marginTop:12,opacity:.92,fontStyle:"Italic"},children:"Esta escala no mide la calidad de los datos; mide la idoneidad de cada variable para la recarga gestionada. El proceso vincula los datos cargados en la fase de Insumos con sus variables correspondientes del esquema conceptual de decisin y determina su idoneidad en un rango de 0 a 4. Si la informacin es insuficiente para una variable, esta se marca como pendiente en lugar de asignar un puntaje arbitrario."}),t.jsxs("p",{style:{marginTop:6,opacity:.92},children:['En este proceso, el usuario asume un rol protagnico como analista y validador, siendo responsable de gestionar la incertidumbre mediante la identificacin de variables en estado "Pendiente" para evitar sesgos por falta de informacin. Su intervencin tcnica garantiza que la sntesis generada sea coherente con las evidencias, ',t.jsx("strong",{children:"reconociendo que siempre existe un umbral de incertidumbre inherente derivado del procesamiento y la naturaleza de los datos disponibles"}),". Como resultado, este flujo traduce datos aislados en un esquema de decisin trazable y comparativo, produciendo mapas de idoneidad y reportes de probabilidad que fundamentan la viabilidad real de la recarga en el territorio."]}),t.jsx("p",{style:{marginTop:10,opacity:.92},children:"A continuacin, se presenta la Gua Metodolgica de la ruta. En ella encontrar la descripcin de cada variable, qu datos especficos de tus 'Insumos' debes usar para calificarlas y los criterios para elegir el puntaje correcto en la escala."}),t.jsx("div",{ref:M,style:{marginTop:14,fontWeight:800,fontSize:18},children:"1.1 Gua metodolgica de diligenciamiento"}),t.jsx("p",{style:{marginTop:4,opacity:.9},children:"Esta gua orienta la transicin de los insumos tcnicos de la Fase 1 hacia el esquema de decisin, con el fin de transformar la evidencia cargada en una evaluacin tcnica estandarizada y comparable. Esta vinculacin permite que el sistema asigne una calificacin en la escala de 0 a 4, identifique vacos de informacin y genere una justificacin tcnica para cada resultado obtenido. Es fundamental completar la totalidad de los datos requeridos, ya que cualquier insumo no diligenciado ser categorizado automticamente como una limitante, reduciendo la confiabilidad y la robustez del anlisis final."}),t.jsxs("p",{style:{marginTop:6,opacity:.9},children:["Para una evaluacin transparente, distinguimos entre el estado del insumo y el puntaje de idoneidad. ",t.jsx("strong",{children:"El Estado"})," indica si hay informacin suficiente para calificar. ",t.jsx("strong",{children:"El Puntaje"})," no califica la calidad del dato, sino su idoneidad tcnica; es decir, mide qu tanto facilita o limita el sistema acufero la implementacin de la recarga. Esta calificacin se asigna con base en factores especficos de los insumos como porosidad, permeabilidad, tipo de acufero, entre otros que influyen directamente en la viabilidad de cada grupo MAR. Por ejemplo, una alta permeabilidad se traduce en un puntaje de 4 por su ptimo desempeo, mientras que un acuicludo puede recibir un puntaje bajo ya que no permite el almacenamiento ni la transmisin del agua.",t.jsx("em",{children:' Finalmente, si el estado es "Falta" o "No aplica", el sistema deshabilita automticamente el puntaje para evitar errores en el anlisis.'}),"."]}),t.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:12,border:"1px solid rgba(0,0,0,.08)",background:"#f8fafc"},children:[t.jsx("div",{style:{fontWeight:800,marginBottom:6},children:"Estado: definicin e implicacin"}),t.jsxs("ul",{style:{margin:0,paddingLeft:18,lineHeight:1.4},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Completo"}),": cumple todos los requerimientos tcnicos. Permite asignar puntaje de idoneidad."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Parcial"}),": falta algn dato clave (ej: escala del mapa, parmetros especficos). Permite asignar puntaje con advertencia de incertidumbre."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Falta"}),": no existe evidencia aprovechable. Puntaje deshabilitado, variable marcada como limitante."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"No aplica"}),": la variable no es relevante para este grupo MAR especfico. Excluida del clculo para ese grupo."]})]})]}),t.jsxs("p",{style:{marginTop:10,opacity:.9},children:[t.jsx("strong",{children:"Ejemplo de interaccin:"})," Para cada una de las 35 variables, el sistema presentar? una tarjeta de evaluacin donde el analista interacta de la siguiente manera:"]}),t.jsxs("ul",{style:{marginTop:6,paddingLeft:18,lineHeight:1.4},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Pregunta (V2):"})," Existe o realizaron caracterizacin del acufero?: Consideras que la informacin que tienes sobre el acufero es suficiente para asegurar el xito de la recarga? Esta variable es favorable para seleccionar el grupo MAR ptimo?"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Accin del analista:"})," Puedes dejar el puntaje que el sistema propone (por defecto) si ests de acuerdo con la evidencia, o mover la barra manualmente si crees que la situacin amerita una calificacin distinta basndote en la escala de 0 a 4."]})]}),t.jsx("div",{style:{marginTop:6,color:"#b91c1c",fontWeight:800},children:"En los escenarios 1 y 2 debe cumplir con el mnimo de V (Variables) para poder continuar. ?Comienza ahora!"}),t.jsxs("div",{style:{marginTop:12,background:"#fff2b8",borderRadius:16,padding:12,border:"1px solid #f4df8a"},children:[t.jsx("div",{style:{fontWeight:800,marginBottom:8},children:"Preguntas tipo Si/No"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:12},children:Wl.map(g=>Kr(g))})]}),t.jsxs("div",{style:{marginTop:16,background:"#dbeafe",borderRadius:16,padding:12,border:"1px solid #bfdbfe"},children:[t.jsx("div",{style:{fontWeight:800,marginBottom:8},children:"Preguntas con opciones mltiples"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:12},children:dd.map(g=>Kr(g))})]}),t.jsx("div",{style:{marginTop:12,fontSize:13,opacity:.9},children:(aa===1||aa===0)&&Ya.length?t.jsxs(t.Fragment,{children:["Falta completar: ",Ya.join(", ")]}):aa===2&&de.length?t.jsxs(t.Fragment,{children:["Falta completar: ",de.join(", ")]}):aa===3&&bn.length?t.jsxs(t.Fragment,{children:["Falta completar: ",bn.join(", ")]}):t.jsx(t.Fragment,{children:"Listo para continuar a la consolidacin de criterios."})}),Xi&&!Wa&&A<2?t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{type:"button",onClick:()=>vi(2),style:{padding:"8px 14px",borderRadius:10,border:"1px solid rgba(0,0,0,.2)",background:"#1d4ed8",color:"#fff",fontWeight:700},children:"Continuar a la Etapa 2"})}):null,t.jsx("div",{style:{marginTop:8,padding:"10px 12px",borderRadius:10,border:"1px solid #fca5a5",background:"#fee2e2",color:"#7f1d1d",fontSize:13,fontWeight:700},children:"Esta es la configuracin por defecto del sistema, sin embargo en la seccin de Clculo de Scores por Criterio y Grupo, en la opcin de Modo personalizado de influencia por grupo, podras variar la idoneidad para cada grupo conforme sea tu criterio o usar el que ya est establecido y seguir al mtodo de ponderacin."}),t.jsx("hr",{style:{margin:"20px 0"}}),t.jsx("div",{style:{fontWeight:800,fontSize:18},children:"1.2 Consolidacin de criterios (C1-C5)"}),t.jsx("p",{style:{marginTop:4,opacity:.9},children:"Una vez finalizada la calificacin individual de las variables, el sistema procede a la consolidacin de criterios. Esto consiste en agrupar las variables ya evaluadas (V1-V35) en los cinco criterios definidos en la introduccin, para sintetizar la informacin por temas y preparar la comparacin de importancia en el AHP. La Tabla 3 muestra los criterios y su enlace directo con las variables."}),t.jsx("p",{style:{marginTop:4,opacity:.9},children:"Es fundamental destacar que esta organizacin representa la arquitectura base para el procesamiento de datos del sistema. De manera predeterminada, los algoritmos de clculo utilizarn esta distribucin de variables para generar los resultados de idoneidad. En consecuencia, esta agrupacin garantiza que cada factor tcnico influya exactamente en el rea que le corresponde asegurando que el anlisis de sensibilidad y la ponderacin final sean coherentes con la realidad fsica del proyecto. No obstante, aunque el sistema opera bajo esta estructura por defecto, su diseo permite que la relacin entre variables y criterios sea trazable y transparente para el analista."}),t.jsxs("div",{style:{marginTop:10,overflowX:"auto"},children:[t.jsx("div",{style:{fontWeight:600,marginBottom:8},children:"Tabla 3. Criterios (C1-C5) y relacin con variables (V)"}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Descripcin"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variables asociadas"})]})}),t.jsx("tbody",{children:Yr.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:[g.id," - ",g.label]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.description}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.variables})]},g.id))})]}),t.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.75},children:t.jsx("em",{children:"Fuente: elaboracin propia."})}),t.jsx("p",{style:{marginTop:10,opacity:.9},children:"Con esta estructura definida, el sistema queda habilitado para proceder a la Etapa 2, donde se determinar la importancia relativa de cada criterio mediante el mtodo AHP para obtener el diagnstico definitivo."})]}),fi(2)?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginTop:14,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsx("div",{ref:b,style:{padding:12,borderRadius:12,width:"fit-content",minWidth:10,...ya(2)},children:t.jsx("div",{style:{fontWeight:800,fontSize:18,textalign:"center"},children:"Etapa 2"})}),t.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:fi(1)?t.jsx("button",{type:"button",onClick:()=>{vi(1),sr(x)},style:{padding:"8px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"#e5e7eb",color:"#111827",fontWeight:700,cursor:"pointer"},children:"Ir a la etapa 1"}):null})]}),t.jsxs("div",{style:{marginTop:8,opacity:.9},children:[t.jsx("div",{style:{fontWeight:800,fontSize:18},children:"2.1 Jerarquizacin de criterios y clculo de idoneidad"}),t.jsx("p",{style:{marginTop:6},children:"Este proceso constituye el ncleo analtico del modelo y se fundamenta en el Anlisis de Decisin Multicriterio (MCDA). De acuerdo con autores como Saaty (1980) y su Proceso de Anlisis Jerrquico (AHP), la complejidad de un sistema ambiental no puede resolverse con una simple suma de factores; requiere una estructura que asigne pesos diferenciados segn la influencia real de cada variable en el xito del proyecto."}),t.jsx("p",{style:{marginTop:6},children:"En el contexto de MAR, autores como Dillon (2005) y Fernandez-Escalante (2005) enfatizan que la idoneidad de un sitio es una propiedad multidimensional. Por lo tanto, esta etapa tiene como objetivo transformar datos tcnicos aislados en un ndice de Idoneidad robusto. En primer lugar, esto permite entender que no todas las variables tienen el mismo impacto; por ejemplo, la permeabilidad es un factor condicionante, mientras que la pendiente es un factor facilitador. Por esta razn, el sistema aplica una ponderacin que equilibra la relevancia de factores crticos frente a variables secundarias."}),t.jsx("p",{style:{marginTop:6},children:"En segundo lugar, a travs de esta jerarquizacin, el modelo integra dimensiones hidrulicas, geolgicas y ambientales para calcular una calificacin especfica para cada grupo tecnolgico (G1, G2 y G3). El resultado es una herramienta que ofrece una comparacin objetiva y validada matemticamente entre cada grupo."})]}),t.jsxs("div",{style:{marginTop:14,opacity:.9},children:[t.jsx("div",{style:{fontWeight:800,fontSize:18},children:"2.1.1 Clculo de Scores por Criterio y Grupo"}),t.jsx("div",{style:{marginTop:6,fontWeight:700},children:"Concepto de agregacin"}),t.jsx("p",{style:{marginTop:6},children:"La agregacin es el mecanismo de sntesis que permite transitar de lo especfico (variables individuales) a lo estratgico (criterios temticos). Segn Malczewski (1999), la agregacin en sistemas de informacin geogrfica y ambiental debe ser capaz de manejar la compensacin entre criterios. La consolidacin de datos se fundamenta en la Suma Lineal Ponderada (WLC), un estndar en la gestin hdrica que permite integrar variables con distintas unidades en un ndice comn. Bajo este enfoque, la agregacin acta como el mecanismo de sntesis para transitar de lo especfico (variables V1-V35) a lo estratgico (criterios C1-C5)."}),t.jsx("p",{style:{marginTop:6},children:"Este clculo se realiza de manera diferenciada para cada grupo MAR (G1, G2, G3), lo que permite que el sistema reconozca que una misma condicin fsica puede ser una limitante para un mtodo pero una ventaja para otro. As, la agregacin no es solo una suma matemtica, sino una evaluacin contextual donde las variables se equilibran para reflejar la viabilidad real de cada tecnologa en el acufero."}),t.jsx("div",{style:{marginTop:10,fontWeight:700},children:"Ecuacin de agregacin:"}),t.jsx("div",{style:{margin:"8px 0",display:"block",textAlign:"center",fontFamily:"inherit",fontSize:20},children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.6em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsxs("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:["C",t.jsx("sub",{children:"i"})]})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsxs("span",{style:{padding:"0 6px",paddingBottom:"2px",borderBottom:"1px solid #111"},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.85em"},children:["",t.jsxs("span",{style:{position:"absolute",top:"-0.45em",right:"-0.04em",fontSize:"0.65em"},children:[t.jsx("span",{style:{fontStyle:"italic"},children:"m"}),t.jsx("sub",{children:"i"})]}),t.jsxs("span",{style:{position:"absolute",bottom:"-0.55em",right:"-0.38em",fontSize:"0.65em"},children:[t.jsx("span",{style:{fontStyle:"italic"},children:"k"}),"=1"]})]})," ","Score(V",t.jsx("sub",{children:t.jsx("span",{style:{fontStyle:"italic"},children:"k"})}),")",t.jsx("sup",{children:"G"})]}),t.jsxs("span",{style:{padding:"0 6px"},children:[t.jsx("span",{style:{fontStyle:"italic"},children:"m"}),t.jsx("sub",{children:"i"})]})]}),t.jsx("span",{style:{fontSize:14},children:"[1]"})]})}),t.jsx("div",{style:{fontWeight:700,marginTop:8},children:"Donde:"}),t.jsxs("ul",{style:{margin:"6px 0 0 18px",lineHeight:1.5},children:[t.jsxs("li",{children:[t.jsxs("strong",{children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.6em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsxs("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:["C",t.jsx("sub",{children:"i"})]})]})," ","(Score del Criterio):"]})," ","Es el resultado final del tema evaluado (ej. Hidrulica). Representa la aptitud general en una escala de 0 a 4 para un grupo tecnolgico especfico (G)."]}),t.jsxs("li",{children:[t.jsxs("strong",{children:["La Sumatoria (",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.85em"},children:["",t.jsxs("span",{style:{position:"absolute",top:"-0.45em",right:"-0.04em",fontSize:"0.65em"},children:[t.jsx("span",{style:{fontStyle:"italic"},children:"m"}),t.jsx("sub",{children:"i"})]}),t.jsxs("span",{style:{position:"absolute",bottom:"-0.55em",right:"-0.38em",fontSize:"0.65em"},children:[t.jsx("span",{style:{fontStyle:"italic"},children:"k"}),"=1"]})]}),t.jsx("span",{style:{marginLeft:"6px"},children:"):"})]})," ",'Este smbolo indica la acumulacin de la "aptitud" tcnica. Lo que hace es reunir todas las fortalezas de las variables que componen un criterio. Si un criterio (como Hidrulica) tiene variables con puntajes altos (4, 4, 3), la sumatoria captura ese potencial positivo total antes de promediarlo.']}),t.jsxs("li",{children:[t.jsxs("strong",{children:["El Score de la Variable (Score(V",t.jsx("sub",{children:t.jsx("span",{style:{fontStyle:"italic"},children:"k"})}),")",t.jsx("sup",{children:"G"}),"):"]})," ",'Es el valor de idoneidad (0-4). Lo crucial aqui es el superndice G, que expresa que la misma variable se "lee" diferente segn el Grupo MAR. Esto dota al modelo de inteligencia contextual.']}),t.jsxs("li",{children:[t.jsxs("strong",{children:["El Denominador (",t.jsx("span",{style:{fontStyle:"italic"},children:"m"}),t.jsx("sub",{children:"i"}),"):"]})," ","Representa el ajuste por disponibilidad de informacin. En lugar de dividir por un nmero fijo de variables, se divide unicamente por las que tienen datos reales."]})]}),t.jsx("div",{style:{marginTop:10,fontWeight:700},children:"Tratamiento de la Incertidumbre (Variables Faltantes):"}),t.jsx("p",{style:{margin:"6px 0 0",lineHeight:1.5},children:"Para garantizar la confiabilidad del modelo ante la ausencia de datos, se aplican reglas de integridad:"}),t.jsxs("ul",{style:{margin:"6px 0 0 18px",lineHeight:1.5},children:[t.jsxs("li",{children:[t.jsx("span",{style:{fontStyle:"italic"},children:"Criterio desierto:"}),' Si la totalidad de las variables de un criterio estan en estado "Falta", el'," ",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.6em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsxs("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:["C",t.jsx("sub",{children:"i"})]})]})," ","se penaliza con 0, identificandose como un vaco crtico de informacin."]}),t.jsxs("li",{children:[t.jsx("span",{style:{fontStyle:"italic"},children:"Informacin parcial:"})," Si existen datos parciales, se promedian nicamente las variables disponibles y el sistema genera una alerta de confianza, indicando que el resultado tiene un margen de incertidumbre."]})]}),t.jsxs("div",{style:{marginTop:12,fontWeight:700,fontSize:24,textAlign:"center"},children:["Clculo para el caso de estudio: ",u]}),t.jsxs("p",{style:{marginTop:6,opacity:.9,display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:['Tras la consolidacin de la arquitectura matemtica, el sistema ejecuta el procesamiento de los datos especficos del rea de estudio. Con el objetivo de mitigar el efecto de "caja negra" comn en modelos de decisin complejos y garantizar la trazabilidad del proceso, los resultados se presentan mediante mdulos de visualizacin por criterio (Cards).',t.jsxs("button",{type:"button",onClick:()=>J(g=>!g),"aria-expanded":V,style:{border:"none",background:"none",color:"#2563eb",fontWeight:700,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:6},children:[t.jsx("span",{children:V?"v":">"}),t.jsx("span",{children:"Ayuda"})]})]}),V?t.jsx("div",{role:"dialog","aria-modal":"true",onClick:()=>J(!1),style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.55)",zIndex:50,display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:t.jsxs("div",{onClick:g=>g.stopPropagation(),style:{background:"#ffffff",borderRadius:16,border:"1px solid rgba(37, 99, 235, 0.35)",boxShadow:"0 20px 60px rgba(0,0,0,0.25)",maxWidth:760,width:"100%",maxHeight:"85vh",overflowY:"auto",padding:16},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[t.jsx("div",{style:{fontWeight:800,fontSize:20,color:"#1e3a8a"},children:"Ayuda sobre las Cards"}),t.jsx("button",{type:"button",onClick:()=>J(!1),style:{borderRadius:10,border:"1px solid rgba(37, 99, 235, 0.35)",background:"#eff6ff",color:"#1d4ed8",fontWeight:700,padding:"6px 10px",cursor:"pointer"},children:"Cerrar"})]}),t.jsxs("div",{style:{marginTop:12,fontSize:16,lineHeight:1.6},children:[t.jsx("div",{style:{fontWeight:700},children:"1. Qu ests viendo en la tarjeta?"}),t.jsx("p",{style:{marginTop:6,marginBottom:6},children:"Cada tarjeta desglosa el proceso en tres niveles claros para facilitar tu comprensin:"}),t.jsxs("ul",{style:{marginTop:6,marginBottom:10,paddingLeft:18},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Identificacin y estado:"})," Vers qu variables (V) componen el criterio y el estado de su informacin (Completo, Parcial o Falta) heredado de la fase de insumos."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"La operacin matemtica:"})," Se muestra la aplicacin de la ecuacin de agregacin sobre tus datos. Esto te permite auditar el clculo y entender cmo llegamos al puntaje del criterio."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Diagnstico por Grupo MAR:"})," El sistema te entrega un resultado diferenciado para cada grupo (G1, G2, G3), acompaado de una observacin tcnica que explica si tu objetivo es compatible con esa opcin."]})]}),t.jsx("div",{style:{fontWeight:700},children:"2. Personalizacin y Ajuste"}),t.jsx("p",{style:{marginTop:6,marginBottom:6},children:"Aunque el sistema establece enlaces y valores por defecto basados en estndares tcnicos (por ejemplo, asignando una alta relevancia a la caracterizacin del acufero), puedes modificarlo."}),t.jsxs("ul",{style:{marginTop:6,marginBottom:10,paddingLeft:18},children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Modo personalizado de influencia:"})," Si consideras que una variable debe pesar ms en un grupo que en otro (ej. que la permeabilidad sea ms influyente para G1 que para G3), puedes ajustar estos valores manualmente."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Gua por variables:"})," Para mayor practicidad, cada tarjeta incluye una gua que te explica qu? significa cada valor de la escala ordinal, asegurando que tus ajustes tengan una base tcnica slida."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Navegacin Interactiva:"})," Si durante este anlisis detectas que necesitas corregir un dato base, la tarjeta cuenta con botones directos para regresar a la Fase de Insumos o a la Gua de la Etapa 1 sin perder tu progreso."]})]}),t.jsx("div",{style:{fontWeight:700,color:"#b91c1c"},children:"Nota: El objetivo es que esta herramienta sea tu soporte de decisin. El sistema sugiere, pero tu criterio profesional es el que valida la viabilidad real en el territorio."})]})]})}):null,t.jsx("div",{style:{marginTop:10,padding:14,borderRadius:14,background:"rgba(253, 230, 238, 0.6)",border:"1px solid rgba(251, 207, 232, 0.7)"},children:t.jsxs("details",{style:{marginTop:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,padding:4,lineHeight:1.2,background:"transparent",border:"none",borderRadius:12},children:"Criterio C1 - Objetivo"}),t.jsx("div",{style:{marginTop:8,fontWeight:600},children:"Datos disponibles:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:520},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c1-variable","Variable","Codigo de la variable evaluada.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c1-estado","Estado","Estado del insumo: completo, parcial o falta.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c1-descripcion","Descripcin","Nombre corto de la variable.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:t.jsxs("tr",{style:{background:"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:"V1"}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Jt}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Objetivo MAR"})]})})]})}),t.jsx("div",{style:{marginTop:10,fontWeight:600},children:"Clculo:"}),t.jsx("div",{style:{marginTop:10,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)",textAlign:"center",fontSize:20},children:be||Oe?t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C1"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:We(be?0:gi)}),t.jsx("span",{style:{padding:"0 6px"},children:"1"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:We(be?0:gi)})]}):t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C1"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:"?"}),t.jsx("span",{style:{padding:"0 6px"},children:"1"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:"?"})]})}),t.jsx("div",{style:{marginTop:8,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:520},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c1-grupo","Grupo","Grupo MAR evaluado (G1, G2, G3).",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c1-score-var",t.jsxs("span",{children:["Score(V1)",t.jsx("sup",{children:"G"})]}),"Puntaje final de la variable para el grupo (G1, G2 o G3). Se obtiene del valor original y los ajustes/ponderaciones aplicables.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c1-score-crit",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C1"})]}),"Score del criterio para el grupo. Es el promedio de los scores de las variables del criterio, calculado para G1, G2 o G3.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c1-obs","Observaciones","Notas sobre faltantes o interpretacin.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:Ni.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:We(g.score)}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:We(g.sc)}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.obs})]},g.id))})]})}),fe&&si&&It?t.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:12,background:"#eef2ff",border:"1px solid rgba(59,130,246,0.4)"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Matriz invertida y consistencia"}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:12,fontSize:13,marginBottom:8},children:[t.jsxs("span",{children:["CR: ",It.cr?ln(It.cr):"-"]}),t.jsxs("span",{children:["CI: ",Number.isFinite(It.ci)?It.ci.toFixed(3):"-"]}),t.jsxs("span",{children:["max: ",Number.isFinite(It.lambdaMax)?It.lambdaMax.toFixed(3):"-"]}),t.jsxs("span",{style:{flex:"1 1 100%"},children:["Ranking invertido: ",ta||"Sin datos"]})]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,minWidth:520},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),si.ids.map(g=>t.jsx("th",{style:{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:g},g))]})}),t.jsx("tbody",{children:si.matrix.map((g,L)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:si.ids[L]}),g.map((W,pe)=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center"},children:Number.isFinite(W)?W.toFixed(2):"-"},`${si.ids[L]}-${si.ids[pe]}`))]},si.ids[L]))})]})})]}):null,t.jsxs("div",{style:{marginTop:6,fontSize:13,opacity:.85},children:["Nota: Como solo hay 1 variable,"," ",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C1"})]})," ","= Score(V1)",t.jsx("sup",{children:"G"})," directamente."]}),t.jsxs("details",{style:{marginTop:12},children:[t.jsxs("summary",{style:{cursor:"pointer",padding:12,borderRadius:12,background:"#fee2e2",border:"1px solid #fecaca",fontWeight:700,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("span",{children:"Modo personalizado de influencia por grupo"}),t.jsxs("span",{style:{fontSize:12,opacity:.75},children:[pt?"Activo":"Opcional",Object.keys(Tt||{}).length?` ? ${Object.keys(Tt).length} ajustes`:""]})]}),t.jsxs("div",{style:{marginTop:10,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Personaliza la influencia por variable"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:"Ajusta manualmente la influencia por variable en cada grupo cuando no coincida con la guia base."})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[t.jsx("input",{type:"checkbox",checked:pt,onChange:g=>Eo(g.target.checked)}),"Activar modo personalizado"]}),t.jsx("button",{type:"button",onClick:no,disabled:!Object.keys(Tt||{}).length,style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:Object.keys(Tt||{}).length?"pointer":"not-allowed",opacity:Object.keys(Tt||{}).length?1:.5},children:"Limpiar ajustes"})]})]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variable"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G3"})]})}),t.jsx("tbody",{children:xn.map((g,L)=>{const W=gt.get(g.id),pe=String(W?.reason||""),oe=pe&&!pe.includes("/"),Ce=en?!en.has(g.id):!1;return t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff",opacity:Ce?.6:1},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:600},children:[t.jsxs("div",{children:[g.id," - ",g.label]}),t.jsxs("div",{style:{marginTop:2,fontSize:12,opacity:.75},children:["Seleccionado: ",oe?pe:"-"]})]}),["G1","G2","G3"].map(ke=>{const Be=Tt?.[g.id]?.[ke],Nt=Mo(g.id,ke),it=Number.isFinite(Be)?String(Be):"auto";return t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("select",{value:it,onChange:et=>{const wt=et.target.value;wt==="auto"?Ir(g.id,ke,null):Ir(g.id,ke,Number(wt))},disabled:!pt||Ce,style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:pt&&!Ce?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"auto",children:`Auto (${fa(Nt)})`}),[0,1,2,3,4].map(et=>t.jsx("option",{value:String(et),children:et},et))]})},ke)})]},g.id)})})]})})]})]})]})}),t.jsx("div",{style:{marginTop:12,padding:14,borderRadius:14,background:"rgba(220, 252, 231, 0.6)",border:"1px solid rgba(134, 239, 172, 0.7)"},children:t.jsxs("details",{style:{marginTop:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,padding:4,lineHeight:1.2,background:"transparent",border:"none",borderRadius:12},children:"Criterio C2 - Condiciones hidrogeolgicas"}),t.jsx("div",{style:{marginTop:8,fontWeight:600},children:"Datos disponibles:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:620},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c2-variable","Variable","Cdigo de la variable evaluada.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c2-estado","Estado","Estado del insumo: completo, parcial o falta.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c2-descripcion","Descripcin","Nombre corto de la variable.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:Ia.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.status}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.description})]},g.id))})]})}),t.jsx("div",{style:{marginTop:10},children:t.jsxs("details",{style:{background:"transparent",border:"none",borderRadius:12,padding:0},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,background:"#fee2e2",border:"1px solid #fecaca",borderRadius:12,padding:12},children:"Gua por variables"}),t.jsxs("div",{style:{marginTop:10},children:[t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V2 - Caracterizacin del acufero (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Evidencia actual: ",Ge,"/",ve," ",""]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(V2)",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot("V2","G1",Ao.G1))]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V8 - Tipo de acufero (funciones por grupo)"}),t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:"G1 (Intervencin de cauces)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",Rr||"-"," ? Score(V8)",t.jsx("sup",{children:"G1"})," = ",We(Ot("V8","G1",Or.G1))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Libre"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorece infiltracin desde cauces."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Semiconfinado / Confinado"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Limitado; se prefiere recarga por pozos."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G2 (Recarga por pozos)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",Rr||"-"," ? Score(V8)",t.jsx("sup",{children:"G2"})," = ",We(Ot("V8","G2",Or.G2))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Libre"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Mayor riesgo de prdida por flujo superficial."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Semiconfinado / Confinado"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Mejor control y almacenamiento en ASR/ASTR."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G3 (Infiltracin superficial)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",Rr||"-"," ? Score(V8)",t.jsx("sup",{children:"G3"})," = ",We(Ot("V8","G3",Or.G3))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Libre"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Maximiza la percolacin superficial."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Semiconfinado / Confinado"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Menor efectividad en infiltracin."})]})]})]})]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V3 - Modelo geolgico (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Evidencia actual: ",la,"/",Ri," ",""]}),t.jsxs("div",{style:{marginTop:10,fontSize:13,opacity:.85},children:[t.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Escala del acuifero (V7)"}),t.jsx("div",{children:"Cul es la escala que define el acuifero del estudio?"}),t.jsxs("ul",{style:{margin:"6px 0 0 18px",padding:0},children:[t.jsx("li",{children:"Muy pequeno ( 100 km2)"}),t.jsx("li",{children:"Pequeno (100-500 km2)"}),t.jsx("li",{children:"Mediano (500-5000 km2)"}),t.jsx("li",{children:"Grande (500-50000 km2)"})]})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(V3)",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot("V3","G1",ht.G1))]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V4 - Modelo hidrolgico (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Evidencia actual: ",Xo,"/",wo," ",""]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(V4)",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot("V4","G1",Gn.G1))]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V5 - Modelo numrico / parmetros hidrulicos (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Evidencia actual: ",ns,"/",as," ",""]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsx("div",{style:{marginTop:6,fontSize:13,opacity:.85},children:"Nota: si falta algun mapa hidrulico, un 4 se ajusta a 3."}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(V5)",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot("V5","G1",Ts.G1))]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V6 - Modelo hidrogeoqumico (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Evidencia actual: ",Js,"/",zs," ",""]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(V6)",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot("V6","G1",To.G1))]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V7 - Escala del acufero (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",zo||"-"," ",""]}),[{id:"G1",label:"G1 (Intervencin de cauces)",score:ms.G1},{id:"G2",label:"G2 (Recarga por pozos)",score:ms.G2},{id:"G3",label:"G3 (Infiltracin superficial)",score:ms.G3}].map(g=>t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:g.label}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",zo||"-"," ? Score(V7)",t.jsx("sup",{children:g.id})," = ",We(Ot("V7",g.id,g.score))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:`Score^${g.id}`}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]})]},g.id))]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V9 - Capacidad de infiltracin (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",_o||"-"," ",""]}),t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:"G1 (Intervencin de cauces)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",_o||"-"," ? Score(V9)",t.jsx("sup",{children:"G1"})," = ",We(Ot("V9","G1",Mr.G1))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G2 (Recarga por pozos)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",_o||"-"," ? Score(V9)",t.jsx("sup",{children:"G2"})," = ",We(Ot("V9","G2",Mr.G2))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aplica"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No influye en G2."})]})})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G3 (Infiltracin superficial)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",_o||"-"," ? Score(V9)",t.jsx("sup",{children:"G3"})," = ",We(Ot("V9","G3",Mr.G3))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]})]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V11 - Permeabilidad del acufero (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",No||"-"," ",""]}),[{id:"G1",label:"G1 (Intervencin de cauces)",score:fo.G1},{id:"G2",label:"G2 (Recarga por pozos)",score:fo.G2},{id:"G3",label:"G3 (Infiltracin superficial)",score:fo.G3}].map(g=>t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:g.label}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",No||"-"," ? Score(V11)",t.jsx("sup",{children:g.id})," = ",We(Ot("V11",g.id,g.score))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:`Score^${g.id}`}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy alta (100<K)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta (10<K<100)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Media (1<K<10)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad media."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Baja a muy baja (10^-2<K<1)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable."})]})]})]})]},g.id))]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V12 - Porosidad del acufero (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",bs||"-"," ",""]}),[{id:"G1",label:"G1 (Intervencin de cauces)",score:rs.G1},{id:"G2",label:"G2 (Recarga por pozos)",score:rs.G2},{id:"G3",label:"G3 (Infiltracin superficial)",score:rs.G3}].map(g=>t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:g.label}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",bs||"-"," ? Score(V12)",t.jsx("sup",{children:g.id})," = ",We(Ot("V12",g.id,g.score))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:`Score^${g.id}`}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy alta (>50%)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta (30-50%)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Regular (10-30%)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad media."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Mala (0-10%)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable."})]})]})]})]},g.id))]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V24 - Relieve (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",xs||"-"," ",""]}),t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:"G1 (Intervencin de cauces)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",xs||"-"," ? Score(V24)",t.jsx("sup",{children:"G1"})," = ",We(Ot("V24","G1",ho.G1))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Llanura / Valle"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Condiciones favorables."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Colina o meseta / Montaa"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Baja idoneidad para G1."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G2 (Recarga por pozos)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",xs||"-"," ? Score(V24)",t.jsx("sup",{children:"G2"})," = ",We(Ot("V24","G2",ho.G2))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Llanura / Valle"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Condiciones favorables."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Colina o meseta / Montaa"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad media."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G3 (Infiltracin superficial)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",xs||"-"," ? Score(V24)",t.jsx("sup",{children:"G3"})," = ",We(Ot("V24","G3",ho.G3))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Llanura / Valle"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Condiciones favorables."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Colina o meseta / Montaa"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Baja idoneidad para G3."})]})]})]})]})]}),t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"V25 - Clima (criterio transversal)"}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",Fn||"-"," ",""]}),t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:"G1 (Intervencin de cauces)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",Fn||"-"," ? Score(V25)",t.jsx("sup",{children:"G1"})," = ",We(Ot("V25","G1",Co.G1))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"rido o semirido (seco)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Clido (seco)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Hmedo-semihmedo (Templado)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Condiciones favorables para la recarga."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Tropical"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad media."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G2 (Recarga por pozos)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",Fn||"-"," ? Score(V25)",t.jsx("sup",{children:"G2"})," = ",We(Ot("V25","G2",Co.G2))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"rido o semirido (seco)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No condiciona la recarga por pozos."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Clido (seco)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No condiciona la recarga por pozos."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Hmedo-semihmedo (Templado)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No condiciona la recarga por pozos."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Tropical"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No condiciona la recarga por pozos."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G3 (Infiltracin superficial)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",Fn||"-"," ? Score(V25)",t.jsx("sup",{children:"G3"})," = ",We(Ot("V25","G3",Co.G3))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"rido o semirido (seco)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Clido (seco)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Hmedo-semihmedo (Templado)"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Condiciones favorables para infiltracin."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Tropical"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad media."})]})]})]})]})]})]})]})}),t.jsxs("details",{style:{marginTop:12},children:[t.jsxs("summary",{style:{cursor:"pointer",padding:12,borderRadius:12,background:"#fee2e2",border:"1px solid #fecaca",fontWeight:700,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("span",{children:"Modo personalizado de influencia por grupo"}),t.jsxs("span",{style:{fontSize:12,opacity:.75},children:[pt?"Activo":"Opcional",Object.keys(Tt||{}).length?` ? ${Object.keys(Tt).length} ajustes`:""]})]}),t.jsxs("div",{style:{marginTop:10,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Personaliza la influencia por variable"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:"Ajusta manualmente la influencia por variable en cada grupo cuando no coincida con la guia base."})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[t.jsx("input",{type:"checkbox",checked:pt,onChange:g=>Eo(g.target.checked)}),"Activar modo personalizado"]}),t.jsx("button",{type:"button",onClick:no,disabled:!Object.keys(Tt||{}).length,style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:Object.keys(Tt||{}).length?"pointer":"not-allowed",opacity:Object.keys(Tt||{}).length?1:.5},children:"Limpiar ajustes"})]})]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variable"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G3"})]})}),t.jsx("tbody",{children:hs.map((g,L)=>{const W=gt.get(g.id),pe=String(W?.reason||""),oe=pe&&!pe.includes("/"),Ce=en?!en.has(g.id):!1;return t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff",opacity:Ce?.6:1},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:600},children:[t.jsxs("div",{children:[g.id," - ",g.label]}),t.jsxs("div",{style:{marginTop:2,fontSize:12,opacity:.75},children:["Seleccionado: ",oe?pe:"-"]})]}),["G1","G2","G3"].map(ke=>{const Be=Tt?.[g.id]?.[ke],Nt=Mo(g.id,ke),it=Number.isFinite(Be)?String(Be):"auto";return t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("select",{value:it,onChange:et=>{const wt=et.target.value;wt==="auto"?Ir(g.id,ke,null):Ir(g.id,ke,Number(wt))},disabled:!pt||Ce,style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:pt&&!Ce?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"auto",children:`Auto (${fa(Nt)})`}),[0,1,2,3,4].map(et=>t.jsx("option",{value:String(et),children:et},et))]})},ke)})]},g.id)})})]})})]})]}),t.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,flexWrap:"wrap"},children:[t.jsx("div",{style:{fontWeight:600},children:"Clculo:"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>sr(M),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a gua"}),t.jsx("button",{type:"button",onClick:()=>qi(aa||0,[]),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a insumos"})]})]}),t.jsx("div",{style:{marginTop:6,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:wn.map(g=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700,minWidth:28},children:g.id}),t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C2"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:g.scores.length?g.scores.map(fa).join(" + "):"?"}),t.jsx("span",{style:{padding:"0 6px"},children:g.denom?g.denom:"?"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:We(g.sc)}),t.jsx("span",{style:{opacity:.8,fontSize:13},children:g.obs})]})]},g.id))}),t.jsx("div",{style:{marginTop:10,fontWeight:600},children:"Diagnstico por Grupo:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:900},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c2-grupo","Grupo","Grupo MAR evaluado (G1, G2, G3).",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),ir.map(g=>t.jsx("th",{style:{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:t.jsxs("span",{children:["Score(",g,")",t.jsx("sup",{children:"G"})]})},g)),vt("c2-score-crit",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C2"})]}),"Score del criterio para el grupo. Es el promedio de los scores de las variables del criterio, calculado para G1, G2 o G3.",{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c2-obs","Observaciones","Notas sobre faltantes o interpretacion.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:io.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),ir.map(W=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center"},children:Number.isFinite(g.scoresByVar[W])?We(g.scoresByVar[W]):"-"},W)),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center",fontWeight:700},children:We(g.sc)}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.obs})]},g.id))})]})})]})}),t.jsx("div",{style:{marginTop:12,padding:14,borderRadius:14,background:"rgba(219, 234, 254, 0.6)",border:"1px solid rgba(147, 197, 253, 0.7)"},children:t.jsxs("details",{style:{marginTop:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,padding:4,lineHeight:1.2,background:"transparent",border:"none",borderRadius:12},children:"Criterio C3 - Fuente y calidad del agua"}),t.jsx("div",{style:{marginTop:8,fontWeight:600},children:"Datos disponibles:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:620},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c3-variable","Variable","Codigo de la variable evaluada.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c3-estado","Estado","Estado del insumo: completo, parcial o falta.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c3-descripcion","Descripcin","Nombre corto de la variable.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:di.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.status}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.description})]},g.id))})]})}),t.jsx("div",{style:{marginTop:10},children:t.jsxs("details",{style:{background:"transparent",border:"none",borderRadius:12,padding:0},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,background:"#fee2e2",border:"1px solid #fecaca",borderRadius:12,padding:12},children:"Gua por variables"}),t.jsx("div",{style:{marginTop:10},children:di.map(g=>{const L=gt.get(g.id),W=L?.scoreByGroup||{},pe=String(L?.reason||"");return g.id==="V36"||g.id==="V37"?null:g.id==="V14"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:600},children:"G1 (Intervencin de cauces)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"," ? Score(V14)",t.jsx("sup",{children:"G1"})," ="," ",We(Ot("V14","G1",W.G1))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Superficial"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Escorrentia estacional"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Agua residual / residual tratada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Subterranea u otra"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G2 (Recarga por pozos)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"," ? Score(V14)",t.jsx("sup",{children:"G2"})," ="," ",We(Ot("V14","G2",W.G2))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Superficial"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Escorrentia estacional"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Requiere almacenamiento previo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Agua residual / residual tratada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Subterranea u otra"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]})]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:600},children:"G3 (Infiltracin superficial)"}),t.jsxs("div",{style:{marginTop:4,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"," ? Score(V14)",t.jsx("sup",{children:"G3"})," ="," ",We(Ot("V14","G3",W.G3))]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:6,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Superficial"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Escorrentia estacional"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Agua residual / residual tratada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Subterranea u otra"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]})]})]},g.id):g.id==="V36"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsx("div",{style:{marginTop:6,fontSize:12,fontWeight:600,color:"#0f172a"},children:"Aplica solo cuando la fuente es superficial."}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"30%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Ro permanente"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable para G1; viable para G3."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Ro estacional"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad similar en G1 y G3."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Ro efmero"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Menos favorable para G1; favorece G3."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Lago/Embalse"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aplica intervencin de cauce; favorece G3."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," "," ",We(Ot(g.id,"G2",W.G2))," "," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):g.id==="V37"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsx("div",{style:{marginTop:6,fontSize:12,fontWeight:600,color:"#0f172a"},children:"Aplica solo cuando la fuente es superficial."}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"25%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Ro ganador"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Hay conexin hidrulica."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Ro perdedor"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Hay conexin hidrulica."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Sin conexin"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," "," ",We(Ot(g.id,"G2",W.G2))," "," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):g.id==="V15"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Apta"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Apta con pretratamiento"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No apta"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No evaluada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Sin evaluacin disponible."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):g.id==="V16"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Si"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Parcial"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No evaluado"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Sin evaluacin disponible."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id)})})]})}),t.jsxs("details",{style:{marginTop:12},children:[t.jsxs("summary",{style:{cursor:"pointer",padding:12,borderRadius:12,background:"#fee2e2",border:"1px solid #fecaca",fontWeight:700,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("span",{children:"Modo personalizado de influencia por grupo"}),t.jsxs("span",{style:{fontSize:12,opacity:.75},children:[pt?"Activo":"Opcional",Object.keys(Tt||{}).length?`  ${Object.keys(Tt).length} ajustes`:""]})]}),t.jsxs("div",{style:{marginTop:10,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Personaliza la influencia por variable"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:"Ajusta manualmente la influencia por variable en cada grupo cuando no coincida con la gua base."})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[t.jsx("input",{type:"checkbox",checked:pt,onChange:g=>Eo(g.target.checked)}),"Activar modo personalizado"]}),t.jsx("button",{type:"button",onClick:no,disabled:!Object.keys(Tt||{}).length,style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:Object.keys(Tt||{}).length?"pointer":"not-allowed",opacity:Object.keys(Tt||{}).length?1:.5},children:"Limpiar ajustes"})]})]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variable"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G3"})]})}),t.jsx("tbody",{children:Bn.map((g,L)=>{const W=gt.get(g.id),pe=String(W?.reason||""),oe=pe&&!pe.includes("/"),Ce=en?!en.has(g.id):!1;return t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff",opacity:Ce?.6:1},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:600},children:[t.jsxs("div",{children:[g.id," - ",g.label]}),t.jsxs("div",{style:{marginTop:2,fontSize:12,opacity:.75},children:["Seleccionado: ",oe?pe:"-"]})]}),["G1","G2","G3"].map(ke=>{const Be=Tt?.[g.id]?.[ke],Nt=Mo(g.id,ke),it=Number.isFinite(Be)?String(Be):"auto";return t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("select",{value:it,onChange:et=>{const wt=et.target.value;wt==="auto"?Ir(g.id,ke,null):Ir(g.id,ke,Number(wt))},disabled:!pt||Ce,style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:pt&&!Ce?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"auto",children:`Auto (${fa(Nt)})`}),[0,1,2,3,4].map(et=>t.jsx("option",{value:String(et),children:et},et))]})},ke)})]},g.id)})})]})})]})]}),t.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,flexWrap:"wrap"},children:[t.jsx("div",{style:{fontWeight:600},children:"Clculo:"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>sr(M),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a gua"}),t.jsx("button",{type:"button",onClick:()=>qi(aa||0,[]),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a insumos"})]})]}),t.jsx("div",{style:{marginTop:6,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:_n.map(g=>{const L=g.scores.filter(pe=>Number.isFinite(pe)&&pe!==0),W=L.length;return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700,minWidth:28},children:g.id}),t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C3"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:W?L.map(fa).join(" + "):"-"}),t.jsx("span",{style:{padding:"0 6px"},children:W||"-"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:We(g.sc)}),t.jsx("span",{style:{opacity:.8,fontSize:13},children:g.obs})]})]},g.id)})}),t.jsx("div",{style:{marginTop:10,fontWeight:600},children:"Diagnstico por Grupo:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:760},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c3-grupo","Grupo","Grupo MAR evaluado (G1, G2, G3).",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),Fe.map(g=>t.jsx("th",{style:{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:t.jsxs("span",{children:["Score(",g,")",t.jsx("sup",{children:"G"})]})},g)),vt("c3-score-crit",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C3"})]}),"Score del criterio para el grupo. Es el promedio de los scores de las variables del criterio, calculado para G1, G2 o G3.",{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c3-obs","Observaciones","Notas sobre faltantes o interpretacion.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:Ma.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),Fe.map(W=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center"},children:Number.isFinite(g.scoresByVar[W])?We(g.scoresByVar[W]):"-"},W)),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center",fontWeight:700},children:We(g.sc)}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.obs})]},g.id))})]})})]})}),t.jsx("div",{style:{marginTop:12,padding:14,borderRadius:14,background:"rgba(254, 243, 199, 0.6)",border:"1px solid rgba(252, 211, 77, 0.7)"},children:t.jsxs("details",{style:{marginTop:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,padding:4,lineHeight:1.2,background:"transparent",border:"none",borderRadius:12},children:"Criterio C4 - Viabilidad tcnica"}),t.jsx("div",{style:{marginTop:8,fontWeight:600},children:"Datos disponibles:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:620},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c4-variable","Variable","Codigo de la variable evaluada.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c4-estado","Estado","Estado del insumo: completo, parcial o falta.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c4-descripcion","Descripcin","Nombre corto de la variable.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:ra.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.status}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.description})]},g.id))})]})}),t.jsx("div",{style:{marginTop:10},children:t.jsxs("details",{style:{background:"transparent",border:"none",borderRadius:12,padding:0},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,background:"#fee2e2",border:"1px solid #fecaca",borderRadius:12,padding:12},children:"Gua por variables"}),t.jsx("div",{style:{marginTop:10},children:ra.map(g=>{const L=gt.get(g.id),W=L?.scoreByGroup||{},pe=String(L?.reason||""),oe=Qi.get(g.id);return t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),oe?t.jsx("div",{style:{marginTop:6,fontSize:12,fontWeight:600,color:"#0f172a"},children:oe}):null,t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id)})})]})}),t.jsxs("details",{style:{marginTop:12},children:[t.jsxs("summary",{style:{cursor:"pointer",padding:12,borderRadius:12,background:"#fee2e2",border:"1px solid #fecaca",fontWeight:700,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("span",{children:"Modo personalizado de influencia por grupo"}),t.jsxs("span",{style:{fontSize:12,opacity:.75},children:[pt?"Activo":"Opcional",Object.keys(Tt||{}).length?` ? ${Object.keys(Tt).length} ajustes`:""]})]}),t.jsxs("div",{style:{marginTop:10,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Personaliza la influencia por variable"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:"Ajusta manualmente la influencia por variable en cada grupo cuando no coincida con la gua base."})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[t.jsx("input",{type:"checkbox",checked:pt,onChange:g=>Eo(g.target.checked)}),"Activar modo personalizado"]}),t.jsx("button",{type:"button",onClick:no,disabled:!Object.keys(Tt||{}).length,style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:Object.keys(Tt||{}).length?"pointer":"not-allowed",opacity:Object.keys(Tt||{}).length?1:.5},children:"Limpiar ajustes"})]})]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variable"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G3"})]})}),t.jsx("tbody",{children:Fa.map((g,L)=>{const W=gt.get(g.id),pe=String(W?.reason||""),oe=pe&&!pe.includes("/"),Ce=en?!en.has(g.id):!1;return t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff",opacity:Ce?.6:1},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:600},children:[t.jsxs("div",{children:[g.id," - ",g.label]}),t.jsxs("div",{style:{marginTop:2,fontSize:12,opacity:.75},children:["Seleccionado: ",oe?pe:"-"]})]}),["G1","G2","G3"].map(ke=>{const Be=Tt?.[g.id]?.[ke],Nt=Mo(g.id,ke),it=Number.isFinite(Be)?String(Be):"auto";return t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("select",{value:it,onChange:et=>{const wt=et.target.value;wt==="auto"?Ir(g.id,ke,null):Ir(g.id,ke,Number(wt))},disabled:!pt||Ce,style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:pt&&!Ce?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"auto",children:`Auto (${fa(Nt)})`}),[0,1,2,3,4].map(et=>t.jsx("option",{value:String(et),children:et},et))]})},ke)})]},g.id)})})]})})]})]}),t.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,flexWrap:"wrap"},children:[t.jsx("div",{style:{fontWeight:600},children:"Clculo:"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>sr(M),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a gua"}),t.jsx("button",{type:"button",onClick:()=>qi(aa||0,[]),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a insumos"})]})]}),t.jsx("div",{style:{marginTop:6,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:ma.map(g=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700,minWidth:28},children:g.id}),t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C4"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:g.scores.length?g.scores.map(fa).join(" + "):"-"}),t.jsx("span",{style:{padding:"0 6px"},children:g.denom?g.denom:"-"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:We(g.sc)}),t.jsx("span",{style:{opacity:.8,fontSize:13},children:g.obs})]})]},g.id))}),t.jsx("div",{style:{marginTop:10,fontWeight:600},children:"Diagnstico por Grupo:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:820},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c4-grupo","Grupo","Grupo MAR evaluado (G1, G2, G3).",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),Ti.map(g=>t.jsx("th",{style:{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:t.jsxs("span",{children:["Score(",g,")",t.jsx("sup",{children:"G"})]})},g)),vt("c4-score-crit",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C4"})]}),"Score del criterio para el grupo. Es el promedio de los scores de las variables del criterio, calculado para G1, G2 o G3.",{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c4-obs","Observaciones","Notas sobre faltantes o interpretacion.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:yn.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),Ti.map(W=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center"},children:Number.isFinite(g.scoresByVar[W])?We(g.scoresByVar[W]):"-"},W)),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center",fontWeight:700},children:We(g.sc)}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.obs})]},g.id))})]})})]})}),t.jsx("div",{style:{marginTop:12,padding:14,borderRadius:14,background:"rgba(233, 213, 255, 0.6)",border:"1px solid rgba(216, 180, 254, 0.7)"},children:t.jsxs("details",{style:{marginTop:10},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,padding:4,lineHeight:1.2,background:"transparent",border:"none",borderRadius:12},children:"Criterio C5 - Aspectos socioambientales"}),t.jsx("div",{style:{marginTop:8,fontWeight:600},children:"Datos disponibles:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:620},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c5-variable","Variable","Codigo de la variable evaluada.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c5-estado","Estado","Estado del insumo: completo, parcial o falta.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c5-descripcion","Descripcin","Nombre corto de la variable.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:$a.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.status}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.description})]},g.id))})]})}),t.jsx("div",{style:{marginTop:10},children:t.jsxs("details",{style:{background:"transparent",border:"none",borderRadius:12,padding:0},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,background:"#fee2e2",border:"1px solid #fecaca",borderRadius:12,padding:12},children:"Gua por variables"}),t.jsx("div",{style:{marginTop:10},children:$a.map(g=>{const L=gt.get(g.id),W=L?.scoreByGroup||{},pe=String(L?.reason||"");return g.id==="V23"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Domstico"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Industrial"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Ambiental"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Agrcola"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Mixto"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):g.id==="V34"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Urbano"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Rural"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Mixto"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"NA"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No evaluado"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):g.id==="V35"?t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Beneficio directo"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Beneficio indirecto"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Potencial beneficiario"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No evaluado"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id):t.jsxs("details",{style:{background:"#fff",border:"1px solid rgba(0,0,0,.08)",borderRadius:12,padding:10,marginBottom:10},children:[t.jsxs("summary",{style:{cursor:"pointer",fontWeight:600},children:[g.id," - ",g.description]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Valor actual: ",pe||"-"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,marginTop:8,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"45%"},children:"Tipo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"15%"},children:"Score^G"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:"40%"},children:"Justificacin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Muy favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"4"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Alta idoneidad para el grupo."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad buena."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad intermedia."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Poco favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Favorabilidad baja."})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No favorable"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"0"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"No aporta idoneidad."})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:["Score(",g.id,")",t.jsx("sup",{children:"G"})," aplicado (G1/G2/G3): ",We(Ot(g.id,"G1",W.G1))," ?"," ",We(Ot(g.id,"G2",W.G2))," ?"," ",We(Ot(g.id,"G3",W.G3))]})]},g.id)})})]})}),t.jsxs("details",{style:{marginTop:12},children:[t.jsxs("summary",{style:{cursor:"pointer",padding:12,borderRadius:12,background:"#fee2e2",border:"1px solid #fecaca",fontWeight:700,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsx("span",{children:"Modo personalizado de influencia por grupo"}),t.jsxs("span",{style:{fontSize:12,opacity:.75},children:[pt?"Activo":"Opcional",Object.keys(Tt||{}).length?` ? ${Object.keys(Tt).length} ajustes`:""]})]}),t.jsxs("div",{style:{marginTop:10,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:700},children:"Personaliza la influencia por variable"}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:"Ajusta manualmente la influencia por variable en cada grupo cuando no coincida con la gua base."})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13},children:[t.jsx("input",{type:"checkbox",checked:pt,onChange:g=>Eo(g.target.checked)}),"Activar modo personalizado"]}),t.jsx("button",{type:"button",onClick:no,disabled:!Object.keys(Tt||{}).length,style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:Object.keys(Tt||{}).length?"pointer":"not-allowed",opacity:Object.keys(Tt||{}).length?1:.5},children:"Limpiar ajustes"})]})]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variable"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"G3"})]})}),t.jsx("tbody",{children:kn.map((g,L)=>{const W=gt.get(g.id),pe=String(W?.reason||""),oe=pe&&!pe.includes("/"),Ce=en?!en.has(g.id):!1;return t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff",opacity:Ce?.6:1},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:600},children:[t.jsxs("div",{children:[g.id," - ",g.label]}),t.jsxs("div",{style:{marginTop:2,fontSize:12,opacity:.75},children:["Seleccionado: ",oe?pe:"-"]})]}),["G1","G2","G3"].map(ke=>{const Be=Tt?.[g.id]?.[ke],Nt=Mo(g.id,ke),it=Number.isFinite(Be)?String(Be):"auto";return t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("select",{value:it,onChange:et=>{const wt=et.target.value;wt==="auto"?Ir(g.id,ke,null):Ir(g.id,ke,Number(wt))},disabled:!pt||Ce,style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:pt&&!Ce?"#fff":"#f1f5f9"},children:[t.jsx("option",{value:"auto",children:`Auto (${fa(Nt)})`}),[0,1,2,3,4].map(et=>t.jsx("option",{value:String(et),children:et},et))]})},ke)})]},g.id)})})]})})]})]}),t.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,flexWrap:"wrap"},children:[t.jsx("div",{style:{fontWeight:600},children:"Clculo:"}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>sr(M),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a gua"}),t.jsx("button",{type:"button",onClick:()=>qi(aa||0,[]),style:{border:"1px solid rgba(0,0,0,.2)",background:"#f8fafc",padding:"6px 10px",borderRadius:8,fontSize:12,cursor:"pointer"},children:"Ir a insumos"})]})]}),t.jsx("div",{style:{marginTop:6,padding:12,borderRadius:12,background:"#fff",border:"1px solid rgba(0,0,0,.08)"},children:Mn.map(g=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[t.jsx("div",{style:{fontWeight:700,minWidth:28},children:g.id}),t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C5"})]}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 6px",borderBottom:"1px solid #111"},children:g.scores.length?g.scores.map(fa).join(" + "):"-"}),t.jsx("span",{style:{padding:"0 6px"},children:g.denom?g.denom:"-"})]}),t.jsx("span",{children:"="}),t.jsx("span",{children:We(g.sc)}),t.jsx("span",{style:{opacity:.8,fontSize:13},children:g.obs})]})]},g.id))}),t.jsx("div",{style:{marginTop:10,fontWeight:600},children:"Diagnstico por Grupo:"}),t.jsx("div",{style:{marginTop:6,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:700},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[vt("c5-grupo","Grupo","Grupo MAR evaluado (G1, G2, G3).",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),Xa.map(g=>t.jsx("th",{style:{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:t.jsxs("span",{children:["Score(",g,")",t.jsx("sup",{children:"G"})]})},g)),vt("c5-score-crit",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsx("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:"C5"})]}),"Score del criterio para el grupo. Es el promedio de los scores de las variables del criterio, calculado para G1, G2 o G3.",{textAlign:"center",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"}),vt("c5-obs","Observaciones","Notas sobre faltantes o interpretacion.",{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"})]})}),t.jsx("tbody",{children:So.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),Xa.map(W=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center"},children:Number.isFinite(g.scoresByVar[W])?We(g.scoresByVar[W]):"-"},W)),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center",fontWeight:700},children:We(g.sc)}),t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.obs})]},g.id))})]})})]})})]}),Yl.length?t.jsxs("div",{style:{marginTop:12,background:"#fff7d6",borderRadius:16,padding:12,border:"1px solid #f3dc98"},children:[t.jsx("div",{style:{fontWeight:800,marginBottom:6},children:"Preguntas de rigor (fuente superficial)"}),t.jsx("div",{style:{fontSize:13,opacity:.85,marginBottom:8},children:"Estas preguntas se diligencian solo cuando la fuente es superficial."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:12},children:Yl.map(g=>Kr(g))})]}):null,t.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:12,background:"#ffffff",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsx("div",{style:{fontWeight:800,marginBottom:8,fontSize:16},children:"Resumen de puntajes por criterio"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:560},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Score G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Score G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Score G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Estado de la informacin"})]})}),t.jsx("tbody",{children:Ci.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:g.id}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:We(g.g1)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:We(g.g2)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:We(g.g3)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.status})]},g.id))})]})})]}),t.jsx("div",{style:{marginTop:14,fontWeight:800,fontSize:20},children:"2.2 Mtodo de ponderacin: El Proceso Analtico Jerrquico (AHP)"}),t.jsxs("p",{style:{marginTop:10,lineHeight:1.6,opacity:.9},children:["Tras haber determinado la Aptitud Tcnica de cada criterio (",t.jsxs("span",{style:{position:"relative",display:"inline-block",paddingRight:"0.75em"},children:["S",t.jsx("span",{style:{position:"absolute",top:"-0.45em",right:0,fontSize:"0.65em"},children:"G"}),t.jsxs("span",{style:{position:"absolute",bottom:"-0.35em",right:0,fontSize:"0.65em"},children:["C",t.jsx("sub",{children:"i"})]})]}),") mediante la lgica de agregacin y el tratamiento de incertidumbre, el modelo requiere una capa final de inteligencia estratgica: la Ponderacin. En la gestin hdrica, es frecuente enfrentar escenarios con informacin limitada o la necesidad de valorar aspectos cualitativos de difcil cuantificacin."]}),t.jsx("p",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:"Para resolver esta complejidad, se implementa el Proceso Analtico Jerrquico (AHP), desarrollado por Thomas L. Saaty en la dcada de los 70. Este mtodo multiatributo permite la seleccin de alternativas basndose en una estructura jerrquica donde el objetivo superior se desglosa en criterios y subcriterios que suelen entrar en conflicto entre s. De acuerdo con Saaty (1980), la eficacia del mtodo reside en la correcta definicin de estos elementos, los cuales deben ser relevantes y mutuamente excluyentes para garantizar la independencia del anlisis."}),t.jsx("p",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:"El componente esencial del AHP es la comparacin pareada. Basndose en la Ley de Weber-Fechner, que establece que la percepcin humana responde de forma aritmtica a estmulos que crecen en progresin geomtrica, el mtodo utiliza una Escala Fundamental (1 al 9) (Tabla 4). Esta escala permite transformar juicios verbales y percepciones tcnicas en valores numricos precisos, facilitando la toma de decisiones al comparar solo dos elementos a la vez."}),t.jsx("div",{style:{marginTop:10,fontWeight:700},children:"Tabla 4. Escala fundamental de comparacin por pares."}),t.jsxs("div",{style:{marginTop:6,overflowX:"auto"},children:[t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Valor"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Definicin"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Comentarios"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"1"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Igual importancia"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"El criterio A es igual de importante que el criterio B"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"3"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Importancia moderada"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"La experiencia y el juicio favorecen ligeramente al criterio A sobre el B"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"5"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Importancia grande"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"La experiencia y el juicio favorecen fuertemente el criterio A sobre el B"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"7"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Importancia muy grande"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"El criterio A es mucho ms importante que el B"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"9"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Importancia extrema"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"La mayor importancia del criterio A sobre el B est fuera de toda duda"})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"2, 4, 6 y 8"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Valores intermedios entre los anteriores"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Cuando es necesario matizar"})]})]})]}),t.jsx("div",{style:{marginTop:8,fontSize:13,opacity:.8},children:"Fuente: Tomado de Saaty, 1980"})]}),t.jsx("p",{style:{marginTop:10,lineHeight:1.6,opacity:.9},children:"El Proceso Analtico Jerrquico no solo nos permite organizar nuestras prioridades, sino que funciona como un filtro de calidad para asegurar que las decisiones tomadas sean coherentes. Esto es fundamental porque, al evaluar muchos factores al mismo tiempo, es natural que el ser humano incurra en pequeas contradicciones. Por ello, el sistema utiliza un respaldo matemtico que detecta si los juicios del analista mantienen una estructura lgica o si necesitan ser revisados."}),t.jsxs("p",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:["Esta validacin comienza con el clculo del llamado Mximo Autovalor (",t.jsx("sub",{children:"max"}),'). Para entenderlo de forma sencilla, este valor es una medida de "equilibrio": en un mundo donde todas nuestras comparaciones fueran perfectamente exactas y lgicas, este autovalor sera igual al nmero de criterios que estamos evaluando (',t.jsx("em",{children:"n"}),'). Sin embargo, como es comn que existan ligeras desviaciones, el sistema mide qu tanto se aleja este nmero de la realidad tcnica, dando origen al ndice de Consistencia (CI). Este ndice es, en esencia, la unidad que cuantifica cunto "ruido" o error hay en nuestras respuestas; entre ms grande sea la diferencia entre el autovalor y el nmero de criterios, menos slido ser el resultado.']}),t.jsx("div",{style:{margin:"6px 0 0",display:"block",textAlign:"center",fontFamily:"inherit",fontSize:20},children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsx("span",{children:"CI"}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsxs("span",{style:{padding:"0 8px 2px",borderBottom:"1px solid #111"},children:["",t.jsx("sub",{children:"max"}),"  ",t.jsx("em",{children:"n"})]}),t.jsxs("span",{style:{padding:"2px 8px 0"},children:[t.jsx("em",{children:"n"}),"  1"]})]}),t.jsx("span",{style:{fontSize:14},children:"[2]"})]})}),t.jsxs("div",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:[t.jsx("div",{style:{fontWeight:700},children:"Donde:"}),t.jsxs("ul",{style:{margin:"6px 0 0 18px"},children:[t.jsxs("li",{children:[t.jsxs("strong",{children:["",t.jsx("sub",{children:"max"})," (Lambda Mximo):"]})," Es un valor que sale de la matriz de comparaciones y resume cunta inconsistencia hay."]}),t.jsxs("li",{children:[t.jsxs("strong",{children:[t.jsx("em",{children:"n"}),":"]})," El nmero de criterios o alternativas que se estn comparando."]})]})]}),t.jsx("p",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:"A partir de este error calculado, el modelo da un paso decisivo mediante la Relacin de Consistencia (CR), que acta como el filtro final de validez. Lo que hace este indicador es comparar nuestro ndice de consistencia (CI) con un error que obtendra alguien que responde a la tabla totalmente al azar. Para que las ponderaciones de nuestro proyecto MAR sean aceptables, este ratio no debe superar el 10% (0.10). Si nos mantenemos bajo este lmite, el sistema confirma que el anlisis es coherente y defendible; de lo contrario, nos indicar que existen conflictos de jerarqua que deben corregirse antes de continuar. Matemticamente, esta validacin se expresa de la siguiente manera:"}),t.jsx("div",{style:{margin:"6px 0 0",display:"block",textAlign:"center",fontFamily:"inherit",fontSize:20},children:t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsx("span",{children:"CR"}),t.jsx("span",{children:"="}),t.jsxs("span",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",lineHeight:1.1},children:[t.jsx("span",{style:{padding:"0 8px 2px",borderBottom:"1px solid #111"},children:"CI"}),t.jsx("span",{style:{padding:"2px 8px 0"},children:"RI"})]}),t.jsx("span",{style:{fontSize:14},children:"[3]"})]})}),t.jsx("p",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:"Donde RI es el ndice aleatorio, que indica la consistencia de una matriz aleatoria como se muestra a continuacin:"}),t.jsx("div",{style:{marginTop:8,overflowX:"auto"},children:t.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:520},children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsxs("th",{style:{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:["Tamao de la matriz (",t.jsx("em",{children:"n"}),")"]}),["2","3","4","5","6","7","8","9","10"].map(g=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g},g))]}),t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:8,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"ndice aleatorio (RI)"}),["0","0.58","0.90","1.12","1.24","1.32","1.41","1.45","1.49"].map(g=>t.jsx("td",{style:{padding:8,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g},g))]})]})})}),t.jsxs("p",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:["Una vez que el sistema valida que las comparaciones son consistentes, procede automticamente a la obtencin de los pesos finales (W",t.jsx("sub",{children:"i"}),"). En esta etapa, las valoraciones registradas en la matriz se transforman en coeficientes numricos que representan la importancia relativa de cada tema. Finalmente, estos pesos se integran con los puntajes de aptitud mediante la frmula de ponderacin lineal, dando como resultado el ndice de Idoneidad Global. Este valor final permite identificar, qu grupo MAR es el ms adecuado para el acufero estudiado."]}),t.jsx("p",{style:{marginTop:6,lineHeight:1.6,opacity:.9},children:"En la prctica dentro de nuestra plataforma, el analista interacta con una matriz de decisin cuadrada que debe cumplir con tres propiedades esenciales:"}),t.jsxs("div",{style:{marginTop:6,lineHeight:1.6,opacity:.9},children:["- Reciprocidad: Si el criterio A es 3 veces ms importante que B, B es 1/3 respecto a A.",t.jsx("br",{}),"- Homogeneidad: Los elementos comparados deben pertenecer al mismo nivel jerrquico.",t.jsx("br",{}),"- Consistencia: El sistema evala automticamente que no existan contradicciones lgicas en las valoraciones."]}),t.jsxs("div",{style:{marginTop:14,padding:12,borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",boxShadow:"0 0 0 1px rgba(0,0,0,0.08) inset",background:"rgba(244, 220, 220, 0.6)"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Comparacin por pares (AHP)"}),t.jsx("p",{style:{marginTop:6,lineHeight:1.6,opacity:.9},children:"Selecciona el criterio ms importante entre cada par y asigna la intensidad en la escala 1-9. El sistema construir la matriz recproca a partir de estas elecciones. Para diligenciar la tabla de ponderacin, usted deber realizar comparaciones directas entre dos criterios a la vez (por pares), respondiendo a la pregunta: En trminos de xito para la recarga gestionada, cul de estos dos criterios es ms relevante y en qu medida?"}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsx("div",{style:{background:"#fff",borderRadius:10,border:"1px solid rgba(0,0,0,.08)",padding:6},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:720},children:[t.jsxs("thead",{children:[t.jsxs("tr",{children:[t.jsx("th",{colSpan:2,style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),t.jsx("th",{rowSpan:2,style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Ms importante (A o B)"}),t.jsx("th",{rowSpan:2,style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Escala (1-9)"})]}),t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"A"}),t.jsx("th",{style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"B"})]})]}),t.jsx("tbody",{children:lt.map((g,L)=>{const W=`${g.a.id}-${g.b.id}`,pe=g.a.id==="C4"&&g.b.id==="C5",oe="transparent",Ce=g.showA?"#f3f4f6":"transparent",ke="rgba(244, 220, 220, 0.6)";return t.jsxs(t.Fragment,{children:[t.jsxs("tr",{style:{background:L%2===0?"#f3f4f6":"#ffffff"},children:[g.showA?t.jsxs("td",{rowSpan:g.rowSpan,style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700,background:Ce},children:[g.a.id," - ",g.a.label]}):null,t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",background:oe},children:[t.jsx("strong",{children:g.b.id})," - ",g.b.label]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",background:ke},children:t.jsxs("select",{"aria-label":`Mas importante entre ${g.a.id} y ${g.b.id}`,value:(Yt[W]?.more||g.a.id).toString(),onChange:Be=>Bt(W,{more:Be.target.value}),style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:"#fff"},children:[t.jsx("option",{value:"A",children:g.a.id}),t.jsx("option",{value:"B",children:g.b.id})]})}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",background:ke},children:t.jsx("select",{"aria-label":`Escala para ${g.a.id} vs ${g.b.id}`,value:String(Yt[W]?.scale||"1"),onChange:Be=>Bt(W,{scale:Number(Be.target.value)}),style:{width:"100%",padding:"4px 6px",borderRadius:6,border:"1px solid rgba(0,0,0,.2)",background:"#fff"},children:["1","2","3","4","5","6","7","8","9"].map(Be=>t.jsx("option",{value:Be,children:Be},Be))})})]},W),pe?t.jsxs("tr",{style:{background:"#ffffff"},children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",background:oe}}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700,background:oe},children:"CR"}),t.jsxs("td",{colSpan:2,style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",verticalAlign:"top",background:oe},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:6},children:Number.isFinite(hi)?`${(hi*100).toFixed(1)}%`:"-"}),t.jsx("div",{style:{padding:"6px 8px",borderRadius:8,background:ki?"#fecaca":"#dcfce7",color:ki?"#991b1b":"#166534",fontSize:12,fontWeight:600},children:ki?"CR fuera de lmite. Ajusta las comparaciones.":"CR dentro del lmite."}),t.jsx("div",{style:{marginTop:6,fontSize:11,opacity:.85},children:"Rango esperado: 0.00 - 0.10 (consistencia aceptable segn Saaty)."}),ki&&bi.length?t.jsxs("div",{style:{marginTop:8,fontSize:11,lineHeight:1.4},children:["Sugerencias (aprox.):"," ",bi.map((Be,Nt)=>t.jsxs("span",{children:["",Be.pair,": ",Be.suggestedMore," con escala ",Be.suggestedScale]},Be.pair))]}):null]})]}):null]})})})]})})}),t.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.8},children:"Tip: valores 2, 4, 6 y 8 representan intensidades intermedias."}),t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Las variables de abajo se calculan automticamente, no necesitas diligenciarlas."}),t.jsx("div",{style:{marginTop:12,height:1,background:"rgba(0,0,0,0.1)"}}),t.jsxs("div",{style:{marginTop:12},children:[t.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Matriz de comparaciones y ",t.jsx("sub",{children:"max"})]}),(()=>{const g={C1:"#dbeafe",C2:"#dcfce7",C3:"#ffedd5",C4:"#ede9fe",C5:"#fee2e2"};return t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:640,tableLayout:"fixed"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:`${100/(Mt.ids.length+1)}%`},children:" "}),Mt.ids.map(L=>t.jsx("th",{style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)",width:`${100/(Mt.ids.length+1)}%`,background:g[L]||"#ffffff"},children:L},L))]})}),t.jsx("tbody",{children:Mt.matrix.map((L,W)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700,textAlign:"center",width:`${100/(Mt.ids.length+1)}%`,background:g[Mt.ids[W]]||"#ffffff"},children:Mt.ids[W]}),L.map((pe,oe)=>{const Ce=W===oe;return t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",background:Ce?"rgba(59, 130, 246, 0.12)":"#ffffff",fontWeight:Ce?700:500,textAlign:"center",width:`${100/(Mt.ids.length+1)}%`},children:Number.isFinite(pe)?Number(pe).toFixed(2):"-"},`${Mt.ids[W]}-${Mt.ids[oe]}`)})]},Mt.ids[W]))})]})})})(),t.jsxs("div",{style:{marginTop:10,fontSize:13},children:["",t.jsx("sub",{children:"max"}),": ",Number.isFinite(Ct.lambdaMax)?Ct.lambdaMax.toFixed(3):"-"]})]}),t.jsx("div",{style:{marginTop:12,height:1,background:"rgba(0,0,0,0.1)"}}),t.jsxs("div",{style:{marginTop:14,display:"grid",gap:14},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:800,fontSize:16,marginBottom:6},children:"Pesos (prioridades)"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:540},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:t.jsxs("details",{style:{display:"inline-block",position:"relative"},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,listStyle:"none"},children:"Peso (%)"}),t.jsxs("div",{style:{position:"absolute",top:"calc(100% + 6px)",left:0,zIndex:10,width:280,padding:10,borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"#ffffff",boxShadow:"0 10px 24px rgba(0,0,0,0.12)",fontSize:12,fontWeight:500,lineHeight:1.5,display:"grid",gap:8},children:[t.jsx("div",{children:"Primero se construye la matriz pareada. De all se obtiene el vector de prioridades v_i (autovector principal de la matriz). Sum(v_i) es la suma de todos los v_i y se usa para normalizar."}),t.jsxs("div",{style:{display:"grid",gap:4},children:[t.jsx("div",{children:"Luego se normaliza:"}),t.jsxs("div",{style:{display:"flex",gap:14,flexWrap:"wrap",alignItems:"center"},children:[t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[t.jsx("span",{children:"w_i ="}),t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:52},children:[t.jsx("div",{children:"v_i"}),t.jsx("div",{style:{borderTop:"1px solid #111"},children:"sum(v_i)"})]})]}),t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[t.jsx("span",{children:"Peso(%) ="}),t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:52},children:[t.jsx("div",{children:"w_i"}),t.jsx("div",{style:{borderTop:"1px solid #111"},children:"1"})]}),t.jsx("span",{children:"x 100"})]})]})]}),t.jsx("div",{children:"Ejemplo real: si v = [0.054, 0.037, 0.100, 0.471, 0.338] entonces sum(v) = 1.000, w = [0.054, 0.037, 0.100, 0.471, 0.338] y Peso(%) = [5.4%, 3.7%, 10.0%, 47.1%, 33.8%]."})]})]})}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Peso (w_i)"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:t.jsxs("details",{style:{display:"inline-block",position:"relative"},children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:700,listStyle:"none"},children:"Jerarqua"}),t.jsx("div",{style:{position:"absolute",top:"calc(100% + 6px)",left:0,zIndex:10,width:240,padding:10,borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"#ffffff",boxShadow:"0 10px 24px rgba(0,0,0,0.12)",fontSize:12,fontWeight:500,lineHeight:1.5,display:"grid",gap:8},children:"El Rank ordena los criterios por peso de mayor a menor. Rank 1 es el criterio con el mayor peso; Rank 2 el siguiente, y as sucesivamente."})]})})]})}),t.jsx("tbody",{children:Oi.map((g,L)=>t.jsxs("tr",{style:{background:L%2===0?"#f8fafc":"#ffffff"},children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:[g.id," - ",g.label]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsx("span",{title:"Peso normalizado: w_i = v_i / S v_i; Peso(%) = w_i ? 100",children:ln(g.weight)})}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(g.weight)?g.weight.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:g.rank})]},g.id))})]})})]}),t.jsxs("div",{style:{display:"grid",gap:8,padding:12,borderRadius:12,border:"1px solid rgba(0,0,0,0.1)",background:"#f8fafc"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[t.jsx("span",{style:{width:10,height:10,borderRadius:999,background:ki?"#dc2626":"#16a34a",display:"inline-block"}}),t.jsxs("span",{style:{fontWeight:700},children:["CR: ",Number.isFinite(hi)?ln(hi):"?"]})]}),t.jsxs("div",{style:{fontWeight:700},children:["CI: ",Number.isFinite(Ct.ci)?Ct.ci.toFixed(3):"?"]}),t.jsx("div",{style:{fontSize:12,opacity:.75},children:"Rango aceptable: CR  0.10 (consistencia segn Saaty)."})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{style:{fontWeight:600},children:["Nmero de comparaciones: ",At]}),t.jsxs("details",{children:[t.jsx("summary",{style:{cursor:"pointer",fontWeight:600},children:"Qu indica este valor?"}),t.jsx("div",{style:{marginTop:6,fontSize:12,lineHeight:1.5},children:"Representa la cantidad de pares evaluados (n(n-1)/2). Entre ms comparaciones, ms informacin se usa para estimar los pesos, pero tambin aumenta la probabilidad de inconsistencias si los juicios no son coherentes."})]})]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:800,fontSize:16,marginBottom:6},children:"Grfico de prioridades"}),(()=>{const L={top:12,right:12,bottom:44,left:56},W=320-L.top-L.bottom,pe=[0,25,50,75,100];return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{textAlign:"center",fontWeight:700,fontSize:13,marginBottom:6},children:"Prioridad por criterio"}),t.jsxs("div",{style:{position:"relative",height:320,borderRadius:12,border:"1px solid rgba(0,0,0,0.1)",background:"#ffffff"},children:[pe.map(oe=>t.jsx("div",{style:{position:"absolute",left:L.left,right:L.right,bottom:L.bottom+oe/100*W,height:1,background:"rgba(15, 23, 42, 0.08)"}},`grid-${oe}`)),pe.map(oe=>t.jsxs("div",{style:{position:"absolute",left:L.left-8,bottom:L.bottom+oe/100*W,transform:"translateX(-100%)",width:28,textAlign:"right",fontSize:10,opacity:.6},children:[oe,"%"]},`label-${oe}`)),t.jsx("div",{style:{position:"absolute",left:6,top:"50%",transform:"translateY(-50%) rotate(-90deg)",transformOrigin:"left top",fontSize:12,fontWeight:700,opacity:.75},children:"Peso (%)"}),t.jsx("div",{style:{position:"absolute",left:"50%",bottom:-10,transform:"translateX(-50%)",fontSize:12,fontWeight:700,opacity:.75},children:"Criterios"}),t.jsx("div",{style:{position:"absolute",left:L.left,right:L.right,top:L.top,bottom:L.bottom,display:"flex",alignItems:"flex-end",gap:12},children:ai.map(oe=>{const Ce=Math.max(oe.weight*W,8);return t.jsxs("div",{style:{flex:1,minWidth:60,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",gap:6},children:[t.jsx("div",{style:{fontSize:11,fontWeight:700},children:Number.isFinite(oe.weight)?ln(oe.weight):"-"}),t.jsx("div",{style:{width:28,height:`${Ce}px`,background:"#3b82f6",borderRadius:4,boxShadow:"0 1px 0 rgba(0,0,0,0.2)"},title:ln(oe.weight)})]},oe.id)})}),t.jsx("div",{style:{position:"absolute",left:L.left,right:L.right,bottom:10,display:"flex",gap:12},children:ai.map(oe=>t.jsx("div",{style:{flex:1,minWidth:60,fontSize:11,textAlign:"center"},children:oe.label},`label-${oe.id}`))})]})]})})()]})]})]}),t.jsxs("div",{style:{marginTop:16,padding:14,borderRadius:12,border:"1px solid rgba(0,0,0,0.1)",background:"#ffffff"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:18},children:"2.3 Clculo de Idoneidad Final por Grupo MAR"}),t.jsx("div",{style:{marginTop:4,fontWeight:700},children:"Frmula de Combinacin Lineal Ponderada (WLC)"}),t.jsxs("div",{style:{marginTop:8,lineHeight:1.6,opacity:.9},children:["La idoneidad de cada grupo MAR se calcula combinando los scores por criterio (S",t.jsx("sub",{children:"Ci"}),t.jsx("sup",{children:"G"}),") con los pesos del AHP (w",t.jsx("sub",{children:"i"}),t.jsx("sup",{children:"AHP"}),"):"]}),t.jsxs("div",{style:{marginTop:8,fontSize:16,fontWeight:700},children:["Idoneidad",t.jsx("sub",{children:"G"})," =",t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,marginLeft:6},children:[t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:28},children:[t.jsx("div",{style:{fontSize:12,lineHeight:1},children:"n"}),t.jsx("div",{style:{fontSize:22,lineHeight:1},children:""}),t.jsx("div",{style:{fontSize:12,lineHeight:1},children:"i=1"})]}),t.jsxs("span",{children:["w",t.jsx("sub",{children:"i"}),t.jsx("sup",{children:"AHP"}),"  S",t.jsx("sub",{children:"Ci"}),t.jsx("sup",{children:"G"})]})]})]}),t.jsxs("div",{style:{marginTop:8,fontSize:12,opacity:.8},children:["Donde: Idoneidad",t.jsx("sub",{children:"G"})," es el ndice del grupo G; w",t.jsx("sub",{children:"i"}),t.jsx("sup",{children:"AHP"})," es el peso del criterio i; S",t.jsx("sub",{children:"Ci"}),t.jsx("sup",{children:"G"})," es el score del criterio i para el grupo G."]}),(()=>{const g=Yr.map(Gt=>Gt.id),L=new Map(Yr.map(Gt=>[Gt.id,Gt.label])),W=Yr.map(Gt=>({id:Gt.id,weight:Number(Z?.weights?.[Gt.id]||0)})),pe=W.reduce((Gt,Et)=>Gt+Et.weight,0),oe=pe>0,Ce=new Map(oe?W.map(Gt=>[Gt.id,Gt.weight/pe]):ai.map(Gt=>[Gt.id,Gt.weight])),ke=fe?zt(Ce):Ce,Be=new Map(Ci.map(Gt=>[Gt.id,Gt])),it=[{id:"G1",key:"g1",label:"G1 - Intervencin de cauces"},{id:"G2",key:"g2",label:"G2 - Recarga por pozos"},{id:"G3",key:"g3",label:"G3 - Infiltracin superficial"}].map(Gt=>{const Et=g.map(Zi=>{const Ki=Number(ke.get(Zi)||0),oi=Number(Be.get(Zi)?.[Gt.key]||0);return{id:Zi,w:Ki,s:oi,contrib:Ki*oi}}),Wt=Et.reduce((Zi,Ki)=>Zi+Ki.contrib,0),ri=[...Et].sort((Zi,Ki)=>Ki.contrib-Zi.contrib)[0]||null;return{...Gt,total:Wt,top:ri}}),et=[...it].sort((Gt,Et)=>Et.total-Gt.total).map((Gt,Et)=>({...Gt,rank:Et+1})),wt=new Map(it.map(Gt=>[Gt.id,Gt.total])),kt=Gt=>Gt===1?"Primero":Gt===2?"Segundo":"Tercero",qt=Gt=>Number.isFinite(Gt)?Number(Gt).toFixed(3):"-",Ii=[];g.forEach(Gt=>{const Et=Be.get(Gt),Wt=Number(ke.get(Gt)||0);if(!Et)return;const Zi=[Et.g1,Et.g2,Et.g3].map(Ki=>Number.isFinite(Ki)?Number(Ki):0).every(Ki=>Ki===0);Wt>=.25&&Zi?Ii.push({id:Gt,weight:Wt,label:L.get(Gt)||Gt,reason:"score = 0.00 en G1, G2 y G3 por falta de informaci&oacute;n."}):Et.status==="Falta"&&Ii.push({id:Gt,weight:Wt,label:L.get(Gt)||Gt,reason:"criterio sin informaci&oacute;n suficiente (estado: Falta)."})});const Fi=et.map(Gt=>Gt.id).join(" > ");return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:C}),t.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:12,border:"1px solid rgba(0,0,0,0.08)",background:"#ffffff"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"Detalle de pesos y scores (WLC)"}),t.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:["Cada idoneidad se obtiene multiplicando el peso AHP (w_i) por el score del criterio (S",t.jsx("sub",{children:"Ci"}),t.jsx("sup",{children:"G"}),") y sumando los aportes por criterio."]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:720},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"w_i (AHP)"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"S_Ci^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"w_i x S_Ci^G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"S_Ci^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"w_i x S_Ci^G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"S_Ci^G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"w_i x S_Ci^G3"})]})}),t.jsxs("tbody",{children:[g.map((Gt,Et)=>{const Wt=Number(ke.get(Gt)||0),ri=Be.get(Gt)||{},Zi=Number(ri.g1||0),Ki=Number(ri.g2||0),oi=Number(ri.g3||0),yr=Wt*Zi,Na=Wt*Ki,Ca=Wt*oi;return t.jsxs("tr",{style:{background:Et%2===0?"#f8fafc":"#ffffff"},children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:L.get(Gt)||Gt}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(Wt)?Wt.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(Zi)?Zi.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(yr)?yr.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(Ki)?Ki.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(Na)?Na.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(oi)?oi.toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(Ca)?Ca.toFixed(3):"-"})]},Gt)}),t.jsxs("tr",{style:{background:"#eef2ff"},children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:800},children:"Total idoneidad"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:800},children:Number.isFinite(wt.get("G1"))?wt.get("G1").toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:800},children:Number.isFinite(wt.get("G2"))?wt.get("G2").toFixed(3):"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"-"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:800},children:Number.isFinite(wt.get("G3"))?wt.get("G3").toFixed(3):"-"})]})]})]})})]}),t.jsxs("div",{style:{marginTop:8,fontSize:13,fontWeight:600},children:[fe?"Ranking invertido":"Ranking actual",": ",Fi]}),t.jsxs("div",{style:{marginTop:12,padding:16,borderRadius:16,background:"#f8fafc",border:"1px solid rgba(0,0,0,0.08)"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"Podio de Idoneidad"}),t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Resultados ordenados por idoneidad (mayor a menor)."}),t.jsx("style",{children:`
@keyframes podiumGlow {
  0%, 100% {
    text-shadow: 0 1px 0 #ffffff, 0 2px 0 rgba(245, 158, 11, 0.45), 0 6px 12px rgba(0,0,0,0.3);
  }
  50% {
    text-shadow: 0 1px 0 #ffffff, 0 2px 0 rgba(245, 158, 11, 0.7), 0 8px 16px rgba(0,0,0,0.45);
  }
}
@keyframes podiumHalo {
  0%, 100% {
    transform: scale(1);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}
@keyframes podiumSparkle {
  0%, 70% {
    transform: translateY(0) scale(0.8) rotate(45deg);
    opacity: 0;
  }
  78% {
    transform: translateY(-4px) scale(1.3) rotate(45deg);
    opacity: 1;
  }
  86% {
    transform: translateY(-1px) scale(1.1) rotate(45deg);
    opacity: 0.8;
  }
  100% {
    transform: translateY(0) scale(0.8) rotate(45deg);
    opacity: 0;
  }
}
@keyframes podiumShine {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}
`}),(()=>{const Gt=[et.find(ri=>ri.rank===2),et.find(ri=>ri.rank===1),et.find(ri=>ri.rank===3)].filter(Boolean),Et={1:140,2:110,3:95},Wt={1:"#bbf7d0",2:"#fed7aa",3:"#fecaca"};return t.jsx("div",{style:{marginTop:14,display:"flex",alignItems:"flex-end",justifyContent:"center",gap:14,flexWrap:"wrap"},children:Gt.map(ri=>t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:160},children:[t.jsxs("div",{style:{position:"relative",marginBottom:6,overflow:"visible"},children:[t.jsx("div",{style:{position:"absolute",inset:-12,borderRadius:999,background:"radial-gradient(circle, rgba(255,255,255,1), rgba(255,255,255,0))",filter:"blur(4px)",animation:"podiumHalo 2.4s ease-in-out infinite"}}),ri.rank===1?t.jsxs(t.Fragment,{children:[t.jsx("span",{style:{position:"absolute",left:-16,top:-14,width:12,height:12,background:"linear-gradient(135deg, #fff7ed, #f59e0b)",boxShadow:"0 0 10px rgba(245, 158, 11, 0.9)",transform:"rotate(45deg)",opacity:0,animation:"podiumSparkle 2.8s ease-in-out infinite",animationDelay:"0.2s",zIndex:3,pointerEvents:"none"}}),t.jsx("span",{style:{position:"absolute",right:-18,bottom:-12,width:10,height:10,background:"linear-gradient(135deg, #fff7ed, #f59e0b)",boxShadow:"0 0 10px rgba(245, 158, 11, 0.9)",transform:"rotate(45deg)",opacity:0,animation:"podiumSparkle 3.1s ease-in-out infinite",animationDelay:"0.8s",zIndex:3,pointerEvents:"none"}}),t.jsx("span",{style:{position:"absolute",right:-6,top:-18,width:9,height:9,background:"linear-gradient(135deg, #fff7ed, #f59e0b)",boxShadow:"0 0 10px rgba(245, 158, 11, 0.9)",transform:"rotate(45deg)",opacity:0,animation:"podiumSparkle 3.4s ease-in-out infinite",animationDelay:"1.3s",zIndex:3,pointerEvents:"none"}})]}):null,t.jsx("div",{style:{position:"relative",display:"inline-block",fontWeight:900,fontSize:14,letterSpacing:.3,padding:"3px 12px",borderRadius:999,background:"linear-gradient(120deg, #fff7ed, #fde68a, #fff7ed)",backgroundSize:"200% 200%",border:"1px solid rgba(245, 158, 11, 0.5)",color:"#7c2d12",textShadow:"0 1px 0 #ffffff, 0 2px 0 rgba(245, 158, 11, 0.6), 0 6px 12px rgba(0,0,0,0.35)",boxShadow:"0 6px 14px rgba(245, 158, 11, 0.25)",animation:"podiumGlow 2.2s ease-in-out infinite, podiumShine 3.4s ease-in-out infinite"},children:kt(ri.rank)})]}),t.jsxs("div",{style:{width:160,height:Et[ri.rank]||100,borderRadius:12,background:Wt[ri.rank]||"#e2e8f0",border:"1px solid rgba(0,0,0,0.1)",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,padding:"10px 8px",boxShadow:"0 10px 18px rgba(0,0,0,0.08)"},children:[t.jsx("div",{style:{fontSize:21,fontWeight:900,lineHeight:1.1},children:String(ri.id||"").replace("G","")}),t.jsx("div",{style:{fontWeight:400,fontSize:14,lineHeight:1.2,textAlign:"center"},children:ri.label}),t.jsx("div",{style:{fontSize:17,fontWeight:900,lineHeight:1.1},children:qt(ri.total)})]})]},ri.id))})})()]}),(()=>{const Gt=String(et[0]?.id||"").replace("G",""),Et=kc.find(Wt=>Wt.id===Gt);return Et?t.jsxs("div",{style:{marginTop:14,padding:14,borderRadius:14,border:"1px solid rgba(15, 23, 42, 0.08)",background:"#ffffff"},children:[t.jsxs("div",{style:{fontWeight:800,fontSize:16},children:["Tcnicas MAR recomendadas para ",Et.name]}),t.jsx("div",{style:{marginTop:6,fontSize:13,opacity:.85},children:Et.short}),t.jsx("div",{style:{marginTop:12,display:"grid",gap:12},children:Et.techniques.map(Wt=>{const ri=ix(Wt);return t.jsxs("div",{style:{display:"grid",gridTemplateColumns:ri?"120px 1fr":"1fr",gap:12,alignItems:"center",padding:12,borderRadius:12,background:"#f8fafc",border:"1px solid rgba(0,0,0,0.08)"},children:[ri?t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("img",{src:ri,alt:Wt.name,style:{width:"100%",maxWidth:110,height:"auto",borderRadius:10}})}):null,t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:800,fontSize:14},children:[Wt.id," ",Wt.name]}),t.jsx("div",{style:{marginTop:6,fontSize:13,lineHeight:1.5},children:Wt.definition})]})]},Wt.id)})})]}):null})(),t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{type:"button",onClick:()=>{vi(3),sr(j)},style:{padding:"10px 16px",borderRadius:10,border:"1px solid rgba(37, 99, 235, 0.6)",background:"#2563eb",color:"#ffffff",fontWeight:700,cursor:"pointer"},children:"Ir a la etapa 3"})})]})})()]})]}):null,Xi?null:t.jsx("div",{style:{marginTop:6,padding:10,borderRadius:10,background:"#fef3c7",border:"1px solid #f59e0b"},children:"Completa la Etapa 1 para habilitar la jerarquizacin de criterios (AHP)."}),fi(3)?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsx("div",{ref:j,style:{padding:"6px 8px",borderRadius:12,width:"fit-content",minWidth:96,textAlign:"center",...ya(3)},children:t.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Etapa 3"})}),t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>{vi(1),sr(x)},style:{padding:"8px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"#e5e7eb",color:"#111827",fontWeight:700,cursor:"pointer"},children:"Ir a la etapa 1"}),t.jsx("button",{type:"button",onClick:()=>{vi(2),sr(b)},style:{padding:"8px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"#e5e7eb",color:"#111827",fontWeight:700,cursor:"pointer"},children:"Ir a la etapa 2"})]})]}),t.jsx("div",{style:{marginTop:8,fontWeight:800,fontSize:18},children:"3. Anlisis de Incertidumbre + Sensibilidad"}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"La Etapa 3 consolida el anlisis de robustez combinando incertidumbre y sensibilidad. Su propsito es evaluar la confiabilidad de la decisin considerando (a) informacin incompleta y (b) variaciones en los pesos AHP, para identificar bajo qu condiciones cambiara el ranking de grupos MAR. Esta validacin no modifica los resultados previos, pero s aporta transparencia sobre cundo la eleccin del grupo ptimo es estadsticamente confiable o podra ser vulnerable a cambios en los supuestos de entrada."}),t.jsxs("div",{style:{marginTop:10},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"3.1. Clculo del ndice de Completitud (IC)"}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"El ndice de Completitud (IC) cuantifica la proporcin de informacin realmente disponible en el proceso de evaluacin multicriterio. Este indicador permite estimar el nivel de certeza que se tiene sobre los resultados obtenidos en etapas anteriores (determinsticas) y acta como proxy de la incertidumbre para transformar puntuaciones puntuales en valores probabilsticos. En contextos multicriterio jerrquicos como AHP-WLC, este ndice garantiza que la decisin final: la eleccin del grupo MAR ptimo, se sustente en datos suficientes y fiables."}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"Un valor alto de IC no solo significa que los resultados son ms robustos, sino que permite confiar en la diferencia entre los puntajes finales de los grupos MAR (G1, G2, G3). En cambio, un valor bajo de IC indica que la decisin podra estar sesgada por vacos crticos en la informacin, y que debe tratarse con precaucin. Diversos autores recomiendan evaluar el grado de completitud antes de realizar anlisis de incertidumbre en sistemas de toma de decisin jerrquicos (Saaty, 2001; Mendoza & Martins, 2006)."}),t.jsx("div",{style:{marginTop:8,fontWeight:700},children:"Frmula:"}),t.jsxs("div",{style:{marginTop:8,fontSize:16,fontWeight:700,display:"flex",justifyContent:"center",alignItems:"center",gap:6,width:"100%"},children:[t.jsx("span",{children:"IC ="}),t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:28},children:[t.jsx("div",{style:{fontSize:12,lineHeight:1},children:"n"}),t.jsx("div",{style:{fontSize:22,lineHeight:1},children:""}),t.jsx("div",{style:{fontSize:12,lineHeight:1},children:"i=1"})]}),t.jsxs("span",{children:["w",t.jsx("sub",{children:"i"}),t.jsx("sup",{children:"AHP"})," ",t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:110,marginLeft:4},children:[t.jsxs("div",{children:["V",t.jsx("sub",{children:"disponibles"}),t.jsxs("sup",{children:["C",t.jsx("sub",{children:"i"})]})]}),t.jsxs("div",{style:{borderTop:"1px solid #111"},children:["V",t.jsx("sub",{children:"totales"}),t.jsxs("sup",{children:["C",t.jsx("sub",{children:"i"})]})]})]})," 100%"]})]}),t.jsx("span",{style:{marginLeft:6,fontSize:12,fontWeight:700},children:"[4]"})]}),t.jsx("div",{style:{marginTop:8,fontWeight:700},children:"Donde:"}),t.jsx("div",{style:{marginTop:8,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:620},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Smbolo"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Definicin"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"IC"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"ndice de Completitud global (%)"})]}),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:["n",t.jsx("sub",{children:"completas"})]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Nmero total de variables completas"})]}),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:["n",t.jsx("sub",{children:"parciales"})]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Nmero total de variables parciales"})]}),t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:["n",t.jsx("sub",{children:"totales"})]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Nmero total de variables evaluadas"})]})]})]})})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:800,fontSize:15},children:"Cmo se calcula cada componente?"}),t.jsxs("ul",{style:{marginTop:8,paddingLeft:18,lineHeight:1.6},children:[t.jsxs("li",{children:[t.jsx("span",{style:{fontWeight:700},children:"Proporcin disponible por criterio"}),t.jsxs("div",{style:{marginTop:4,fontSize:15,fontWeight:700},children:[t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:110},children:[t.jsxs("div",{children:["V",t.jsx("sub",{children:"disponibles,i"})]}),t.jsxs("div",{style:{borderTop:"1px solid #111"},children:["V",t.jsx("sub",{children:"totales,i"})]})]}),t.jsx("span",{style:{marginLeft:6},children:"= Proporcin de informacin real usada"})]}),t.jsx("div",{style:{marginTop:4,opacity:.9},children:"Si un criterio tiene 10 variables y 8 fueron diligenciadas (completas o parciales), el valor sera:"}),t.jsxs("div",{style:{marginTop:4,fontSize:15,fontWeight:700},children:[t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:70},children:[t.jsx("div",{children:"8"}),t.jsx("div",{style:{borderTop:"1px solid #111"},children:"10"})]}),t.jsx("span",{style:{marginLeft:6},children:"= 0.80"})]})]}),t.jsxs("li",{children:[t.jsx("span",{style:{fontWeight:700},children:"Completitud (%) por criterio"}),t.jsx("div",{style:{marginTop:4,opacity:.9},children:"Multiplica la proporcin anterior por 100:"}),t.jsxs("div",{style:{marginTop:4,fontSize:15,fontWeight:700},children:[t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:70},children:[t.jsx("div",{children:"8"}),t.jsx("div",{style:{borderTop:"1px solid #111"},children:"10"})]}),t.jsx("span",{style:{marginLeft:6},children:" 100 = 80%"})]})]})]})]}),t.jsxs("div",{style:{marginTop:14,padding:14,borderRadius:12,border:"1px solid rgba(0,0,0,0.1)",background:"#fce7f3"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"ndice de Confianza del Resultado"}),t.jsx("div",{style:{marginTop:4,fontWeight:700},children:"Clculo del ndice de Completitud"}),t.jsx("div",{style:{marginTop:8,width:"100%",display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{fontSize:16,fontWeight:700,display:"inline-flex",alignItems:"center",gap:6},children:[t.jsx("span",{children:"IC ="}),t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:28},children:[t.jsx("div",{style:{fontSize:12,lineHeight:1},children:"n"}),t.jsx("div",{style:{fontSize:22,lineHeight:1},children:""}),t.jsx("div",{style:{fontSize:12,lineHeight:1},children:"i=1"})]}),t.jsxs("span",{children:["w",t.jsx("sub",{children:"i"}),t.jsx("sup",{children:"AHP"})," ",t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:90,marginLeft:4},children:[t.jsxs("div",{children:["V",t.jsx("sub",{children:"disponibles"}),t.jsxs("sup",{children:["C",t.jsx("sub",{children:"i"})]})]}),t.jsxs("div",{style:{borderTop:"1px solid #111"},children:["V",t.jsx("sub",{children:"totales"}),t.jsxs("sup",{children:["C",t.jsx("sub",{children:"i"})]})]})]})," 100%"]})]})]})}),(()=>{const g=new Map(ai.map(it=>[it.id,it.weight])),L=.5,W=it=>it.reduce((et,wt)=>wt.isBlocked?et:wt.isComplete||wt.status==="Completo"?et+1:wt.status==="Parcial"?et+L:et,0),pe=it=>Number.isFinite(it)?Number.isInteger(it)?String(it):it.toFixed(1):"-",Ce=[{id:"C1",label:"C1 - Objetivo",total:1,available:Oe?1:0},{id:"C2",label:"C2 - Condiciones hidrogeolgicas",total:ir.length,available:W(Ia)},{id:"C3",label:"C3 - Fuente y calidad del agua",total:Fe.length,available:W(di)},{id:"C4",label:"C4 - Viabilidad tcnica",total:Ti.length,available:W(ra)},{id:"C5",label:"C5 - Aspectos socioambientales",total:Xa.length,available:W($a)}].map(it=>{const et=Number(g.get(it.id)||0),wt=it.total>0?it.available/it.total:0;return{...it,w:et,ratio:wt,contrib:et*wt}}),ke=Ce.reduce((it,et)=>it+et.contrib,0)*100,Nt=(it=>it>=90?{label:"Muy alta",color:"#16a34a",note:"Informacin completa, resultados robustos"}:it>=70?{label:"Alta",color:"#22c55e",note:"Informacin suficiente, resultados confiables"}:it>=50?{label:"Media",color:"#facc15",note:"Informacin parcial, resultados orientativos"}:it>=30?{label:"Baja",color:"#f97316",note:"Informacin insuficiente, resultados preliminares"}:{label:"Muy baja",color:"#dc2626",note:"Informacin crtica faltante, resultados no confiables"})(ke);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:15,minWidth:760},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Criterio"}),t.jsxs("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:["w",t.jsx("sub",{children:"i"})]}),t.jsxs("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:["V",t.jsx("sub",{children:"disp"})," / V",t.jsx("sub",{children:"total"})]}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Completitud (%)"}),t.jsxs("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:["Contribucin (w",t.jsx("sub",{children:"i"})," x completitud)"]})]})}),t.jsx("tbody",{children:Ce.map(it=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:it.label}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Number.isFinite(it.w)?it.w.toFixed(3):"-"}),t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:[pe(it.available)," / ",it.total]}),t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:[(it.ratio*100).toFixed(1),"%"]}),t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:[(it.contrib*100).toFixed(1),"%"]})]},it.id))})]})}),t.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[t.jsxs("div",{style:{fontWeight:800},children:["IC: ",ke.toFixed(1),"%"]}),t.jsx("div",{style:{fontWeight:700,color:Nt.color},children:Nt.label}),t.jsx("div",{style:{fontSize:12,opacity:.8},children:Nt.note})]})]})})()]}),t.jsxs("div",{style:{marginTop:16},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"3.2 Anlisis de sensibilidad"}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"El anlisis de sensibilidad es una herramienta clave dentro del proceso de toma de decisiones jerrquicas AHP, ya que permite evaluar la robustez del resultado final ante cambios en los pesos asignados a los criterios. En otras palabras, se analiza qu tanto influye la importancia relativa de un criterio sobre la seleccin del grupo MAR ptimo. Al modificar el peso de un criterio (manteniendo el resto ajustado proporcionalmente), se recalculan los puntajes de idoneidad de cada grupo y se observa si el ranking final cambia."}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"Este proceso ayuda a responder preguntas fundamentales como:"}),t.jsxs("ul",{style:{marginTop:6,paddingLeft:18,lineHeight:1.6,opacity:.9},children:[t.jsx("li",{children:"Mi decisin depende fuertemente del peso de un solo criterio?"}),t.jsx("li",{children:"Existe un umbral crtico a partir del cual el grupo ptimo cambia?"}),t.jsx("li",{children:"Mi resultado es estable, incluso si se producen errores o ajustes en la ponderacin?"})]}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"El anlisis est diseado para ser interactivo, replicable y comprensible tanto para expertos como para tomadores de decisiones no tcnicos. La visualizacin dinmica permite interpretar rpidamente si la seleccin de un grupo ptimo es robusta o sensible, fortaleciendo la confianza en la decisin final o advirtiendo sobre zonas crticas."}),t.jsxs("ul",{style:{marginTop:8,paddingLeft:18,lineHeight:1.6,opacity:.9},children:[t.jsx("li",{children:"En un anlisis de sensibilidad, se recomienda comenzar variando el peso del criterio con mayor influencia, es decir, aquel que posee el valor ms alto en la ponderacin obtenida del AHP. Este criterio tiene el mayor efecto sobre la decisin final, por lo que incluso pequeas variaciones en su peso pueden alterar el ranking de alternativas."}),t.jsx("li",{children:"La variacin del peso X% consiste en simular cmo cambiara la decisin si el peso del criterio analizado fuese ligeramente mayor o menor que el valor asignado originalmente. Esto no modifica los scores ni el resto de los datos del modelo, sino que ajusta slo el peso del criterio dentro de un rango definido, mientras se reescalan proporcionalmente los dems para mantener la suma total igual a 1."})]}),t.jsxs("div",{style:{marginTop:12,padding:14,borderRadius:12,border:"1px solid rgba(219, 39, 119, 0.25)",background:"#fce7f3"},children:[t.jsx("div",{style:{marginTop:12,fontWeight:800},children:"Cmo proceder para ejecutar el anlisis de sensibilidad?"}),t.jsx("div",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:t.jsx("strong",{children:"1. Identifica los elementos clave:"})}),t.jsxs("ul",{style:{marginTop:6,paddingLeft:18,lineHeight:1.6,opacity:.9},children:[t.jsx("li",{children:"Pesos AHP originales por criterio."}),t.jsx("li",{children:"Scores por grupo MAR (G1, G2, G3) en cada criterio."}),t.jsx("li",{children:"El criterio cuyo peso deseas variar (por defecto, el ms influyente)."})]}),t.jsxs("div",{style:{marginTop:10,opacity:.9,lineHeight:1.6},children:[t.jsx("strong",{children:"2. Define la configuracin del experimento."})," Debes permitir al usuario o investigador definir:"]}),t.jsx("div",{style:{marginTop:8,overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:520},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Parmetro"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Descripcin"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Ejemplo"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Criterio a analizar"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Cualquiera entre C1 y C5"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsxs("select",{value:he,onChange:g=>{se(g.target.value),ae(!1)},style:{padding:"6px 8px",borderRadius:6,border:"1px solid rgba(0,0,0,0.2)",background:"#fff",fontSize:13},children:[t.jsx("option",{value:"C1",children:"C1"}),t.jsx("option",{value:"C2",children:"C2"}),t.jsx("option",{value:"C3",children:"C3"}),t.jsx("option",{value:"C4",children:"C4"}),t.jsx("option",{value:"C5",children:"C5"})]})})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Rango de variacin"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Porcentaje de aumento/disminucin del peso original"}),t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:[(()=>{const g=Number(_t.get(he)||0),L=g>0?Math.max(0,(1/g-1)*100):0,W=Math.min(50,L),pe=oe=>{if(Number.isFinite(oe)){if(oe<0){$(0),ae(!0);return}if(oe>W){$(W),ae(!0);return}$(oe),ae(!1)}};return t.jsx("input",{type:"number",min:"0",max:"50",step:"1",value:Number.isFinite(q)?q:0,onChange:oe=>pe(Number(oe.target.value)),style:{width:80,padding:"6px 8px",borderRadius:6,border:`1px solid ${Q?"#dc2626":"rgba(0,0,0,0.2)"}`,background:"#fff",fontSize:13}})})(),t.jsx("span",{style:{marginLeft:6},children:"%"})]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10},children:"Paso de incremento"}),t.jsx("td",{style:{padding:10},children:"Tamao del paso entre simulaciones"}),t.jsxs("td",{style:{padding:10},children:[t.jsx("input",{type:"number",min:"0",max:"50",step:"0.1",value:Number.isFinite(B)?B:0,onChange:g=>{const pe=Number(g.target.value);if(Number.isFinite(pe)){if(pe<0){z(0),K(!0);return}if(pe>50){z(50),K(!0);return}z(pe),K(!1)}},style:{width:80,padding:"6px 8px",borderRadius:6,border:`1px solid ${me?"#dc2626":"rgba(0,0,0,0.2)"}`,background:"#fff",fontSize:13}}),t.jsx("span",{style:{marginLeft:6},children:"%"})]})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:"Jerarqua invertida"}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",lineHeight:1.4},children:"Reasigna los pesos del AHP invirtiendo el orden original (el criterio con menor peso toma el valor ms alto y viceversa) y recalcula automticamente el WLC para mostrar el ranking alternativo."}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:t.jsx("button",{type:"button",onClick:()=>ce(g=>!g),style:{padding:"6px 10px",borderRadius:8,border:"1px solid rgba(37,99,235,0.8)",background:fe?"#1d4ed8":"#fff",color:fe?"#fff":"#1d4ed8",fontWeight:700,cursor:"pointer"},children:fe?"Desactivar inversin":"Activar jerarqua invertida"})})]})]})]})}),t.jsxs("div",{style:{marginTop:10,opacity:.9,lineHeight:1.6},children:[t.jsx("strong",{children:"3. Calcula pesos ajustados para cada iteracin."})," Por cada valor del nuevo peso (w",t.jsx("sub",{children:"test"}),"):"]}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"Reasignas pesos del resto de criterios para que la suma siga siendo 1:"}),t.jsx("div",{style:{marginTop:6,display:"flex",justifyContent:"center"},children:t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,fontSize:15,fontWeight:700},children:[t.jsxs("div",{children:["w",t.jsx("sub",{children:"j"}),t.jsx("sup",{children:"ajustado"})," ="]}),t.jsx("div",{style:{fontSize:32,lineHeight:"1.05"},children:"{"}),t.jsxs("div",{style:{display:"grid",rowGap:4,textAlign:"right"},children:[t.jsxs("div",{children:["w",t.jsx("sub",{children:"test"})," ",t.jsxs("span",{style:{display:"inline-block",marginLeft:16},children:[t.jsx("span",{style:{fontWeight:600},children:"si"})," j = criterio seleccionado"]})]}),t.jsxs("div",{children:["w",t.jsx("sub",{children:"j"})," ",t.jsxs("span",{style:{display:"inline-block",textAlign:"center",minWidth:120,margin:"0 4px"},children:[t.jsxs("div",{children:["(1 - w",t.jsx("sub",{children:"test"}),")"]}),t.jsxs("div",{style:{borderTop:"1px solid #111"},children:["(1 - w",t.jsx("sub",{children:"j,base"}),")"]})]}),t.jsx("span",{style:{fontWeight:600},children:"si j  criterio analizado"})]})]})]})}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"Esto preserva la proporcionalidad original en los otros criterios."}),t.jsxs("div",{style:{marginTop:10,opacity:.9,lineHeight:1.6},children:[t.jsx("strong",{children:"4. Calcula los nuevos scores de idoneidad."})," Para cada grupo MAR (G1, G2, G3):"]}),t.jsxs("div",{style:{marginTop:6,fontSize:15,fontWeight:700,textAlign:"center"},children:["Idoneidad",t.jsx("sub",{children:"Gk"})," = ",t.jsx("sub",{children:"i=1"}),t.jsx("sup",{children:"5"})," w",t.jsx("sub",{children:"i"}),t.jsx("sup",{children:"ajustado"}),"  Score",t.jsx("sub",{children:"Gk,i"})]}),t.jsx("p",{style:{marginTop:6,opacity:.9,lineHeight:1.6},children:"As obtienes nuevas curvas de score frente a peso del criterio."}),(()=>{const g=Number(_t.get(he)||0),L=Number(q),W=Number(B),pe=new Map(Ci.map(Et=>[Et.id,Et])),oe=Yr.map(Et=>Et.id);if(!Number.isFinite(g)||g<=0||!Number.isFinite(L)||!Number.isFinite(W)||W<=0)return t.jsx("div",{style:{marginTop:10,fontSize:13,color:"#b91c1c"},children:"Ajusta criterio, rango y paso para calcular la idoneidad."});const Ce=g>0?Math.max(0,(1/g-1)*100):0,ke=Math.min(50,Ce),Be=Math.max(0,Math.min(L,ke)),Nt=Math.floor(Be/W),it=Array.from({length:Nt*2+1},(Et,Wt)=>(Wt-Nt)*W),et=new Map(oe.map(Et=>[Et,Number(_t.get(Et)||0)])),wt=it.map(Et=>{const Wt=g;let ri=Wt*(1+Et/100);ri<0&&(ri=0),ri>1&&(ri=1);const Zi=Wt<1?(1-ri)/(1-Wt):0,Ki=new Map(oe.map(Na=>{const Ca=Number(et.get(Na)||0);return[Na,Na===he?ri:Ca*Zi]})),oi=["G1","G2","G3"].map(Na=>{const Ca=Na.toLowerCase(),Gr=oe.reduce((Vn,Jn)=>{const Tn=Number(Ki.get(Jn)||0),Qn=Number(pe.get(Jn)?.[Ca]||0);return Vn+Tn*Qn},0);return{gid:Na,total:Gr}}),yr=[...oi].sort((Na,Ca)=>Ca.total-Na.total).map(Na=>Na.gid).join(" > ");return{delta:Et,wTest:ri,scores:oi,ranking:yr}}),kt=wt.find(Et=>Et.delta===0)?.ranking||"",qt=wt.find(Et=>kt&&Et.ranking!==kt)||null,Ii=kt&&wt.every(Et=>Et.ranking===kt),Fi=kt?kt.split(" > ")[0]:"",Gt=Yr.find(Et=>Et.id===he)?.label||he;return t.jsxs("div",{style:{marginTop:12,overflowX:"auto"},children:[t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:720},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Variacin"}),t.jsxs("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:["w",t.jsx("sub",{children:"test"})]}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Idoneidad G1"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Idoneidad G2"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Idoneidad G3"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Ranking"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.14)"},children:"Cambio de ranking"})]})}),t.jsx("tbody",{children:wt.map(Et=>{const Wt=Et.scores.find(oi=>oi.gid==="G1")?.total??0,ri=Et.scores.find(oi=>oi.gid==="G2")?.total??0,Zi=Et.scores.find(oi=>oi.gid==="G3")?.total??0,Ki=kt&&Et.ranking===kt;return t.jsxs("tr",{children:[t.jsxs("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:[Et.delta.toFixed(1),"%"]}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Et.wTest.toFixed(3)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Wt.toFixed(3)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:ri.toFixed(3)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Zi.toFixed(3)}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Et.ranking}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:700},children:Ki?"":""})]},`${Et.delta}-${Et.wTest}`)})})]}),(()=>{const Et={1:"#bbf7d0",2:"#fed7aa",3:"#fecaca"},Wt=new Map((kt?kt.split(" > "):[]).map((pa,Ta)=>[pa,Ta+1])),ri=wt.flatMap(pa=>pa.scores.map(Ta=>Number(Ta.total)||0));Math.max(0,...ri);const Zi=Math.max(720,wt.length*48),Ki=240,oi={top:16,right:16,bottom:32,left:36},yr=Zi-oi.left-oi.right,Na=Ki-oi.top-oi.bottom,Ca=Math.max(40,Math.min(68,Math.floor(yr/Math.max(1,wt.length)))),Gr=4,Vn=Math.max(8,Math.min(20,Math.floor((Ca-Gr*2)/3))),Jn=(pa,Ta)=>oi.left+pa*Ca+Ta*(Vn+Gr),Tn=Math.min(...ri,2.9),Qn=Math.max(...ri,3.15),$n=Math.max(.05,Qn-Tn),vr=[Tn,Tn+$n/2,Qn],$s=pa=>Number.isFinite(pa)?(pa-Tn)/$n*Na:0;return t.jsxs("div",{style:{marginTop:16},children:[t.jsx("div",{style:{fontWeight:800,fontSize:14},children:"Grfico de barras: variacin de idoneidad"}),t.jsxs("div",{style:{marginTop:6,fontSize:12,opacity:.75,lineHeight:1.5},children:["Cada barra muestra el score de idoneidad de un grupo MAR para distintos valores del peso del criterio (w",t.jsx("sub",{children:"test"}),")."]}),t.jsx("div",{style:{marginTop:10,overflowX:"auto"},children:t.jsxs("svg",{width:Zi,height:Ki,style:{display:"block",background:"#f8fafc",borderRadius:12,border:"1px solid rgba(0,0,0,0.08)"},children:[t.jsx("g",{stroke:"rgba(0,0,0,0.08)",children:vr.map(pa=>{const Ta=(pa-Tn)/$n,Vr=oi.top+Na*(1-Ta);return t.jsx("line",{x1:oi.left,y1:Vr,x2:Zi-oi.right,y2:Vr},`grid-${pa}`)})}),t.jsxs("g",{stroke:"#111827",strokeWidth:"1",children:[t.jsx("line",{x1:oi.left,y1:oi.top,x2:oi.left,y2:Ki-oi.bottom}),t.jsx("line",{x1:oi.left,y1:Ki-oi.bottom,x2:Zi-oi.right,y2:Ki-oi.bottom})]}),wt.map((pa,Ta)=>["G1","G2","G3"].map((Vr,Dn)=>{const Va=Number(pa.scores.find(Xl=>Xl.gid===Vr)?.total||0),Hi=$s(Va),lr=Jn(Ta,Dn),Za=Ki-oi.bottom-Hi,wi=Wt.get(Vr)||0,Dr=Et[wi]||"#94a3b8";return t.jsx(je.Fragment,{children:t.jsx("rect",{x:lr,y:Za,width:Vn,height:Hi,fill:Dr,stroke:"#0f172a",strokeWidth:.5})},`${pa.delta}-${Vr}`)})),wt.map((pa,Ta)=>{const Vr=oi.left+Ta*Ca+Ca/2,Dn=`${pa.delta>0?"+":""}${pa.delta.toFixed(1)}%`;return t.jsx("text",{x:Vr,y:Ki-oi.bottom+16,textAnchor:"middle",fontSize:"10",fill:"#475569",children:Dn},`xlab-${pa.delta}-${pa.wTest}`)}),t.jsxs("text",{x:oi.left+yr/2,y:Ki-oi.bottom+26,textAnchor:"middle",fontSize:"11",fill:"#475569",children:["Peso del criterio (w",t.jsx("tspan",{baselineShift:"sub",fontSize:"9",children:"test"}),")"]}),t.jsx("text",{x:oi.left-28,y:oi.top+Na/2,textAnchor:"middle",fontSize:"11",fill:"#475569",transform:`rotate(-90 ${oi.left-28} ${oi.top+Na/2})`,children:"Idoneidad (score 0-4)"}),vr.map(pa=>{const Ta=(pa-Tn)/$n,Vr=oi.top+Na*(1-Ta);return t.jsx("text",{x:oi.left-8,y:Vr+4,textAnchor:"end",fontSize:"10",fill:"#475569",children:pa.toFixed(2)},`ytick-${pa}`)})]})}),t.jsx("div",{style:{marginTop:8,display:"flex",gap:10,flexWrap:"wrap",fontSize:12},children:["G1","G2","G3"].map(pa=>{const Ta=Wt.get(pa)||0,Vr=Et[Ta]||"#94a3b8";return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[t.jsx("span",{style:{width:14,height:3,borderRadius:4,background:Vr}}),t.jsx("span",{children:pa})]},`legend-${pa}`)})})]})})(),qt?t.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:10,background:"#fee2e2",border:"1px solid #fecaca",color:"#7f1d1d",fontSize:13,fontWeight:700},children:["Al variar ",he," hasta w",t.jsx("sub",{children:"test"})," = ",qt.wTest.toFixed(3)," ","(",qt.delta.toFixed(1),"%), el ranking cambia de"," ",t.jsx("span",{style:{fontWeight:800},children:kt})," a"," ",t.jsx("span",{style:{fontWeight:800},children:qt.ranking}),". Esto indica sensibilidad en ese rango."]}):null,t.jsx("div",{style:{marginTop:10,padding:12,borderRadius:10,background:"#f8fafc",border:"1px solid rgba(0,0,0,0.08)",fontSize:13,lineHeight:1.5},children:Ii?t.jsxs(t.Fragment,{children:["El grupo ",Fi," mantiene el ranking superior durante todo el rango de variacin (",Be.toFixed(1),"%), lo que sugiere alta robustez. El ranking no cambia en ningn punto, por lo que la decisin es insensible a la ponderacin del criterio ",he," (",Gt,") dentro del rango analizado.",t.jsxs("div",{style:{marginTop:10,lineHeight:1.6},children:["Para la alternativa con mayor puntuacin final de idoneidad (",Fi,"), el anlisis de sensibilidad aplicado al criterio ",he," (",Gt,") con un rango de variacin de ",Be.toFixed(1),"% y un paso de incremento de ",Number(W||0).toFixed(1),"%, no genera cambios en el ranking de los grupos."]}),t.jsxs("div",{style:{marginTop:6,lineHeight:1.6},children:["Este resultado sugiere que la eleccin de ",Fi," como grupo MAR ptimo se mantiene favorable incluso cuando se ajusta la ponderacin del criterio ",he," (",Gt,"), pero tambin deja claro que el criterio del experto sigue siendo el eje determinante, de modo que ligeras variaciones pueden modificar la recomendacin."]}),t.jsx("div",{style:{marginTop:6,lineHeight:1.6},children:"En otras palabras, la decisin puede ser favorable; sin embargo conserva cierto grado de incertidumbre porque prima el criterio del experto y podra cambiar si se revisa esa ponderacin."}),t.jsx("div",{style:{marginTop:6,lineHeight:1.6},children:"Este comportamiento invita a revisar con cuidado la justificacin tcnica asignada a ese criterio para entender hasta qu punto la recomendacin depende de ese juicio."})]}):t.jsxs(t.Fragment,{children:["La sensibilidad del modelo frente al peso del criterio ",he," (",Gt,") muestra cambios en el ordenamiento."," ","Se identifica un umbral en w",t.jsx("sub",{children:"test"})," = ",qt?qt.wTest.toFixed(3):"-"," donde el ranking pasa de"," ",t.jsx("span",{style:{fontWeight:700},children:kt||"-"})," a"," ",t.jsx("span",{style:{fontWeight:700},children:qt?qt.ranking:"-"}),". Esto indica que la decisin es sensible a variaciones en ese rango y requiere interpretacin cuidadosa.",t.jsxs("div",{style:{marginTop:10,lineHeight:1.6},children:["Para la alternativa con mayor puntuacin final de idoneidad (",Fi,"), el anlisis de sensibilidad aplicado al criterio ",he," (",Gt,") con un rango de variacin de ",Be.toFixed(1),"% y un paso de incremento de ",Number(W||0).toFixed(1),"%, s genera cambios en el ranking de los grupos."]}),t.jsxs("div",{style:{marginTop:6,lineHeight:1.6},children:["El cambio ocurre a partir de w",t.jsx("sub",{children:"test"})," = ",qt?qt.wTest.toFixed(3):"-"," (",qt?qt.delta.toFixed(1):"-","%), donde el orden pasa de ",kt||"-"," a"," ",qt?qt.ranking:"-",", lo que evidencia sensibilidad del resultado frente al criterio analizado."]}),t.jsxs("div",{style:{marginTop:6,lineHeight:1.6},children:["Esto sugiere que la eleccin de ",Fi," como grupo MAR ptimo depende en mayor medida del peso asignado al criterio",he," (",Gt,"), por lo que ajustes razonables en esa ponderacin pueden modificar la alternativa dominante."]}),t.jsx("div",{style:{marginTop:6,lineHeight:1.6},children:"En consecuencia, se recomienda revisar cuidadosamente la justificacin del peso asignado a dicho criterio y, si es necesario, explorar escenarios adicionales para validar la consistencia de la decisin."})]})})]})})(),vn?.isReady?t.jsxs("div",{style:{marginTop:12,display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:Br,style:{padding:"8px 14px",borderRadius:10,border:"1px solid rgba(0,0,0,0.15)",background:"#0f172a",color:"#ffffff",fontWeight:700,cursor:"pointer"},children:"Guardar anlisis"}),t.jsx("button",{type:"button",onClick:Wo,disabled:!ar.length,style:{padding:"8px 14px",borderRadius:10,border:ar.length?"1px solid rgba(220,0,78,0.6)":"1px solid rgba(0,0,0,0.1)",background:ar.length?"rgba(248,113,113,0.15)":"#f3f4f6",color:ar.length?"#dc2626":"#9ca3af",fontWeight:700,cursor:ar.length?"pointer":"not-allowed"},children:"Eliminar anlisis guardados"}),t.jsx("div",{style:{fontSize:12,opacity:.8},children:"Se guarda el criterio analizado, el resultado y la interpretacin."})]}):null,ar.length?t.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:12,background:"#f8fafc",border:"1px solid rgba(0,0,0,0.08)"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"Anlisis de sensibilidad guardados"}),t.jsx("div",{style:{marginTop:8,display:"grid",gap:10},children:ar.map(g=>{const L=g.createdAtISO?new Date(g.createdAtISO):null,W=L&&!Number.isNaN(L.getTime())?L.toLocaleString():g.createdAtISO||"-",pe=g.allSameRanking?"Ranking estable (robusto)":g.firstChange?`Cambio en w_test = ${Number(g.firstChange.wTest||0).toFixed(3)} (${Number(g.firstChange.delta||0).toFixed(1)}%)`:"Cambio de ranking detectado",oe=Number.isFinite(g.baseWeight)?Number(g.baseWeight).toFixed(3):"-",Ce=Number.isFinite(g.range)?`${Number(g.range).toFixed(1)}%`:"-",ke=Number.isFinite(g.step)?`${Number(g.step).toFixed(1)}%`:"-",Be=g.allSameRanking?"No":"S",Nt=g.firstChange?`w_test = ${Number(g.firstChange.wTest||0).toFixed(3)} (${Number(g.firstChange.delta||0).toFixed(1)}%)`:g.allSameRanking?"No aplica":"Cambio detectado sin punto definido";return t.jsxs("div",{style:{padding:10,borderRadius:10,background:"#ffffff",border:"1px solid rgba(0,0,0,0.08)"},children:[t.jsxs("div",{style:{fontWeight:700},children:[g.criterionId," - ",g.criterionLabel||g.criterionId]}),t.jsx("div",{style:{fontSize:12,opacity:.7},children:W}),t.jsxs("div",{style:{marginTop:6,fontSize:13},children:[t.jsx("strong",{children:"Resultado:"})," ",g.baseRanking||"-"," (",pe,")"]}),t.jsxs("div",{style:{marginTop:6,fontSize:13},children:[t.jsx("strong",{children:"Interpretacin:"})," ",g.interpretation||"-"]}),t.jsx("div",{style:{marginTop:12,minWidth:0},children:t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,minWidth:640},children:[t.jsx("thead",{children:t.jsx("tr",{children:["Criterio","Peso base","Rango de variacin analizado","Paso de incremento","Cambio el ranking?","Punto de inflexin (Donde se presenta el cambio)"].map(it=>t.jsx("th",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",fontSize:11,fontWeight:600,textAlign:"left",color:"#475569"},children:it},it))})}),t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",color:"#0f172a"},children:g.criterionLabel||g.criterionId}),t.jsx("td",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",color:"#0f172a"},children:oe}),t.jsx("td",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",color:"#0f172a"},children:Ce}),t.jsx("td",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",color:"#0f172a"},children:ke}),t.jsx("td",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",color:"#0f172a"},children:Be}),t.jsx("td",{style:{padding:"6px 8px",borderBottom:"1px solid rgba(0,0,0,0.08)",color:"#0f172a"},children:Nt})]})})]})})}),t.jsx("div",{style:{marginTop:10,display:"flex",justifyContent:"flex-end"},children:t.jsx("button",{type:"button",onClick:()=>Go(g.id),style:{borderRadius:8,border:"1px solid rgba(220,0,78,0.6)",background:"rgba(248,113,113,0.08)",color:"#dc2626",padding:"6px 10px",fontWeight:600,cursor:"pointer"},children:"Eliminar anlisis"})})]},g.id)})})]}):null]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("button",{type:"button",onClick:vs,disabled:!Nn,style:{padding:"8px 14px",borderRadius:10,border:Nn?"1px solid rgba(0,0,0,0.15)":"1px solid rgba(0,0,0,0.08)",background:Nn?"#1f2937":"#94a3b8",color:"#ffffff",fontWeight:700,cursor:Nn?"pointer":"not-allowed"},children:"Resultados"}),Le?t.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:12,background:"#111827",color:"#f8fafc",border:"1px solid rgba(255,255,255,0.15)",maxWidth:520},children:[t.jsx("div",{style:{fontWeight:700,fontSize:14},children:"Evaluar la Ruta B antes de ver los resultados?"}),t.jsx("div",{style:{marginTop:8,fontSize:13,opacity:.85},children:"Se desplegar la tarjeta de Ruta B (modelo automatizado). Elige esa opcin si deseas conocer esa alternativa."}),t.jsxs("div",{style:{marginTop:10,display:"flex",gap:10,flexWrap:"wrap"},children:[t.jsx("button",{type:"button",onClick:()=>yl(!0),style:{padding:"8px 12px",borderRadius:10,border:"none",background:"#2563eb",color:"#fff",fontWeight:700,cursor:"pointer"},children:"Evaluar Ruta B"}),t.jsx("button",{type:"button",onClick:()=>yl(!1),style:{padding:"8px 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.4)",background:"transparent",color:"#f8fafc",fontWeight:700,cursor:"pointer"},children:"Continuar a resultados"})]})]}):null,R?t.jsx("div",{style:{marginTop:6,fontSize:12,color:"#dc2626"},children:R}):null]})]})]}):null]})]}),t.jsxs("div",{style:{display:o==="B"?"block":"none"},children:[t.jsxs("div",{style:{marginTop:8},children:[t.jsx("p",{style:{marginTop:0,opacity:.8},children:"Conceptos a tener en cuenta para facilitar la comprensin de la ruta."}),t.jsxs("div",{style:{marginTop:8,padding:12,borderRadius:12,background:"#f8fafc",border:"1px solid rgba(0,0,0,.08)"},children:[t.jsx("div",{style:{fontWeight:700,marginBottom:4,fontSize:20},children:"Glosario"}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"Grupo (G1)"}),": Infiltracin superficial."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"Grupo (G2)"}),": Recarga mediante pozos y perforaciones."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"Grupo (G3)"}),": Intervencin del cauce."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"V"}),": variables/preguntas del esquema conceptual (V1-V35), descritos en la Introduccin."]}),t.jsxs("div",{style:{fontSize:16},children:[t.jsx("strong",{children:"C"}),": criterios de evaluacin (C1-C5), descritos en la Introduccin."]})]})]}),t.jsxs("div",{style:{marginTop:12},children:[t.jsx("div",{style:{fontWeight:800,fontSize:20},children:"Ruta B: Modelo automatizado (rboles / Bosque aleatorio)"}),t.jsxs("p",{style:{opacity:.9},children:["Esta ruta constituye el marco metodolgico para transformar la evidencia tcnica de un caso en criterios comparables que determinen la idoneidad de los grupos de Recarga Gestionada. El proceso se desarrolla en dos dimensiones integradas: (1) ",t.jsx("strong",{children:"Estructura Jerrquica:"})," organiza la toma de decisiones en seis niveles descendentes (criterios generales C1-C6, variables especficas V1-V35 e integracin por grupos G1, G2 y G3) y (2) ",t.jsx("strong",{children:"Flujo Operativo:"})," avanza a travs de tres etapas consecutivas, desde la consolidacin de insumos hasta el anlisis de robustez, siguiendo el esquema conceptual descrito en la Figura 7."]})]}),t.jsx(U2,{}),t.jsx("div",{style:{marginTop:6,fontSize:14,textAlign:"center"},children:"Figura 7. Esquema conceptual de la ruta jerrquica (B). Fuente. Elaboracin propia."}),t.jsx("div",{style:{marginTop:12},children:t.jsx("div",{ref:m})})]})]})}):null}const sx="modulepreload",lx=function(o){return"/"+o},V1={},gp=function(n,r,l){let d=Promise.resolve();if(r&&r.length>0){let x=function(b){return Promise.all(b.map(j=>Promise.resolve(j).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),m=y?.nonce||y?.getAttribute("nonce");d=x(r.map(b=>{if(b=lx(b),b in V1)return;V1[b]=!0;const j=b.endsWith(".css"),C=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${C}`))return;const M=document.createElement("link");if(M.rel=j?"stylesheet":sx,j||(M.as="script"),M.crossOrigin="",M.href=b,m&&M.setAttribute("nonce",m),document.head.appendChild(M),j)return new Promise((A,O)=>{M.addEventListener("load",A),M.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${b}`)))})}))}function u(y){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=y,window.dispatchEvent(m),!m.defaultPrevented)throw y}return d.then(y=>{for(const m of y||[])m.status==="rejected"&&u(m.reason);return n().catch(u)})};function rn(o){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rn(o)}var ks=Uint8Array,is=Uint16Array,o0=Int32Array,s0=new ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l0=new ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D1=new ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jm=function(o,n){for(var r=new is(31),l=0;l<31;++l)r[l]=n+=1<<o[l-1];for(var d=new o0(r[30]),l=1;l<30;++l)for(var u=r[l];u<r[l+1];++u)d[u]=u-r[l]<<5|l;return{b:r,r:d}},Sm=jm(s0,2),dx=Sm.b,Pp=Sm.r;dx[28]=258,Pp[258]=28;var cx=jm(l0,0),U1=cx.r,Hp=new is(32768);for(var qn=0;qn<32768;++qn){var Fl=(qn&43690)>>1|(qn&21845)<<1;Fl=(Fl&52428)>>2|(Fl&13107)<<2,Fl=(Fl&61680)>>4|(Fl&3855)<<4,Hp[qn]=((Fl&65280)>>8|(Fl&255)<<8)>>1}var Mc=(function(o,n,r){for(var l=o.length,d=0,u=new is(n);d<l;++d)o[d]&&++u[o[d]-1];var y=new is(n);for(d=1;d<n;++d)y[d]=y[d-1]+u[d-1]<<1;var m;if(r){m=new is(1<<n);var x=15-n;for(d=0;d<l;++d)if(o[d])for(var b=d<<4|o[d],j=n-o[d],C=y[o[d]-1]++<<j,M=C|(1<<j)-1;C<=M;++C)m[Hp[C]>>x]=b}else for(m=new is(l),d=0;d<l;++d)o[d]&&(m[d]=Hp[y[o[d]-1]++]>>15-o[d]);return m}),rd=new ks(288);for(var qn=0;qn<144;++qn)rd[qn]=8;for(var qn=144;qn<256;++qn)rd[qn]=9;for(var qn=256;qn<280;++qn)rd[qn]=7;for(var qn=280;qn<288;++qn)rd[qn]=8;var Uu=new ks(32);for(var qn=0;qn<32;++qn)Uu[qn]=5;var ux=Mc(rd,9,0),fx=Mc(Uu,5,0),Am=function(o){return(o+7)/8|0},px=function(o,n,r){return(r==null||r>o.length)&&(r=o.length),new ks(o.subarray(n,r))},hl=function(o,n,r){r<<=n&7;var l=n/8|0;o[l]|=r,o[l+1]|=r>>8},Cc=function(o,n,r){r<<=n&7;var l=n/8|0;o[l]|=r,o[l+1]|=r>>8,o[l+2]|=r>>16},mp=function(o,n){for(var r=[],l=0;l<o.length;++l)o[l]&&r.push({s:l,f:o[l]});var d=r.length,u=r.slice();if(!d)return{t:_m,l:0};if(d==1){var y=new ks(r[0].s+1);return y[r[0].s]=1,{t:y,l:1}}r.sort(function(ue,Me){return ue.f-Me.f}),r.push({s:-1,f:25001});var m=r[0],x=r[1],b=0,j=1,C=2;for(r[0]={s:-1,f:m.f+x.f,l:m,r:x};j!=d-1;)m=r[r[b].f<r[C].f?b++:C++],x=r[b!=j&&r[b].f<r[C].f?b++:C++],r[j++]={s:-1,f:m.f+x.f,l:m,r:x};for(var M=u[0].s,l=1;l<d;++l)u[l].s>M&&(M=u[l].s);var A=new is(M+1),O=Wp(r[j-1],A,0);if(O>n){var l=0,V=0,J=O-n,F=1<<J;for(u.sort(function(Me,he){return A[he.s]-A[Me.s]||Me.f-he.f});l<d;++l){var ge=u[l].s;if(A[ge]>n)V+=F-(1<<O-A[ge]),A[ge]=n;else break}for(V>>=J;V>0;){var re=u[l].s;A[re]<n?V-=1<<n-A[re]++-1:++l}for(;l>=0&&V;--l){var ne=u[l].s;A[ne]==n&&(--A[ne],++V)}O=n}return{t:new ks(A),l:O}},Wp=function(o,n,r){return o.s==-1?Math.max(Wp(o.l,n,r+1),Wp(o.r,n,r+1)):n[o.s]=r},P1=function(o){for(var n=o.length;n&&!o[--n];);for(var r=new is(++n),l=0,d=o[0],u=1,y=function(x){r[l++]=x},m=1;m<=n;++m)if(o[m]==d&&m!=n)++u;else{if(!d&&u>2){for(;u>138;u-=138)y(32754);u>2&&(y(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(y(d),--u;u>6;u-=6)y(8304);u>2&&(y(u-3<<5|8208),u=0)}for(;u--;)y(d);u=1,d=o[m]}return{c:r.subarray(0,l),n}},Bc=function(o,n){for(var r=0,l=0;l<n.length;++l)r+=o[l]*n[l];return r},wm=function(o,n,r){var l=r.length,d=Am(n+2);o[d]=l&255,o[d+1]=l>>8,o[d+2]=o[d]^255,o[d+3]=o[d+1]^255;for(var u=0;u<l;++u)o[d+u+4]=r[u];return(d+4+l)*8},H1=function(o,n,r,l,d,u,y,m,x,b,j){hl(n,j++,r),++d[256];for(var C=mp(d,15),M=C.t,A=C.l,O=mp(u,15),V=O.t,J=O.l,F=P1(M),ge=F.c,re=F.n,ne=P1(V),ue=ne.c,Me=ne.n,he=new is(19),se=0;se<ge.length;++se)++he[ge[se]&31];for(var se=0;se<ue.length;++se)++he[ue[se]&31];for(var q=mp(he,7),$=q.t,B=q.l,z=19;z>4&&!$[D1[z-1]];--z);var Q=b+5<<3,ae=Bc(d,rd)+Bc(u,Uu)+y,me=Bc(d,M)+Bc(u,V)+y+14+3*z+Bc(he,$)+2*he[16]+3*he[17]+7*he[18];if(x>=0&&Q<=ae&&Q<=me)return wm(n,j,o.subarray(x,x+b));var K,fe,ce,Le;if(hl(n,j,1+(me<ae)),j+=2,me<ae){K=Mc(M,A,0),fe=M,ce=Mc(V,J,0),Le=V;var ze=Mc($,B,0);hl(n,j,re-257),hl(n,j+5,Me-1),hl(n,j+10,z-4),j+=14;for(var se=0;se<z;++se)hl(n,j+3*se,$[D1[se]]);j+=3*z;for(var P=[ge,ue],_=0;_<2;++_)for(var R=P[_],se=0;se<R.length;++se){var U=R[se]&31;hl(n,j,ze[U]),j+=$[U],U>15&&(hl(n,j,R[se]>>5&127),j+=R[se]>>12)}}else K=ux,fe=rd,ce=fx,Le=Uu;for(var se=0;se<m;++se){var Z=l[se];if(Z>255){var U=Z>>18&31;Cc(n,j,K[U+257]),j+=fe[U+257],U>7&&(hl(n,j,Z>>23&31),j+=s0[U]);var le=Z&31;Cc(n,j,ce[le]),j+=Le[le],le>3&&(Cc(n,j,Z>>5&8191),j+=l0[le])}else Cc(n,j,K[Z]),j+=fe[Z]}return Cc(n,j,K[256]),j+fe[256]},hx=new o0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_m=new ks(0),gx=function(o,n,r,l,d,u){var y=u.z||o.length,m=new ks(l+y+5*(1+Math.ceil(y/7e3))+d),x=m.subarray(l,m.length-d),b=u.l,j=(u.r||0)&7;if(n){j&&(x[0]=u.r>>3);for(var C=hx[n-1],M=C>>13,A=C&8191,O=(1<<r)-1,V=u.p||new is(32768),J=u.h||new is(O+1),F=Math.ceil(r/3),ge=2*F,re=function(Ft){return(o[Ft]^o[Ft+1]<<F^o[Ft+2]<<ge)&O},ne=new o0(25e3),ue=new is(288),Me=new is(32),he=0,se=0,q=u.i||0,$=0,B=u.w||0,z=0;q+2<y;++q){var Q=re(q),ae=q&32767,me=J[Q];if(V[ae]=me,J[Q]=ae,B<=q){var K=y-q;if((he>7e3||$>24576)&&(K>423||!b)){j=H1(o,x,0,ne,ue,Me,se,$,z,q-z,j),$=he=se=0,z=q;for(var fe=0;fe<286;++fe)ue[fe]=0;for(var fe=0;fe<30;++fe)Me[fe]=0}var ce=2,Le=0,ze=A,P=ae-me&32767;if(K>2&&Q==re(q-P))for(var _=Math.min(M,K)-1,R=Math.min(32767,q),U=Math.min(258,K);P<=R&&--ze&&ae!=me;){if(o[q+ce]==o[q+ce-P]){for(var Z=0;Z<U&&o[q+Z]==o[q+Z-P];++Z);if(Z>ce){if(ce=Z,Le=P,Z>_)break;for(var le=Math.min(P,Z-2),ye=0,fe=0;fe<le;++fe){var qe=q-P+fe&32767,Ie=V[qe],Xe=qe-Ie&32767;Xe>ye&&(ye=Xe,me=qe)}}}ae=me,me=V[ae],P+=ae-me&32767}if(Le){ne[$++]=268435456|Pp[ce]<<18|U1[Le];var He=Pp[ce]&31,ut=U1[Le]&31;se+=s0[He]+l0[ut],++ue[257+He],++Me[ut],B=q+ce,++he}else ne[$++]=o[q],++ue[o[q]]}}for(q=Math.max(q,B);q<y;++q)ne[$++]=o[q],++ue[o[q]];j=H1(o,x,b,ne,ue,Me,se,$,z,q-z,j),b||(u.r=j&7|x[j/8|0]<<3,j-=7,u.h=J,u.p=V,u.i=q,u.w=B)}else{for(var q=u.w||0;q<y+b;q+=65535){var jt=q+65535;jt>=y&&(x[j/8|0]=b,jt=y),j=wm(x,j+1,o.subarray(q,jt))}u.i=y}return px(m,0,l+Am(j)+d)},Nm=function(){var o=1,n=0;return{p:function(r){for(var l=o,d=n,u=r.length|0,y=0;y!=u;){for(var m=Math.min(y+2655,u);y<m;++y)d+=l+=r[y];l=(l&65535)+15*(l>>16),d=(d&65535)+15*(d>>16)}o=l,n=d},d:function(){return o%=65521,n%=65521,(o&255)<<24|(o&65280)<<8|(n&255)<<8|n>>8}}},mx=function(o,n,r,l,d){if(!d&&(d={l:1},n.dictionary)){var u=n.dictionary.subarray(-32768),y=new ks(u.length+o.length);y.set(u),y.set(o,u.length),o=y,d.w=u.length}return gx(o,n.level==null?6:n.level,n.mem==null?d.l?Math.ceil(Math.max(8,Math.min(13,Math.log(o.length)))*1.5):20:12+n.mem,r,l,d)},Cm=function(o,n,r){for(;r;++n)o[n]=r,r>>>=8},bx=function(o,n){var r=n.level,l=r==0?0:r<6?1:r==9?3:2;if(o[0]=120,o[1]=l<<6|(n.dictionary&&32),o[1]|=31-(o[0]<<8|o[1])%31,n.dictionary){var d=Nm();d.p(n.dictionary),Cm(o,2,d.d())}};function Yp(o,n){n||(n={});var r=Nm();r.p(o);var l=mx(o,n,n.dictionary?6:2,4);return bx(l,n),Cm(l,l.length-4,r.d()),l}var xx=typeof TextDecoder<"u"&&new TextDecoder,yx=0;try{xx.decode(_m,{stream:!0}),yx=1}catch{}function vx(o){if(Array.isArray(o))return o}function jx(o,n){var r=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(r!=null){var l,d,u,y,m=[],x=!0,b=!1;try{if(u=(r=r.call(o)).next,n!==0)for(;!(x=(l=u.call(r)).done)&&(m.push(l.value),m.length!==n);x=!0);}catch(j){b=!0,d=j}finally{try{if(!x&&r.return!=null&&(y=r.return(),Object(y)!==y))return}finally{if(b)throw d}}return m}}function W1(o,n){(n==null||n>o.length)&&(n=o.length);for(var r=0,l=Array(n);r<n;r++)l[r]=o[r];return l}function Sx(o,n){if(o){if(typeof o=="string")return W1(o,n);var r={}.toString.call(o).slice(8,-1);return r==="Object"&&o.constructor&&(r=o.constructor.name),r==="Map"||r==="Set"?Array.from(o):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W1(o,n):void 0}}function Ax(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1(o,n){return vx(o)||jx(o,n)||Sx(o,n)||Ax()}function X1(o,n="utf8"){return new TextDecoder(n).decode(o)}const wx=new TextEncoder;function _x(o){return wx.encode(o)}const Nx=1024*8,Cx=(()=>{const o=new Uint8Array(4),n=new Uint32Array(o.buffer);return!((n[0]=1)&o[0])})(),bp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d0{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(n=Nx,r={}){let l=!1;typeof n=="number"?n=new ArrayBuffer(n):(l=!0,this.lastWrittenByte=n.byteLength);const d=r.offset?r.offset>>>0:0,u=n.byteLength-d;let y=d;(ArrayBuffer.isView(n)||n instanceof d0)&&(n.byteLength!==n.buffer.byteLength&&(y=n.byteOffset+d),n=n.buffer),l?this.lastWrittenByte=u:this.lastWrittenByte=0,this.buffer=n,this.length=u,this.byteLength=u,this.byteOffset=y,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,y,u),this._mark=0,this._marks=[]}available(n=1){return this.offset+n<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(n=1){return this.offset+=n,this}back(n=1){return this.offset-=n,this}seek(n){return this.offset=n,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const n=this._marks.pop();if(n===void 0)throw new Error("Mark stack empty");return this.seek(n),this}rewind(){return this.offset=0,this}ensureAvailable(n=1){if(!this.available(n)){const l=(this.offset+n)*2,d=new Uint8Array(l);d.set(new Uint8Array(this.buffer)),this.buffer=d.buffer,this.length=l,this.byteLength=l,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(n=1){return this.readArray(n,"uint8")}readArray(n,r){const l=bp[r].BYTES_PER_ELEMENT*n,d=this.byteOffset+this.offset,u=this.buffer.slice(d,d+l);if(this.littleEndian===Cx&&r!=="uint8"&&r!=="int8"){const m=new Uint8Array(this.buffer.slice(d,d+l));m.reverse();const x=new bp[r](m.buffer);return this.offset+=l,x.reverse(),x}const y=new bp[r](u);return this.offset+=l,y}readInt16(){const n=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,n}readUint16(){const n=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,n}readInt32(){const n=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,n}readUint32(){const n=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat32(){const n=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n}readFloat64(){const n=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n}readBigInt64(){const n=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,n}readBigUint64(){const n=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,n}readChar(){return String.fromCharCode(this.readInt8())}readChars(n=1){let r="";for(let l=0;l<n;l++)r+=this.readChar();return r}readUtf8(n=1){return X1(this.readBytes(n))}decodeText(n=1,r="utf8"){return X1(this.readBytes(n),r)}writeBoolean(n){return this.writeUint8(n?255:0),this}writeInt8(n){return this.ensureAvailable(1),this._data.setInt8(this.offset++,n),this._updateLastWrittenByte(),this}writeUint8(n){return this.ensureAvailable(1),this._data.setUint8(this.offset++,n),this._updateLastWrittenByte(),this}writeByte(n){return this.writeUint8(n)}writeBytes(n){this.ensureAvailable(n.length);for(let r=0;r<n.length;r++)this._data.setUint8(this.offset++,n[r]);return this._updateLastWrittenByte(),this}writeInt16(n){return this.ensureAvailable(2),this._data.setInt16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(n){return this.ensureAvailable(2),this._data.setUint16(this.offset,n,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(n){return this.ensureAvailable(4),this._data.setInt32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(n){return this.ensureAvailable(4),this._data.setUint32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(n){return this.ensureAvailable(4),this._data.setFloat32(this.offset,n,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(n){return this.ensureAvailable(8),this._data.setFloat64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(n){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(n){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,n,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(n){return this.writeUint8(n.charCodeAt(0))}writeChars(n){for(let r=0;r<n.length;r++)this.writeUint8(n.charCodeAt(r));return this}writeUtf8(n){return this.writeBytes(_x(n))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xd(o){let n=o.length;for(;--n>=0;)o[n]=0}const Bx=3,kx=258,Bm=29,Mx=256,Gx=Mx+1+Bm,km=30,Lx=512,Tx=new Array((Gx+2)*2);Xd(Tx);const zx=new Array(km*2);Xd(zx);const Ex=new Array(Lx);Xd(Ex);const Rx=new Array(kx-Bx+1);Xd(Rx);const Ox=new Array(Bm);Xd(Ox);const qx=new Array(km);Xd(qx);const Ix=(o,n,r,l)=>{let d=o&65535|0,u=o>>>16&65535|0,y=0;for(;r!==0;){y=r>2e3?2e3:r,r-=y;do d=d+n[l++]|0,u=u+d|0;while(--y);d%=65521,u%=65521}return d|u<<16|0};var Xp=Ix;const Fx=()=>{let o,n=[];for(var r=0;r<256;r++){o=r;for(var l=0;l<8;l++)o=o&1?3988292384^o>>>1:o>>>1;n[r]=o}return n},Vx=new Uint32Array(Fx()),Dx=(o,n,r,l)=>{const d=Vx,u=l+r;o^=-1;for(let y=l;y<u;y++)o=o>>>8^d[(o^n[y])&255];return o^-1};var Ws=Dx,Zp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Ux=(o,n)=>Object.prototype.hasOwnProperty.call(o,n);var Px=function(o){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const l in r)Ux(r,l)&&(o[l]=r[l])}}return o},Hx=o=>{let n=0;for(let l=0,d=o.length;l<d;l++)n+=o[l].length;const r=new Uint8Array(n);for(let l=0,d=0,u=o.length;l<u;l++){let y=o[l];r.set(y,d),d+=y.length}return r},Gm={assign:Px,flattenChunks:Hx};let Lm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Lm=!1}const Lc=new Uint8Array(256);for(let o=0;o<256;o++)Lc[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;Lc[254]=Lc[254]=1;var Wx=o=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(o);let n,r,l,d,u,y=o.length,m=0;for(d=0;d<y;d++)r=o.charCodeAt(d),(r&64512)===55296&&d+1<y&&(l=o.charCodeAt(d+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),d++)),m+=r<128?1:r<2048?2:r<65536?3:4;for(n=new Uint8Array(m),u=0,d=0;u<m;d++)r=o.charCodeAt(d),(r&64512)===55296&&d+1<y&&(l=o.charCodeAt(d+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),d++)),r<128?n[u++]=r:r<2048?(n[u++]=192|r>>>6,n[u++]=128|r&63):r<65536?(n[u++]=224|r>>>12,n[u++]=128|r>>>6&63,n[u++]=128|r&63):(n[u++]=240|r>>>18,n[u++]=128|r>>>12&63,n[u++]=128|r>>>6&63,n[u++]=128|r&63);return n};const Yx=(o,n)=>{if(n<65534&&o.subarray&&Lm)return String.fromCharCode.apply(null,o.length===n?o:o.subarray(0,n));let r="";for(let l=0;l<n;l++)r+=String.fromCharCode(o[l]);return r};var Xx=(o,n)=>{const r=n||o.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(o.subarray(0,n));let l,d;const u=new Array(r*2);for(d=0,l=0;l<r;){let y=o[l++];if(y<128){u[d++]=y;continue}let m=Lc[y];if(m>4){u[d++]=65533,l+=m-1;continue}for(y&=m===2?31:m===3?15:7;m>1&&l<r;)y=y<<6|o[l++]&63,m--;if(m>1){u[d++]=65533;continue}y<65536?u[d++]=y:(y-=65536,u[d++]=55296|y>>10&1023,u[d++]=56320|y&1023)}return Yx(u,d)},Zx=(o,n)=>{n=n||o.length,n>o.length&&(n=o.length);let r=n-1;for(;r>=0&&(o[r]&192)===128;)r--;return r<0||r===0?n:r+Lc[o[r]]>n?r:n},Kp={string2buf:Wx,buf2string:Xx,utf8border:Zx};function Kx(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Jx=Kx;const wu=16209,Qx=16191;var $x=function(n,r){let l,d,u,y,m,x,b,j,C,M,A,O,V,J,F,ge,re,ne,ue,Me,he,se,q,$;const B=n.state;l=n.next_in,q=n.input,d=l+(n.avail_in-5),u=n.next_out,$=n.output,y=u-(r-n.avail_out),m=u+(n.avail_out-257),x=B.dmax,b=B.wsize,j=B.whave,C=B.wnext,M=B.window,A=B.hold,O=B.bits,V=B.lencode,J=B.distcode,F=(1<<B.lenbits)-1,ge=(1<<B.distbits)-1;e:do{O<15&&(A+=q[l++]<<O,O+=8,A+=q[l++]<<O,O+=8),re=V[A&F];t:for(;;){if(ne=re>>>24,A>>>=ne,O-=ne,ne=re>>>16&255,ne===0)$[u++]=re&65535;else if(ne&16){ue=re&65535,ne&=15,ne&&(O<ne&&(A+=q[l++]<<O,O+=8),ue+=A&(1<<ne)-1,A>>>=ne,O-=ne),O<15&&(A+=q[l++]<<O,O+=8,A+=q[l++]<<O,O+=8),re=J[A&ge];i:for(;;){if(ne=re>>>24,A>>>=ne,O-=ne,ne=re>>>16&255,ne&16){if(Me=re&65535,ne&=15,O<ne&&(A+=q[l++]<<O,O+=8,O<ne&&(A+=q[l++]<<O,O+=8)),Me+=A&(1<<ne)-1,Me>x){n.msg="invalid distance too far back",B.mode=wu;break e}if(A>>>=ne,O-=ne,ne=u-y,Me>ne){if(ne=Me-ne,ne>j&&B.sane){n.msg="invalid distance too far back",B.mode=wu;break e}if(he=0,se=M,C===0){if(he+=b-ne,ne<ue){ue-=ne;do $[u++]=M[he++];while(--ne);he=u-Me,se=$}}else if(C<ne){if(he+=b+C-ne,ne-=C,ne<ue){ue-=ne;do $[u++]=M[he++];while(--ne);if(he=0,C<ue){ne=C,ue-=ne;do $[u++]=M[he++];while(--ne);he=u-Me,se=$}}}else if(he+=C-ne,ne<ue){ue-=ne;do $[u++]=M[he++];while(--ne);he=u-Me,se=$}for(;ue>2;)$[u++]=se[he++],$[u++]=se[he++],$[u++]=se[he++],ue-=3;ue&&($[u++]=se[he++],ue>1&&($[u++]=se[he++]))}else{he=u-Me;do $[u++]=$[he++],$[u++]=$[he++],$[u++]=$[he++],ue-=3;while(ue>2);ue&&($[u++]=$[he++],ue>1&&($[u++]=$[he++]))}}else if((ne&64)===0){re=J[(re&65535)+(A&(1<<ne)-1)];continue i}else{n.msg="invalid distance code",B.mode=wu;break e}break}}else if((ne&64)===0){re=V[(re&65535)+(A&(1<<ne)-1)];continue t}else if(ne&32){B.mode=Qx;break e}else{n.msg="invalid literal/length code",B.mode=wu;break e}break}}while(l<d&&u<m);ue=O>>3,l-=ue,O-=ue<<3,A&=(1<<O)-1,n.next_in=l,n.next_out=u,n.avail_in=l<d?5+(d-l):5-(l-d),n.avail_out=u<m?257+(m-u):257-(u-m),B.hold=A,B.bits=O};const Ed=15,Z1=852,K1=592,J1=0,xp=1,Q1=2,ey=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ty=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iy=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ay=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ny=(o,n,r,l,d,u,y,m)=>{const x=m.bits;let b=0,j=0,C=0,M=0,A=0,O=0,V=0,J=0,F=0,ge=0,re,ne,ue,Me,he,se=null,q;const $=new Uint16Array(Ed+1),B=new Uint16Array(Ed+1);let z=null,Q,ae,me;for(b=0;b<=Ed;b++)$[b]=0;for(j=0;j<l;j++)$[n[r+j]]++;for(A=x,M=Ed;M>=1&&$[M]===0;M--);if(A>M&&(A=M),M===0)return d[u++]=1<<24|64<<16|0,d[u++]=1<<24|64<<16|0,m.bits=1,0;for(C=1;C<M&&$[C]===0;C++);for(A<C&&(A=C),J=1,b=1;b<=Ed;b++)if(J<<=1,J-=$[b],J<0)return-1;if(J>0&&(o===J1||M!==1))return-1;for(B[1]=0,b=1;b<Ed;b++)B[b+1]=B[b]+$[b];for(j=0;j<l;j++)n[r+j]!==0&&(y[B[n[r+j]]++]=j);if(o===J1?(se=z=y,q=20):o===xp?(se=ey,z=ty,q=257):(se=iy,z=ay,q=0),ge=0,j=0,b=C,he=u,O=A,V=0,ue=-1,F=1<<A,Me=F-1,o===xp&&F>Z1||o===Q1&&F>K1)return 1;for(;;){Q=b-V,y[j]+1<q?(ae=0,me=y[j]):y[j]>=q?(ae=z[y[j]-q],me=se[y[j]-q]):(ae=96,me=0),re=1<<b-V,ne=1<<O,C=ne;do ne-=re,d[he+(ge>>V)+ne]=Q<<24|ae<<16|me|0;while(ne!==0);for(re=1<<b-1;ge&re;)re>>=1;if(re!==0?(ge&=re-1,ge+=re):ge=0,j++,--$[b]===0){if(b===M)break;b=n[r+y[j]]}if(b>A&&(ge&Me)!==ue){for(V===0&&(V=A),he+=C,O=b-V,J=1<<O;O+V<M&&(J-=$[O+V],!(J<=0));)O++,J<<=1;if(F+=1<<O,o===xp&&F>Z1||o===Q1&&F>K1)return 1;ue=ge&Me,d[ue]=A<<24|O<<16|he-u|0}}return ge!==0&&(d[he+ge]=b-V<<24|64<<16|0),m.bits=A,0};var Gc=ny;const ry=0,Tm=1,zm=2,{Z_FINISH:$1,Z_BLOCK:oy,Z_TREES:_u,Z_OK:od,Z_STREAM_END:sy,Z_NEED_DICT:ly,Z_STREAM_ERROR:ps,Z_DATA_ERROR:Em,Z_MEM_ERROR:Rm,Z_BUF_ERROR:dy,Z_DEFLATED:eg}=Mm,Xu=16180,tg=16181,ig=16182,ag=16183,ng=16184,rg=16185,og=16186,sg=16187,lg=16188,dg=16189,Pu=16190,gl=16191,yp=16192,cg=16193,vp=16194,ug=16195,fg=16196,pg=16197,hg=16198,Nu=16199,Cu=16200,gg=16201,mg=16202,bg=16203,xg=16204,yg=16205,jp=16206,vg=16207,jg=16208,Wn=16209,Om=16210,qm=16211,cy=852,uy=592,fy=15,py=fy,Sg=o=>(o>>>24&255)+(o>>>8&65280)+((o&65280)<<8)+((o&255)<<24);function hy(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sd=o=>{if(!o)return 1;const n=o.state;return!n||n.strm!==o||n.mode<Xu||n.mode>qm?1:0},Im=o=>{if(sd(o))return ps;const n=o.state;return o.total_in=o.total_out=n.total=0,o.msg="",n.wrap&&(o.adler=n.wrap&1),n.mode=Xu,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(cy),n.distcode=n.distdyn=new Int32Array(uy),n.sane=1,n.back=-1,od},Fm=o=>{if(sd(o))return ps;const n=o.state;return n.wsize=0,n.whave=0,n.wnext=0,Im(o)},Vm=(o,n)=>{let r;if(sd(o))return ps;const l=o.state;return n<0?(r=0,n=-n):(r=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?ps:(l.window!==null&&l.wbits!==n&&(l.window=null),l.wrap=r,l.wbits=n,Fm(o))},Dm=(o,n)=>{if(!o)return ps;const r=new hy;o.state=r,r.strm=o,r.window=null,r.mode=Xu;const l=Vm(o,n);return l!==od&&(o.state=null),l},gy=o=>Dm(o,py);let Ag=!0,Sp,Ap;const my=o=>{if(Ag){Sp=new Int32Array(512),Ap=new Int32Array(32);let n=0;for(;n<144;)o.lens[n++]=8;for(;n<256;)o.lens[n++]=9;for(;n<280;)o.lens[n++]=7;for(;n<288;)o.lens[n++]=8;for(Gc(Tm,o.lens,0,288,Sp,0,o.work,{bits:9}),n=0;n<32;)o.lens[n++]=5;Gc(zm,o.lens,0,32,Ap,0,o.work,{bits:5}),Ag=!1}o.lencode=Sp,o.lenbits=9,o.distcode=Ap,o.distbits=5},Um=(o,n,r,l)=>{let d;const u=o.state;return u.window===null&&(u.wsize=1<<u.wbits,u.wnext=0,u.whave=0,u.window=new Uint8Array(u.wsize)),l>=u.wsize?(u.window.set(n.subarray(r-u.wsize,r),0),u.wnext=0,u.whave=u.wsize):(d=u.wsize-u.wnext,d>l&&(d=l),u.window.set(n.subarray(r-l,r-l+d),u.wnext),l-=d,l?(u.window.set(n.subarray(r-l,r),0),u.wnext=l,u.whave=u.wsize):(u.wnext+=d,u.wnext===u.wsize&&(u.wnext=0),u.whave<u.wsize&&(u.whave+=d))),0},by=(o,n)=>{let r,l,d,u,y,m,x,b,j,C,M,A,O,V,J=0,F,ge,re,ne,ue,Me,he,se;const q=new Uint8Array(4);let $,B;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sd(o)||!o.output||!o.input&&o.avail_in!==0)return ps;r=o.state,r.mode===gl&&(r.mode=yp),y=o.next_out,d=o.output,x=o.avail_out,u=o.next_in,l=o.input,m=o.avail_in,b=r.hold,j=r.bits,C=m,M=x,se=od;e:for(;;)switch(r.mode){case Xu:if(r.wrap===0){r.mode=yp;break}for(;j<16;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(r.wrap&2&&b===35615){r.wbits===0&&(r.wbits=15),r.check=0,q[0]=b&255,q[1]=b>>>8&255,r.check=Ws(r.check,q,2,0),b=0,j=0,r.mode=tg;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((b&255)<<8)+(b>>8))%31){o.msg="incorrect header check",r.mode=Wn;break}if((b&15)!==eg){o.msg="unknown compression method",r.mode=Wn;break}if(b>>>=4,j-=4,he=(b&15)+8,r.wbits===0&&(r.wbits=he),he>15||he>r.wbits){o.msg="invalid window size",r.mode=Wn;break}r.dmax=1<<r.wbits,r.flags=0,o.adler=r.check=1,r.mode=b&512?dg:gl,b=0,j=0;break;case tg:for(;j<16;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(r.flags=b,(r.flags&255)!==eg){o.msg="unknown compression method",r.mode=Wn;break}if(r.flags&57344){o.msg="unknown header flags set",r.mode=Wn;break}r.head&&(r.head.text=b>>8&1),r.flags&512&&r.wrap&4&&(q[0]=b&255,q[1]=b>>>8&255,r.check=Ws(r.check,q,2,0)),b=0,j=0,r.mode=ig;case ig:for(;j<32;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}r.head&&(r.head.time=b),r.flags&512&&r.wrap&4&&(q[0]=b&255,q[1]=b>>>8&255,q[2]=b>>>16&255,q[3]=b>>>24&255,r.check=Ws(r.check,q,4,0)),b=0,j=0,r.mode=ag;case ag:for(;j<16;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}r.head&&(r.head.xflags=b&255,r.head.os=b>>8),r.flags&512&&r.wrap&4&&(q[0]=b&255,q[1]=b>>>8&255,r.check=Ws(r.check,q,2,0)),b=0,j=0,r.mode=ng;case ng:if(r.flags&1024){for(;j<16;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}r.length=b,r.head&&(r.head.extra_len=b),r.flags&512&&r.wrap&4&&(q[0]=b&255,q[1]=b>>>8&255,r.check=Ws(r.check,q,2,0)),b=0,j=0}else r.head&&(r.head.extra=null);r.mode=rg;case rg:if(r.flags&1024&&(A=r.length,A>m&&(A=m),A&&(r.head&&(he=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(l.subarray(u,u+A),he)),r.flags&512&&r.wrap&4&&(r.check=Ws(r.check,l,A,u)),m-=A,u+=A,r.length-=A),r.length))break e;r.length=0,r.mode=og;case og:if(r.flags&2048){if(m===0)break e;A=0;do he=l[u+A++],r.head&&he&&r.length<65536&&(r.head.name+=String.fromCharCode(he));while(he&&A<m);if(r.flags&512&&r.wrap&4&&(r.check=Ws(r.check,l,A,u)),m-=A,u+=A,he)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=sg;case sg:if(r.flags&4096){if(m===0)break e;A=0;do he=l[u+A++],r.head&&he&&r.length<65536&&(r.head.comment+=String.fromCharCode(he));while(he&&A<m);if(r.flags&512&&r.wrap&4&&(r.check=Ws(r.check,l,A,u)),m-=A,u+=A,he)break e}else r.head&&(r.head.comment=null);r.mode=lg;case lg:if(r.flags&512){for(;j<16;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(r.wrap&4&&b!==(r.check&65535)){o.msg="header crc mismatch",r.mode=Wn;break}b=0,j=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),o.adler=r.check=0,r.mode=gl;break;case dg:for(;j<32;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}o.adler=r.check=Sg(b),b=0,j=0,r.mode=Pu;case Pu:if(r.havedict===0)return o.next_out=y,o.avail_out=x,o.next_in=u,o.avail_in=m,r.hold=b,r.bits=j,ly;o.adler=r.check=1,r.mode=gl;case gl:if(n===oy||n===_u)break e;case yp:if(r.last){b>>>=j&7,j-=j&7,r.mode=jp;break}for(;j<3;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}switch(r.last=b&1,b>>>=1,j-=1,b&3){case 0:r.mode=cg;break;case 1:if(my(r),r.mode=Nu,n===_u){b>>>=2,j-=2;break e}break;case 2:r.mode=fg;break;case 3:o.msg="invalid block type",r.mode=Wn}b>>>=2,j-=2;break;case cg:for(b>>>=j&7,j-=j&7;j<32;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if((b&65535)!==(b>>>16^65535)){o.msg="invalid stored block lengths",r.mode=Wn;break}if(r.length=b&65535,b=0,j=0,r.mode=vp,n===_u)break e;case vp:r.mode=ug;case ug:if(A=r.length,A){if(A>m&&(A=m),A>x&&(A=x),A===0)break e;d.set(l.subarray(u,u+A),y),m-=A,u+=A,x-=A,y+=A,r.length-=A;break}r.mode=gl;break;case fg:for(;j<14;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(r.nlen=(b&31)+257,b>>>=5,j-=5,r.ndist=(b&31)+1,b>>>=5,j-=5,r.ncode=(b&15)+4,b>>>=4,j-=4,r.nlen>286||r.ndist>30){o.msg="too many length or distance symbols",r.mode=Wn;break}r.have=0,r.mode=pg;case pg:for(;r.have<r.ncode;){for(;j<3;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}r.lens[z[r.have++]]=b&7,b>>>=3,j-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},se=Gc(ry,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,se){o.msg="invalid code lengths set",r.mode=Wn;break}r.have=0,r.mode=hg;case hg:for(;r.have<r.nlen+r.ndist;){for(;J=r.lencode[b&(1<<r.lenbits)-1],F=J>>>24,ge=J>>>16&255,re=J&65535,!(F<=j);){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(re<16)b>>>=F,j-=F,r.lens[r.have++]=re;else{if(re===16){for(B=F+2;j<B;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(b>>>=F,j-=F,r.have===0){o.msg="invalid bit length repeat",r.mode=Wn;break}he=r.lens[r.have-1],A=3+(b&3),b>>>=2,j-=2}else if(re===17){for(B=F+3;j<B;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}b>>>=F,j-=F,he=0,A=3+(b&7),b>>>=3,j-=3}else{for(B=F+7;j<B;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}b>>>=F,j-=F,he=0,A=11+(b&127),b>>>=7,j-=7}if(r.have+A>r.nlen+r.ndist){o.msg="invalid bit length repeat",r.mode=Wn;break}for(;A--;)r.lens[r.have++]=he}}if(r.mode===Wn)break;if(r.lens[256]===0){o.msg="invalid code -- missing end-of-block",r.mode=Wn;break}if(r.lenbits=9,$={bits:r.lenbits},se=Gc(Tm,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,se){o.msg="invalid literal/lengths set",r.mode=Wn;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},se=Gc(zm,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,se){o.msg="invalid distances set",r.mode=Wn;break}if(r.mode=Nu,n===_u)break e;case Nu:r.mode=Cu;case Cu:if(m>=6&&x>=258){o.next_out=y,o.avail_out=x,o.next_in=u,o.avail_in=m,r.hold=b,r.bits=j,$x(o,M),y=o.next_out,d=o.output,x=o.avail_out,u=o.next_in,l=o.input,m=o.avail_in,b=r.hold,j=r.bits,r.mode===gl&&(r.back=-1);break}for(r.back=0;J=r.lencode[b&(1<<r.lenbits)-1],F=J>>>24,ge=J>>>16&255,re=J&65535,!(F<=j);){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(ge&&(ge&240)===0){for(ne=F,ue=ge,Me=re;J=r.lencode[Me+((b&(1<<ne+ue)-1)>>ne)],F=J>>>24,ge=J>>>16&255,re=J&65535,!(ne+F<=j);){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}b>>>=ne,j-=ne,r.back+=ne}if(b>>>=F,j-=F,r.back+=F,r.length=re,ge===0){r.mode=yg;break}if(ge&32){r.back=-1,r.mode=gl;break}if(ge&64){o.msg="invalid literal/length code",r.mode=Wn;break}r.extra=ge&15,r.mode=gg;case gg:if(r.extra){for(B=r.extra;j<B;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,j-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=mg;case mg:for(;J=r.distcode[b&(1<<r.distbits)-1],F=J>>>24,ge=J>>>16&255,re=J&65535,!(F<=j);){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if((ge&240)===0){for(ne=F,ue=ge,Me=re;J=r.distcode[Me+((b&(1<<ne+ue)-1)>>ne)],F=J>>>24,ge=J>>>16&255,re=J&65535,!(ne+F<=j);){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}b>>>=ne,j-=ne,r.back+=ne}if(b>>>=F,j-=F,r.back+=F,ge&64){o.msg="invalid distance code",r.mode=Wn;break}r.offset=re,r.extra=ge&15,r.mode=bg;case bg:if(r.extra){for(B=r.extra;j<B;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,j-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){o.msg="invalid distance too far back",r.mode=Wn;break}r.mode=xg;case xg:if(x===0)break e;if(A=M-x,r.offset>A){if(A=r.offset-A,A>r.whave&&r.sane){o.msg="invalid distance too far back",r.mode=Wn;break}A>r.wnext?(A-=r.wnext,O=r.wsize-A):O=r.wnext-A,A>r.length&&(A=r.length),V=r.window}else V=d,O=y-r.offset,A=r.length;A>x&&(A=x),x-=A,r.length-=A;do d[y++]=V[O++];while(--A);r.length===0&&(r.mode=Cu);break;case yg:if(x===0)break e;d[y++]=r.length,x--,r.mode=Cu;break;case jp:if(r.wrap){for(;j<32;){if(m===0)break e;m--,b|=l[u++]<<j,j+=8}if(M-=x,o.total_out+=M,r.total+=M,r.wrap&4&&M&&(o.adler=r.check=r.flags?Ws(r.check,d,M,y-M):Xp(r.check,d,M,y-M)),M=x,r.wrap&4&&(r.flags?b:Sg(b))!==r.check){o.msg="incorrect data check",r.mode=Wn;break}b=0,j=0}r.mode=vg;case vg:if(r.wrap&&r.flags){for(;j<32;){if(m===0)break e;m--,b+=l[u++]<<j,j+=8}if(r.wrap&4&&b!==(r.total&4294967295)){o.msg="incorrect length check",r.mode=Wn;break}b=0,j=0}r.mode=jg;case jg:se=sy;break e;case Wn:se=Em;break e;case Om:return Rm;case qm:default:return ps}return o.next_out=y,o.avail_out=x,o.next_in=u,o.avail_in=m,r.hold=b,r.bits=j,(r.wsize||M!==o.avail_out&&r.mode<Wn&&(r.mode<jp||n!==$1))&&Um(o,o.output,o.next_out,M-o.avail_out),C-=o.avail_in,M-=o.avail_out,o.total_in+=C,o.total_out+=M,r.total+=M,r.wrap&4&&M&&(o.adler=r.check=r.flags?Ws(r.check,d,M,o.next_out-M):Xp(r.check,d,M,o.next_out-M)),o.data_type=r.bits+(r.last?64:0)+(r.mode===gl?128:0)+(r.mode===Nu||r.mode===vp?256:0),(C===0&&M===0||n===$1)&&se===od&&(se=dy),se},xy=o=>{if(sd(o))return ps;let n=o.state;return n.window&&(n.window=null),o.state=null,od},yy=(o,n)=>{if(sd(o))return ps;const r=o.state;return(r.wrap&2)===0?ps:(r.head=n,n.done=!1,od)},vy=(o,n)=>{const r=n.length;let l,d,u;return sd(o)||(l=o.state,l.wrap!==0&&l.mode!==Pu)?ps:l.mode===Pu&&(d=1,d=Xp(d,n,r,0),d!==l.check)?Em:(u=Um(o,n,r,r),u?(l.mode=Om,Rm):(l.havedict=1,od))};var jy=Fm,Sy=Vm,Ay=Im,wy=gy,_y=Dm,Ny=by,Cy=xy,By=yy,ky=vy,My="pako inflate (from Nodeca project)",ml={inflateReset:jy,inflateReset2:Sy,inflateResetKeep:Ay,inflateInit:wy,inflateInit2:_y,inflate:Ny,inflateEnd:Cy,inflateGetHeader:By,inflateSetDictionary:ky,inflateInfo:My};function Gy(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ly=Gy;const Pm=Object.prototype.toString,{Z_NO_FLUSH:Ty,Z_FINISH:zy,Z_OK:Tc,Z_STREAM_END:wp,Z_NEED_DICT:_p,Z_STREAM_ERROR:Ey,Z_DATA_ERROR:wg,Z_MEM_ERROR:Ry}=Mm;function zc(o){this.options=Gm.assign({chunkSize:1024*64,windowBits:15,to:""},o||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(o&&o.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jx,this.strm.avail_out=0;let r=ml.inflateInit2(this.strm,n.windowBits);if(r!==Tc)throw new Error(Zp[r]);if(this.header=new Ly,ml.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Kp.string2buf(n.dictionary):Pm.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(r=ml.inflateSetDictionary(this.strm,n.dictionary),r!==Tc)))throw new Error(Zp[r])}zc.prototype.push=function(o,n){const r=this.strm,l=this.options.chunkSize,d=this.options.dictionary;let u,y,m;if(this.ended)return!1;for(n===~~n?y=n:y=n===!0?zy:Ty,Pm.call(o)==="[object ArrayBuffer]"?r.input=new Uint8Array(o):r.input=o,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(l),r.next_out=0,r.avail_out=l),u=ml.inflate(r,y),u===_p&&d&&(u=ml.inflateSetDictionary(r,d),u===Tc?u=ml.inflate(r,y):u===wg&&(u=_p));r.avail_in>0&&u===wp&&r.state.wrap>0&&o[r.next_in]!==0;)ml.inflateReset(r),u=ml.inflate(r,y);switch(u){case Ey:case wg:case _p:case Ry:return this.onEnd(u),this.ended=!0,!1}if(m=r.avail_out,r.next_out&&(r.avail_out===0||u===wp))if(this.options.to==="string"){let x=Kp.utf8border(r.output,r.next_out),b=r.next_out-x,j=Kp.buf2string(r.output,x);r.next_out=b,r.avail_out=l-b,b&&r.output.set(r.output.subarray(x,x+b),0),this.onData(j)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(u===Tc&&m===0)){if(u===wp)return u=ml.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};zc.prototype.onData=function(o){this.chunks.push(o)};zc.prototype.onEnd=function(o){o===Tc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Gm.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function Oy(o,n){const r=new zc(n);if(r.push(o),r.err)throw r.msg||Zp[r.err];return r.result}var qy=zc,Iy=Oy,Fy={Inflate:qy,inflate:Iy};const{Inflate:Vy,inflate:Dy}=Fy;var _g=Vy,Uy=Dy;const Hm=[];for(let o=0;o<256;o++){let n=o;for(let r=0;r<8;r++)n&1?n=3988292384^n>>>1:n=n>>>1;Hm[o]=n}const Ng=4294967295;function Py(o,n,r){let l=o;for(let d=0;d<r;d++)l=Hm[(l^n[d])&255]^l>>>8;return l}function Hy(o,n){return(Py(Ng,o,n)^Ng)>>>0}function Cg(o,n,r){const l=o.readUint32(),d=Hy(new Uint8Array(o.buffer,o.byteOffset+o.offset-n-4,n),n);if(d!==l)throw new Error(`CRC mismatch for chunk ${r}. Expected ${l}, found ${d}`)}function Wm(o,n,r){for(let l=0;l<r;l++)n[l]=o[l]}function Ym(o,n,r,l){let d=0;for(;d<l;d++)n[d]=o[d];for(;d<r;d++)n[d]=o[d]+n[d-l]&255}function Xm(o,n,r,l){let d=0;if(r.length===0)for(;d<l;d++)n[d]=o[d];else for(;d<l;d++)n[d]=o[d]+r[d]&255}function Zm(o,n,r,l,d){let u=0;if(r.length===0){for(;u<d;u++)n[u]=o[u];for(;u<l;u++)n[u]=o[u]+(n[u-d]>>1)&255}else{for(;u<d;u++)n[u]=o[u]+(r[u]>>1)&255;for(;u<l;u++)n[u]=o[u]+(n[u-d]+r[u]>>1)&255}}function Km(o,n,r,l,d){let u=0;if(r.length===0){for(;u<d;u++)n[u]=o[u];for(;u<l;u++)n[u]=o[u]+n[u-d]&255}else{for(;u<d;u++)n[u]=o[u]+r[u]&255;for(;u<l;u++)n[u]=o[u]+Wy(n[u-d],r[u],r[u-d])&255}}function Wy(o,n,r){const l=o+n-r,d=Math.abs(l-o),u=Math.abs(l-n),y=Math.abs(l-r);return d<=u&&d<=y?o:u<=y?n:r}function Yy(o,n,r,l,d,u){switch(o){case 0:Wm(n,r,d);break;case 1:Ym(n,r,d,u);break;case 2:Xm(n,r,l,d);break;case 3:Zm(n,r,l,d,u);break;case 4:Km(n,r,l,d,u);break;default:throw new Error(`Unsupported filter: ${o}`)}}const Xy=new Uint16Array([255]),Zy=new Uint8Array(Xy.buffer),Ky=Zy[0]===255;function Jy(o){const{data:n,width:r,height:l,channels:d,depth:u}=o,y=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],m=Math.ceil(u/8)*d,x=new Uint8Array(l*r*m);let b=0;for(let j=0;j<7;j++){const C=y[j],M=Math.ceil((r-C.x)/C.xStep),A=Math.ceil((l-C.y)/C.yStep);if(M<=0||A<=0)continue;const O=M*m,V=new Uint8Array(O);for(let J=0;J<A;J++){const F=n[b++],ge=n.subarray(b,b+O);b+=O;const re=new Uint8Array(O);Yy(F,ge,re,V,O,m),V.set(re);for(let ne=0;ne<M;ne++){const ue=C.x+ne*C.xStep,Me=C.y+J*C.yStep;if(!(ue>=r||Me>=l))for(let he=0;he<m;he++)x[(Me*r+ue)*m+he]=re[ne*m+he]}}}if(u===16){const j=new Uint16Array(x.buffer);if(Ky)for(let C=0;C<j.length;C++)j[C]=Qy(j[C]);return j}else return x}function Qy(o){return(o&255)<<8|o>>8&255}const $y=new Uint16Array([255]),e5=new Uint8Array($y.buffer),t5=e5[0]===255,i5=new Uint8Array(0);function Bg(o){const{data:n,width:r,height:l,channels:d,depth:u}=o,y=Math.ceil(u/8)*d,m=Math.ceil(u/8*d*r),x=new Uint8Array(l*m);let b=i5,j=0,C,M;for(let A=0;A<l;A++){switch(C=n.subarray(j+1,j+1+m),M=x.subarray(A*m,(A+1)*m),n[j]){case 0:Wm(C,M,m);break;case 1:Ym(C,M,m,y);break;case 2:Xm(C,M,b,m);break;case 3:Zm(C,M,b,m,y);break;case 4:Km(C,M,b,m,y);break;default:throw new Error(`Unsupported filter: ${n[j]}`)}b=M,j+=m+1}if(u===16){const A=new Uint16Array(x.buffer);if(t5)for(let O=0;O<A.length;O++)A[O]=a5(A[O]);return A}else return x}function a5(o){return(o&255)<<8|o>>8&255}const Eu=Uint8Array.of(137,80,78,71,13,10,26,10);function kg(o){if(!n5(o.readBytes(Eu.length)))throw new Error("wrong PNG signature")}function n5(o){if(o.length<Eu.length)return!1;for(let n=0;n<Eu.length;n++)if(o[n]!==Eu[n])return!1;return!0}const r5="tEXt",o5=0,Jm=new TextDecoder("latin1");function s5(o){if(d5(o),o.length===0||o.length>79)throw new Error("keyword length must be between 1 and 79")}const l5=/^[\u0000-\u00FF]*$/;function d5(o){if(!l5.test(o))throw new Error("invalid latin1 text")}function c5(o,n,r){const l=Qm(n);o[l]=u5(n,r-l.length-1)}function Qm(o){for(o.mark();o.readByte()!==o5;);const n=o.offset;o.reset();const r=Jm.decode(o.readBytes(n-o.offset-1));return o.skip(1),s5(r),r}function u5(o,n){return Jm.decode(o.readBytes(n))}const ts={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Np={UNKNOWN:-1,DEFLATE:0},Mg={UNKNOWN:-1,ADAPTIVE:0},Cp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bu={NONE:0,BACKGROUND:1,PREVIOUS:2},Bp={SOURCE:0,OVER:1};class f5 extends d0{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(n,r={}){super(n);const{checkCrc:l=!1}=r;this._checkCrc=l,this._inflator=new _g,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Np.UNKNOWN,this._filterMethod=Mg.UNKNOWN,this._interlaceMethod=Cp.UNKNOWN,this._colorType=ts.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kg(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(kg(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const l=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case r5:c5(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-l!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Cg(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const l=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=l+n;break}if(this.offset-l!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Cg(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=p5(this.readUint8());const r=this.readUint8();this._colorType=r;let l;switch(r){case ts.GREYSCALE:l=1;break;case ts.TRUECOLOUR:l=3;break;case ts.INDEXED_COLOUR:l=1;break;case ts.GREYSCALE_ALPHA:l=2;break;case ts.TRUECOLOUR_ALPHA:l=4;break;case ts.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==Np.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const l=[];this._palette=l;for(let d=0;d<r;d++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,l=this.offset+this.byteOffset;if(l+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case ts.GREYSCALE:case ts.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case ts.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const l=this.readByte();this._palette[r].push(l)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ts.UNKNOWN:case ts.GREYSCALE_ALPHA:case ts.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=Qm(this),l=this.readUint8();if(l!==Np.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const d=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Uy(d)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),l=this.readByte();this._png.resolution={x:n,y:r,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(n);if(l){if(l.data=Bg({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)r.data=l.data;else{const d=this._apng.frames.at(n-1);this.disposeFrame(l,d,r),this.addFrameDataToCanvas(r,l)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,l){switch(n.disposeOp){case Bu.NONE:break;case Bu.BACKGROUND:for(let d=0;d<this._png.height;d++)for(let u=0;u<this._png.width;u++){const y=(d*n.width+u)*this._png.channels;for(let m=0;m<this._png.channels;m++)l.data[y+m]=0}break;case Bu.PREVIOUS:l.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const l=1<<this._png.depth,d=(u,y)=>{const m=((u+r.yOffset)*this._png.width+r.xOffset+y)*this._png.channels,x=(u*r.width+y)*this._png.channels;return{index:m,frameIndex:x}};switch(r.blendOp){case Bp.SOURCE:for(let u=0;u<r.height;u++)for(let y=0;y<r.width;y++){const{index:m,frameIndex:x}=d(u,y);for(let b=0;b<this._png.channels;b++)n.data[m+b]=r.data[x+b]}break;case Bp.OVER:for(let u=0;u<r.height;u++)for(let y=0;y<r.width;y++){const{index:m,frameIndex:x}=d(u,y);for(let b=0;b<this._png.channels;b++){const j=r.data[x+this._png.channels-1]/l,C=b%(this._png.channels-1)===0?1:r.data[x+b],M=Math.floor(j*C+(1-j)*n.data[m+b]);n.data[m+b]+=M}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Mg.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cp.NO_INTERLACE)this._png.data=Bg({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cp.ADAM7)this._png.data=Jy({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bu.NONE,blendOp:Bp.SOURCE,data:n}),this._inflator=new _g,this._writingDataChunks=!1}}function p5(o){if(o!==1&&o!==2&&o!==4&&o!==8&&o!==16)throw new Error(`invalid bit depth: ${o}`);return o}var Gg;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.METRE=1]="METRE"})(Gg||(Gg={}));function h5(o,n){return new f5(o,n).decode()}var Ei=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function kp(){Ei.console&&typeof Ei.console.log=="function"&&Ei.console.log.apply(Ei.console,arguments)}var An={log:kp,warn:function(o){Ei.console&&(typeof Ei.console.warn=="function"?Ei.console.warn.apply(Ei.console,arguments):kp.call(null,arguments))},error:function(o){Ei.console&&(typeof Ei.console.error=="function"?Ei.console.error.apply(Ei.console,arguments):kp(o))}};function Mp(o,n,r){var l=new XMLHttpRequest;l.open("GET",o),l.responseType="blob",l.onload=function(){id(l.response,n,r)},l.onerror=function(){An.error("could not download file")},l.send()}function Lg(o){var n=new XMLHttpRequest;n.open("HEAD",o,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function ku(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(n)}}var id=Ei.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==Ei?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(o,n,r){var l=Ei.URL||Ei.webkitURL,d=document.createElement("a");n=n||o.name||"download",d.download=n,d.rel="noopener",typeof o=="string"?(d.href=o,d.origin!==location.origin?Lg(d.href)?Mp(o,n,r):ku(d,d.target="_blank"):ku(d)):(d.href=l.createObjectURL(o),setTimeout(function(){l.revokeObjectURL(d.href)},4e4),setTimeout(function(){ku(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,n,r){if(n=n||o.name||"download",typeof o=="string")if(Lg(o))Mp(o,n,r);else{var l=document.createElement("a");l.href=o,l.target="_blank",setTimeout(function(){ku(l)})}else navigator.msSaveOrOpenBlob((function(d,u){return u===void 0?u={autoBom:!1}:rn(u)!=="object"&&(An.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d})(o,r),n)}:function(o,n,r,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),typeof o=="string")return Mp(o,n,r);var d=o.type==="application/octet-stream",u=/constructor/i.test(Ei.HTMLElement)||Ei.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||d&&u)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var m=new FileReader;m.onloadend=function(){var j=m.result;j=y?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=j:location=j,l=null},m.readAsDataURL(o)}else{var x=Ei.URL||Ei.webkitURL,b=x.createObjectURL(o);l?l.location=b:location.href=b,l=null,setTimeout(function(){x.revokeObjectURL(b)},4e4)}});function $m(o){var n;o=o||"",this.ok=!1,o.charAt(0)=="#"&&(o=o.substr(1,6)),o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[o=(o=o.replace(/ /g,"")).toLowerCase()]||o;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(m){return[parseInt(m[1]),parseInt(m[2]),parseInt(m[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(m){return[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(m){return[parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16)]}}],l=0;l<r.length;l++){var d=r[l].re,u=r[l].process,y=d.exec(o);y&&(n=u(y),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var m=this.r.toString(16),x=this.g.toString(16),b=this.b.toString(16);return m.length==1&&(m="0"+m),x.length==1&&(x="0"+x),b.length==1&&(b="0"+b),"#"+m+x+b}}var Ru=Ei.atob.bind(Ei),Tg=Ei.btoa.bind(Ei);function Gp(o,n){var r=o[0],l=o[1],d=o[2],u=o[3];r=bo(r,l,d,u,n[0],7,-680876936),u=bo(u,r,l,d,n[1],12,-389564586),d=bo(d,u,r,l,n[2],17,606105819),l=bo(l,d,u,r,n[3],22,-1044525330),r=bo(r,l,d,u,n[4],7,-176418897),u=bo(u,r,l,d,n[5],12,1200080426),d=bo(d,u,r,l,n[6],17,-1473231341),l=bo(l,d,u,r,n[7],22,-45705983),r=bo(r,l,d,u,n[8],7,1770035416),u=bo(u,r,l,d,n[9],12,-1958414417),d=bo(d,u,r,l,n[10],17,-42063),l=bo(l,d,u,r,n[11],22,-1990404162),r=bo(r,l,d,u,n[12],7,1804603682),u=bo(u,r,l,d,n[13],12,-40341101),d=bo(d,u,r,l,n[14],17,-1502002290),r=xo(r,l=bo(l,d,u,r,n[15],22,1236535329),d,u,n[1],5,-165796510),u=xo(u,r,l,d,n[6],9,-1069501632),d=xo(d,u,r,l,n[11],14,643717713),l=xo(l,d,u,r,n[0],20,-373897302),r=xo(r,l,d,u,n[5],5,-701558691),u=xo(u,r,l,d,n[10],9,38016083),d=xo(d,u,r,l,n[15],14,-660478335),l=xo(l,d,u,r,n[4],20,-405537848),r=xo(r,l,d,u,n[9],5,568446438),u=xo(u,r,l,d,n[14],9,-1019803690),d=xo(d,u,r,l,n[3],14,-187363961),l=xo(l,d,u,r,n[8],20,1163531501),r=xo(r,l,d,u,n[13],5,-1444681467),u=xo(u,r,l,d,n[2],9,-51403784),d=xo(d,u,r,l,n[7],14,1735328473),r=yo(r,l=xo(l,d,u,r,n[12],20,-1926607734),d,u,n[5],4,-378558),u=yo(u,r,l,d,n[8],11,-2022574463),d=yo(d,u,r,l,n[11],16,1839030562),l=yo(l,d,u,r,n[14],23,-35309556),r=yo(r,l,d,u,n[1],4,-1530992060),u=yo(u,r,l,d,n[4],11,1272893353),d=yo(d,u,r,l,n[7],16,-155497632),l=yo(l,d,u,r,n[10],23,-1094730640),r=yo(r,l,d,u,n[13],4,681279174),u=yo(u,r,l,d,n[0],11,-358537222),d=yo(d,u,r,l,n[3],16,-722521979),l=yo(l,d,u,r,n[6],23,76029189),r=yo(r,l,d,u,n[9],4,-640364487),u=yo(u,r,l,d,n[12],11,-421815835),d=yo(d,u,r,l,n[15],16,530742520),r=vo(r,l=yo(l,d,u,r,n[2],23,-995338651),d,u,n[0],6,-198630844),u=vo(u,r,l,d,n[7],10,1126891415),d=vo(d,u,r,l,n[14],15,-1416354905),l=vo(l,d,u,r,n[5],21,-57434055),r=vo(r,l,d,u,n[12],6,1700485571),u=vo(u,r,l,d,n[3],10,-1894986606),d=vo(d,u,r,l,n[10],15,-1051523),l=vo(l,d,u,r,n[1],21,-2054922799),r=vo(r,l,d,u,n[8],6,1873313359),u=vo(u,r,l,d,n[15],10,-30611744),d=vo(d,u,r,l,n[6],15,-1560198380),l=vo(l,d,u,r,n[13],21,1309151649),r=vo(r,l,d,u,n[4],6,-145523070),u=vo(u,r,l,d,n[11],10,-1120210379),d=vo(d,u,r,l,n[2],15,718787259),l=vo(l,d,u,r,n[9],21,-343485551),o[0]=Ul(r,o[0]),o[1]=Ul(l,o[1]),o[2]=Ul(d,o[2]),o[3]=Ul(u,o[3])}function Zu(o,n,r,l,d,u){return n=Ul(Ul(n,o),Ul(l,u)),Ul(n<<d|n>>>32-d,r)}function bo(o,n,r,l,d,u,y){return Zu(n&r|~n&l,o,n,d,u,y)}function xo(o,n,r,l,d,u,y){return Zu(n&l|r&~l,o,n,d,u,y)}function yo(o,n,r,l,d,u,y){return Zu(n^r^l,o,n,d,u,y)}function vo(o,n,r,l,d,u,y){return Zu(r^(n|~l),o,n,d,u,y)}function eb(o){var n,r=o.length,l=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=o.length;n+=64)Gp(l,g5(o.substring(n-64,n)));o=o.substring(n-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<o.length;n++)d[n>>2]|=o.charCodeAt(n)<<(n%4<<3);if(d[n>>2]|=128<<(n%4<<3),n>55)for(Gp(l,d),n=0;n<16;n++)d[n]=0;return d[14]=8*r,Gp(l,d),l}function g5(o){var n,r=[];for(n=0;n<64;n+=4)r[n>>2]=o.charCodeAt(n)+(o.charCodeAt(n+1)<<8)+(o.charCodeAt(n+2)<<16)+(o.charCodeAt(n+3)<<24);return r}var zg="0123456789abcdef".split("");function m5(o){for(var n="",r=0;r<4;r++)n+=zg[o>>8*r+4&15]+zg[o>>8*r&15];return n}function b5(o){return String.fromCharCode(255&o,(65280&o)>>8,(16711680&o)>>16,(4278190080&o)>>24)}function Jp(o){return eb(o).map(b5).join("")}var x5=(function(o){for(var n=0;n<o.length;n++)o[n]=m5(o[n]);return o.join("")})(eb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ul(o,n){if(x5){var r=(65535&o)+(65535&n);return(o>>16)+(n>>16)+(r>>16)<<16|65535&r}return o+n&4294967295}function Qp(o,n){var r,l,d,u;if(o!==r){for(var y=(d=o,u=1+(256/o.length|0),new Array(u+1).join(d)),m=[],x=0;x<256;x++)m[x]=x;var b=0;for(x=0;x<256;x++){var j=m[x];b=(b+j+y.charCodeAt(x))%256,m[x]=m[b],m[b]=j}r=o,l=m}else m=l;var C=n.length,M=0,A=0,O="";for(x=0;x<C;x++)A=(A+(j=m[M=(M+1)%256]))%256,m[M]=m[A],m[A]=j,y=m[(m[M]+m[A])%256],O+=String.fromCharCode(n.charCodeAt(x)^y);return O}var Eg={print:4,modify:8,copy:16,"annot-forms":32};function Id(o,n,r,l){this.v=1,this.r=2;var d=192;o.forEach(function(m){if(Eg.perm!==void 0)throw new Error("Invalid permission: "+m);d+=Eg[m]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var u=(n+this.padding).substr(0,32),y=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(u,y),this.P=-(1+(255^d)),this.encryptionKey=Jp(u+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=Qp(this.encryptionKey,this.padding)}function Fd(o){if(/[^\u0000-\u00ff]/.test(o))throw new Error("Invalid PDF Name Object: "+o+", Only accept ASCII characters.");for(var n="",r=o.length,l=0;l<r;l++){var d=o.charCodeAt(l);n+=d<33||d===35||d===37||d===40||d===41||d===47||d===60||d===62||d===91||d===93||d===123||d===125||d>126?"#"+("0"+d.toString(16)).slice(-2):o[l]}return n}function Rg(o){if(rn(o)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(r,l,d){if(d=d||!1,typeof r!="string"||typeof l!="function"||typeof d!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(r)||(n[r]={});var u=Math.random().toString(35);return n[r][u]=[l,!!d],u},this.unsubscribe=function(r){for(var l in n)if(n[l][r])return delete n[l][r],Object.keys(n[l]).length===0&&delete n[l],!0;return!1},this.publish=function(r){if(n.hasOwnProperty(r)){var l=Array.prototype.slice.call(arguments,1),d=[];for(var u in n[r]){var y=n[r][u];try{y[0].apply(o,l)}catch(m){Ei.console&&An.error("jsPDF PubSub Error",m.message,m)}y[1]&&d.push(u)}d.length&&d.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Hu(o){if(!(this instanceof Hu))return new Hu(o);var n="opacity,stroke-opacity".split(",");for(var r in o)o.hasOwnProperty(r)&&n.indexOf(r)>=0&&(this[r]=o[r]);this.id="",this.objectNumber=-1}function tb(o,n){this.gState=o,this.matrix=n,this.id="",this.objectNumber=-1}function ad(o,n,r,l,d){if(!(this instanceof ad))return new ad(o,n,r,l,d);this.type=o==="axial"?2:3,this.coords=n,this.colors=r,tb.call(this,l,d)}function Dd(o,n,r,l,d){if(!(this instanceof Dd))return new Dd(o,n,r,l,d);this.boundingBox=o,this.xStep=n,this.yStep=r,this.stream="",this.cloneIndex=0,tb.call(this,l,d)}function pi(o){var n,r=typeof arguments[0]=="string"?arguments[0]:"p",l=arguments[1],d=arguments[2],u=arguments[3],y=[],m=1,x=16,b="S",j=null;rn(o=o||{})==="object"&&(r=o.orientation,l=o.unit||l,d=o.format||d,u=o.compress||o.compressPdf||u,(j=o.encryption||null)!==null&&(j.userPassword=j.userPassword||"",j.ownerPassword=j.ownerPassword||"",j.userPermissions=j.userPermissions||[]),m=typeof o.userUnit=="number"?Math.abs(o.userUnit):1,o.precision!==void 0&&(n=o.precision),o.floatPrecision!==void 0&&(x=o.floatPrecision),b=o.defaultPathOperation||"S"),y=o.filters||(u===!0?["FlateEncode"]:y),l=l||"mm",r=(""+(r||"P")).toLowerCase();var C=o.putOnlyUsedFonts||!1,M={},A={internal:{},__private__:{}};A.__private__.PubSub=Rg;var O="1.3",V=A.__private__.getPdfVersion=function(){return O};A.__private__.setPdfVersion=function(v){O=v};var J={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return J};var F=A.__private__.getPageFormat=function(v){return J[v]};d=d||"a4";var ge="compat",re="advanced",ne=ge;function ue(){this.saveGraphicsState(),X(new Ut(si,0,0,-si,0,Ao()*si).toString()+" cm"),this.setFontSize(this.getFontSize()/si),b="n",ne=re}function Me(){this.restoreGraphicsState(),b="S",ne=ge}var he=A.__private__.combineFontStyleAndFontWeight=function(v,k){if(v=="bold"&&k=="normal"||v=="bold"&&k==400||v=="normal"&&k=="italic"||v=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(v=k==400||k==="normal"?v==="italic"?"italic":"normal":k!=700&&k!=="bold"||v!=="normal"?(k==700?"bold":k)+""+v:"bold"),v};A.advancedAPI=function(v){var k=ne===ge;return k&&ue.call(this),typeof v!="function"||(v(this),k&&Me.call(this)),this},A.compatAPI=function(v){var k=ne===re;return k&&Me.call(this),typeof v!="function"||(v(this),k&&ue.call(this)),this},A.isAdvancedAPI=function(){return ne===re};var se,q=function(v){if(ne!==re)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=A.roundToPrecision=A.__private__.roundToPrecision=function(v,k){var ie=n||k;if(isNaN(v)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(ie).replace(/0+$/,"")};se=A.hpf=A.__private__.hpf=typeof x=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,x)}:x==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return $(v,16)};var B=A.f2=A.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return $(v,2)},z=A.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return $(v,3)},Q=A.scale=A.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return ne===ge?v*si:ne===re?v:void 0},ae=function(v){return Q((function(k){return ne===ge?Ao()-k:ne===re?k:void 0})(v))};A.__private__.setPrecision=A.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(n=parseInt(v,10))};var me,K="00000000000000000000000000000000",fe=A.__private__.getFileId=function(){return K},ce=A.__private__.setFileId=function(v){return K=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():K.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),j!==null&&(We=new Id(j.userPermissions,j.userPassword,j.ownerPassword,K)),K};A.setFileId=function(v){return ce(v),this},A.getFileId=function(){return fe()};var Le=A.__private__.convertDateToPDFDate=function(v){var k=v.getTimezoneOffset(),ie=k<0?"+":"-",ve=Math.floor(Math.abs(k/60)),Ge=Math.abs(k%60),Je=[ie,U(ve),"'",U(Ge),"'"].join("");return["D:",v.getFullYear(),U(v.getMonth()+1),U(v.getDate()),U(v.getHours()),U(v.getMinutes()),U(v.getSeconds()),Je].join("")},ze=A.__private__.convertPDFDateToDate=function(v){var k=parseInt(v.substr(2,4),10),ie=parseInt(v.substr(6,2),10)-1,ve=parseInt(v.substr(8,2),10),Ge=parseInt(v.substr(10,2),10),Je=parseInt(v.substr(12,2),10),ht=parseInt(v.substr(14,2),10);return new Date(k,ie,ve,Ge,Je,ht,0)},P=A.__private__.setCreationDate=function(v){var k;if(v===void 0&&(v=new Date),v instanceof Date)k=Le(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=v}return me=k},_=A.__private__.getCreationDate=function(v){var k=me;return v==="jsDate"&&(k=ze(me)),k};A.setCreationDate=function(v){return P(v),this},A.getCreationDate=function(v){return _(v)};var R,U=A.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},Z=A.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},le=0,ye=[],qe=[],Ie=0,Xe=[],He=[],ut=!1,jt=qe;A.__private__.setCustomOutputDestination=function(v){ut=!0,jt=v};var Ft=function(v){ut||(jt=v)};A.__private__.resetCustomOutputDestination=function(){ut=!1,jt=qe};var X=A.__private__.out=function(v){return v=v.toString(),Ie+=v.length+1,jt.push(v),jt},pt=A.__private__.write=function(v){return X(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},Tt=A.__private__.getArrayBuffer=function(v){for(var k=v.length,ie=new ArrayBuffer(k),ve=new Uint8Array(ie);k--;)ve[k]=v.charCodeAt(k);return ie},Yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return Yt};var lt=o.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(v){return lt=ne===re?v/si:v,this};var Kt,zt=A.__private__.getFontSize=A.getFontSize=function(){return ne===ge?lt:lt*si},Mt=o.R2L||!1;A.__private__.setR2L=A.setR2L=function(v){return Mt=v,this},A.__private__.getR2L=A.getR2L=function(){return Mt};var Ct,hi=A.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))Kt=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');Kt=v}else Kt=parseInt(v,10)};A.__private__.getZoomMode=function(){return Kt};var ki,ai=A.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Ct=v};A.__private__.getPageMode=function(){return Ct};var Oi=A.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');ki=v};A.__private__.getLayoutMode=function(){return ki},A.__private__.setDisplayMode=A.setDisplayMode=function(v,k,ie){return hi(v),Oi(k),ai(ie),this};var ui={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(v){if(Object.keys(ui).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ui[v]},A.__private__.getDocumentProperties=function(){return ui},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(v){for(var k in ui)ui.hasOwnProperty(k)&&v[k]&&(ui[k]=v[k]);return this},A.__private__.setDocumentProperty=function(v,k){if(Object.keys(ui).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ui[v]=k};var Rt,si,It,ta,$t,T={},Ne={},nt=[],Ke={},_t={},bt={},At={},bi=null,Bt=0,vt=[],ci=new Rg(A),on=o.hotfixes||[],ia={},Oa={},Li=[],Ut=function v(k,ie,ve,Ge,Je,ht){if(!(this instanceof v))return new v(k,ie,ve,Ge,Je,ht);isNaN(k)&&(k=1),isNaN(ie)&&(ie=0),isNaN(ve)&&(ve=0),isNaN(Ge)&&(Ge=1),isNaN(Je)&&(Je=0),isNaN(ht)&&(ht=0),this._matrix=[k,ie,ve,Ge,Je,ht]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(se).join(v)},Ut.prototype.multiply=function(v){var k=v.sx*this.sx+v.shy*this.shx,ie=v.sx*this.shy+v.shy*this.sy,ve=v.shx*this.sx+v.sy*this.shx,Ge=v.shx*this.shy+v.sy*this.sy,Je=v.tx*this.sx+v.ty*this.shx+this.tx,ht=v.tx*this.shy+v.ty*this.sy+this.ty;return new Ut(k,ie,ve,Ge,Je,ht)},Ut.prototype.decompose=function(){var v=this.sx,k=this.shy,ie=this.shx,ve=this.sy,Ge=this.tx,Je=this.ty,ht=Math.sqrt(v*v+k*k),Xt=(v/=ht)*ie+(k/=ht)*ve;ie-=v*Xt,ve-=k*Xt;var ii=Math.sqrt(ie*ie+ve*ve);return Xt/=ii,v*(ve/=ii)<k*(ie/=ii)&&(v=-v,k=-k,Xt=-Xt,ht=-ht),{scale:new Ut(ht,0,0,ii,0,0),translate:new Ut(1,0,0,1,Ge,Je),rotate:new Ut(v,k,-k,v,0,0),skew:new Ut(1,0,Xt,1,0,0)}},Ut.prototype.toString=function(v){return this.join(" ")},Ut.prototype.inversed=function(){var v=this.sx,k=this.shy,ie=this.shx,ve=this.sy,Ge=this.tx,Je=this.ty,ht=1/(v*ve-k*ie),Xt=ve*ht,ii=-k*ht,Ai=-ie*ht,Ri=v*ht;return new Ut(Xt,ii,Ai,Ri,-Xt*Ge-Ai*Je,-ii*Ge-Ri*Je)},Ut.prototype.applyToPoint=function(v){var k=v.x*this.sx+v.y*this.shx+this.tx,ie=v.x*this.shy+v.y*this.sy+this.ty;return new Er(k,ie)},Ut.prototype.applyToRectangle=function(v){var k=this.applyToPoint(v),ie=this.applyToPoint(new Er(v.x+v.w,v.y+v.h));return new Cr(k.x,k.y,ie.x-k.x,ie.y-k.y)},Ut.prototype.clone=function(){var v=this.sx,k=this.shy,ie=this.shx,ve=this.sy,Ge=this.tx,Je=this.ty;return new Ut(v,k,ie,ve,Ge,Je)},A.Matrix=Ut;var gn=A.matrixMult=function(v,k){return k.multiply(v)},mt=new Ut(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=mt;var Ka=function(v,k){if(!_t[v]){var ie=(k instanceof ad?"Sh":"P")+(Object.keys(Ke).length+1).toString(10);k.id=ie,_t[v]=ie,Ke[ie]=k,ci.publish("addPattern",k)}};A.ShadingPattern=ad,A.TilingPattern=Dd,A.addShadingPattern=function(v,k){return q("addShadingPattern()"),Ka(v,k),this},A.beginTilingPattern=function(v){q("beginTilingPattern()"),ar(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},A.endTilingPattern=function(v,k){q("endTilingPattern()"),k.stream=He[R].join(`
`),Ka(v,k),ci.publish("endTilingPattern",k),Li.pop().restore()};var Ja,Yi=A.__private__.newObject=function(){var v=Qa();return qa(v,!0),v},Qa=A.__private__.newObjectDeferred=function(){return le++,ye[le]=function(){return Ie},le},qa=function(v,k){return k=typeof k=="boolean"&&k,ye[v]=Ie,k&&X(v+" 0 obj"),v},mn=A.__private__.newAdditionalObject=function(){var v={objId:Qa(),content:""};return Xe.push(v),v},xa=Qa(),Xi=Qa(),sa=A.__private__.decodeColorString=function(v){var k=v.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length!==5||k[4]!=="k"&&k[4]!=="K"||(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var ie=parseFloat(k[0]);k=[ie,ie,ie,"r"]}for(var ve="#",Ge=0;Ge<3;Ge++)ve+=("0"+Math.floor(255*parseFloat(k[Ge])).toString(16)).slice(-2);return ve},wa=A.__private__.encodeColorString=function(v){var k;typeof v=="string"&&(v={ch1:v});var ie=v.ch1,ve=v.ch2,Ge=v.ch3,Je=v.ch4,ht=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var Xt=new $m(ie);if(Xt.ok)ie=Xt.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var ii=parseInt(ie.substr(1),16);ie=ii>>16&255,ve=ii>>8&255,Ge=255&ii}if(ve===void 0||Je===void 0&&ie===ve&&ve===Ge)k=typeof ie=="string"?ie+" "+ht[0]:v.precision===2?B(ie/255)+" "+ht[0]:z(ie/255)+" "+ht[0];else if(Je===void 0||rn(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return["1.","1.","1.",ht[1]].join(" ");k=typeof ie=="string"?[ie,ve,Ge,ht[1]].join(" "):v.precision===2?[B(ie/255),B(ve/255),B(Ge/255),ht[1]].join(" "):[z(ie/255),z(ve/255),z(Ge/255),ht[1]].join(" ")}else k=typeof ie=="string"?[ie,ve,Ge,Je,ht[2]].join(" "):v.precision===2?[B(ie),B(ve),B(Ge),B(Je),ht[2]].join(" "):[z(ie),z(ve),z(Ge),z(Je),ht[2]].join(" ");return k},St=A.__private__.getFilters=function(){return y},gt=A.__private__.putStream=function(v){var k=(v=v||{}).data||"",ie=v.filters||St(),ve=v.alreadyAppliedFilters||[],Ge=v.addLength1||!1,Je=k.length,ht=v.objectId,Xt=function(Ln){return Ln};if(j!==null&&ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");j!==null&&(Xt=We.encryptor(ht,0));var ii={};ie===!0&&(ie=["FlateEncode"]);var Ai=v.additionalKeyValues||[],Ri=(ii=pi.API.processDataByFilters!==void 0?pi.API.processDataByFilters(k,ie):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(ii.data.length!==0&&(Ai.push({key:"Length",value:ii.data.length}),Ge===!0&&Ai.push({key:"Length1",value:Je})),Ri.length!=0)if(Ri.split("/").length-1==1)Ai.push({key:"Filter",value:Ri});else{Ai.push({key:"Filter",value:"["+Ri+"]"});for(var la=0;la<Ai.length;la+=1)if(Ai[la].key==="DecodeParms"){for(var va=[],Gn=0;Gn<ii.reverseChain.split("/").length-1;Gn+=1)va.push("null");va.push(Ai[la].value),Ai[la].value="["+va.join(" ")+"]"}}X("<<");for(var Ga=0;Ga<Ai.length;Ga++)X("/"+Ai[Ga].key+" "+Ai[Ga].value);X(">>"),ii.data.length!==0&&(X("stream"),X(Xt(ii.data)),X("endstream"))},Yn=A.__private__.putPage=function(v){var k=v.number,ie=v.data,ve=v.objId,Ge=v.contentsObjId;qa(ve,!0),X("<</Type /Page"),X("/Parent "+v.rootDictionaryObjId+" 0 R"),X("/Resources "+v.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(se(v.mediaBox.bottomLeftX))+" "+parseFloat(se(v.mediaBox.bottomLeftY))+" "+se(v.mediaBox.topRightX)+" "+se(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&X("/CropBox ["+se(v.cropBox.bottomLeftX)+" "+se(v.cropBox.bottomLeftY)+" "+se(v.cropBox.topRightX)+" "+se(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&X("/BleedBox ["+se(v.bleedBox.bottomLeftX)+" "+se(v.bleedBox.bottomLeftY)+" "+se(v.bleedBox.topRightX)+" "+se(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&X("/TrimBox ["+se(v.trimBox.bottomLeftX)+" "+se(v.trimBox.bottomLeftY)+" "+se(v.trimBox.topRightX)+" "+se(v.trimBox.topRightY)+"]"),v.artBox!==null&&X("/ArtBox ["+se(v.artBox.bottomLeftX)+" "+se(v.artBox.bottomLeftY)+" "+se(v.artBox.topRightX)+" "+se(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&X("/UserUnit "+v.userUnit),ci.publish("putPage",{objId:ve,pageContext:vt[k],pageNumber:k,page:ie}),X("/Contents "+Ge+" 0 R"),X(">>"),X("endobj");var Je=ie.join(`
`);return ne===re&&(Je+=`
Q`),qa(Ge,!0),gt({data:Je,filters:St(),objectId:Ge}),X("endobj"),ve},Ha=A.__private__.putPages=function(){var v,k,ie=[];for(v=1;v<=Bt;v++)vt[v].objId=Qa(),vt[v].contentsObjId=Qa();for(v=1;v<=Bt;v++)ie.push(Yn({number:v,data:He[v],objId:vt[v].objId,contentsObjId:vt[v].contentsObjId,mediaBox:vt[v].mediaBox,cropBox:vt[v].cropBox,bleedBox:vt[v].bleedBox,trimBox:vt[v].trimBox,artBox:vt[v].artBox,userUnit:vt[v].userUnit,rootDictionaryObjId:xa,resourceDictionaryObjId:Xi}));qa(xa,!0),X("<</Type /Pages");var ve="/Kids [";for(k=0;k<Bt;k++)ve+=ie[k]+" 0 R ";X(ve+"]"),X("/Count "+Bt),X(">>"),X("endobj"),ci.publish("postPutPages")},sn=function(v){ci.publish("putFont",{font:v,out:X,newObject:Yi,putStream:gt}),v.isAlreadyPutted!==!0&&(v.objectNumber=Yi(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Fd(v.postScriptName)),X("/Subtype /Type1"),typeof v.encoding=="string"&&X("/Encoding /"+v.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Wa=function(v){v.objectNumber=Yi();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[se(v.x),se(v.y),se(v.x+v.width),se(v.y+v.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var ie=v.pages[1].join(`
`);gt({data:ie,additionalKeyValues:k,objectId:v.objectNumber}),X("endobj")},Xn=function(v,k){k||(k=21);var ie=Yi(),ve=(function(ht,Xt){var ii,Ai=[],Ri=1/(Xt-1);for(ii=0;ii<1;ii+=Ri)Ai.push(ii);if(Ai.push(1),ht[0].offset!=0){var la={offset:0,color:ht[0].color};ht.unshift(la)}if(ht[ht.length-1].offset!=1){var va={offset:1,color:ht[ht.length-1].color};ht.push(va)}for(var Gn="",Ga=0,Ln=0;Ln<Ai.length;Ln++){for(ii=Ai[Ln];ii>ht[Ga+1].offset;)Ga++;var In=ht[Ga].offset,kr=(ii-In)/(ht[Ga+1].offset-In),Yo=ht[Ga].color,wo=ht[Ga+1].color;Gn+=Z(Math.round((1-kr)*Yo[0]+kr*wo[0]).toString(16))+Z(Math.round((1-kr)*Yo[1]+kr*wo[1]).toString(16))+Z(Math.round((1-kr)*Yo[2]+kr*wo[2]).toString(16))}return Gn.trim()})(v.colors,k),Ge=[];Ge.push({key:"FunctionType",value:"0"}),Ge.push({key:"Domain",value:"[0.0 1.0]"}),Ge.push({key:"Size",value:"["+k+"]"}),Ge.push({key:"BitsPerSample",value:"8"}),Ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gt({data:ve,additionalKeyValues:Ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),X("endobj"),v.objectNumber=Yi(),X("<< /ShadingType "+v.type),X("/ColorSpace /DeviceRGB");var Je="/Coords ["+se(parseFloat(v.coords[0]))+" "+se(parseFloat(v.coords[1]))+" ";v.type===2?Je+=se(parseFloat(v.coords[2]))+" "+se(parseFloat(v.coords[3])):Je+=se(parseFloat(v.coords[2]))+" "+se(parseFloat(v.coords[3]))+" "+se(parseFloat(v.coords[4]))+" "+se(parseFloat(v.coords[5])),X(Je+="]"),v.matrix&&X("/Matrix ["+v.matrix.toString()+"]"),X("/Function "+ie+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Cn=function(v,k){var ie=Qa(),ve=Yi();k.push({resourcesOid:ie,objectOid:ve}),v.objectNumber=ve;var Ge=[];Ge.push({key:"Type",value:"/Pattern"}),Ge.push({key:"PatternType",value:"1"}),Ge.push({key:"PaintType",value:"1"}),Ge.push({key:"TilingType",value:"1"}),Ge.push({key:"BBox",value:"["+v.boundingBox.map(se).join(" ")+"]"}),Ge.push({key:"XStep",value:se(v.xStep)}),Ge.push({key:"YStep",value:se(v.yStep)}),Ge.push({key:"Resources",value:ie+" 0 R"}),v.matrix&&Ge.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),gt({data:v.stream,additionalKeyValues:Ge,objectId:v.objectNumber}),X("endobj")},ya=function(v){for(var k in v.objectNumber=Yi(),X("<<"),v)switch(k){case"opacity":X("/ca "+B(v[k]));break;case"stroke-opacity":X("/CA "+B(v[k]))}X(">>"),X("endobj")},_a=function(v){qa(v.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var k in X("/Font <<"),T)T.hasOwnProperty(k)&&(C===!1||C===!0&&M.hasOwnProperty(k))&&X("/"+k+" "+T[k].objectNumber+" 0 R");X(">>")})(),(function(){if(Object.keys(Ke).length>0){for(var k in X("/Shading <<"),Ke)Ke.hasOwnProperty(k)&&Ke[k]instanceof ad&&Ke[k].objectNumber>=0&&X("/"+k+" "+Ke[k].objectNumber+" 0 R");ci.publish("putShadingPatternDict"),X(">>")}})(),(function(k){if(Object.keys(Ke).length>0){for(var ie in X("/Pattern <<"),Ke)Ke.hasOwnProperty(ie)&&Ke[ie]instanceof A.TilingPattern&&Ke[ie].objectNumber>=0&&Ke[ie].objectNumber<k&&X("/"+ie+" "+Ke[ie].objectNumber+" 0 R");ci.publish("putTilingPatternDict"),X(">>")}})(v.objectOid),(function(){if(Object.keys(bt).length>0){var k;for(k in X("/ExtGState <<"),bt)bt.hasOwnProperty(k)&&bt[k].objectNumber>=0&&X("/"+k+" "+bt[k].objectNumber+" 0 R");ci.publish("putGStateDict"),X(">>")}})(),(function(){for(var k in X("/XObject <<"),ia)ia.hasOwnProperty(k)&&ia[k].objectNumber>=0&&X("/"+k+" "+ia[k].objectNumber+" 0 R");ci.publish("putXobjectDict"),X(">>")})(),X(">>"),X("endobj")},ka=function(v){Ne[v.fontName]=Ne[v.fontName]||{},Ne[v.fontName][v.fontStyle]=v.id},Ze=function(v,k,ie,ve,Ge){var Je={id:"F"+(Object.keys(T).length+1).toString(10),postScriptName:v,fontName:k,fontStyle:ie,encoding:ve,isStandardFont:Ge||!1,metadata:{}};return ci.publish("addFont",{font:Je,instance:this}),T[Je.id]=Je,ka(Je),Je.id},fi=A.__private__.pdfEscape=A.pdfEscape=function(v,k){return(function(ie,ve){var Ge,Je,ht,Xt,ii,Ai,Ri,la,va;if(ht=(ve=ve||{}).sourceEncoding||"Unicode",ii=ve.outputEncoding,(ve.autoencode||ii)&&T[Rt].metadata&&T[Rt].metadata[ht]&&T[Rt].metadata[ht].encoding&&(Xt=T[Rt].metadata[ht].encoding,!ii&&T[Rt].encoding&&(ii=T[Rt].encoding),!ii&&Xt.codePages&&(ii=Xt.codePages[0]),typeof ii=="string"&&(ii=Xt[ii]),ii)){for(Ri=!1,Ai=[],Ge=0,Je=ie.length;Ge<Je;Ge++)(la=ii[ie.charCodeAt(Ge)])?Ai.push(String.fromCharCode(la)):Ai.push(ie[Ge]),Ai[Ge].charCodeAt(0)>>8&&(Ri=!0);ie=Ai.join("")}for(Ge=ie.length;Ri===void 0&&Ge!==0;)ie.charCodeAt(Ge-1)>>8&&(Ri=!0),Ge--;if(!Ri)return ie;for(Ai=ve.noBOM?[]:[254,255],Ge=0,Je=ie.length;Ge<Je;Ge++){if((va=(la=ie.charCodeAt(Ge))>>8)>>8)throw new Error("Character at position "+Ge+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ai.push(va),Ai.push(la-(va<<8))}return String.fromCharCode.apply(void 0,Ai)})(v,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vi=A.__private__.beginPage=function(v){He[++Bt]=[],vt[Bt]={objId:0,contentsObjId:0,userUnit:Number(m),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},de(Bt),Ft(He[R])},bn=function(v,k){var ie,ve,Ge;switch(r=k||r,typeof v=="string"&&(ie=F(v.toLowerCase()),Array.isArray(ie)&&(ve=ie[0],Ge=ie[1])),Array.isArray(v)&&(ve=v[0]*si,Ge=v[1]*si),isNaN(ve)&&(ve=d[0],Ge=d[1]),(ve>14400||Ge>14400)&&(An.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ge=Math.min(14400,Ge)),d=[ve,Ge],r.substr(0,1)){case"l":Ge>ve&&(d=[Ge,ve]);break;case"p":ve>Ge&&(d=[Ge,ve])}vi(d),Dt(di),X(ma),So!==0&&X(So+" J"),Ci!==0&&X(Ci+" j"),ci.publish("addPage",{pageNumber:Bt})},Ya=function(v){v>0&&v<=Bt&&(He.splice(v,1),vt.splice(v,1),Bt--,R>Bt&&(R=Bt),this.setPage(R))},de=function(v){v>0&&v<=Bt&&(R=v)},Ae=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return He.length-1},be=function(v,k,ie){var ve,Ge=void 0;return ie=ie||{},v=v!==void 0?v:T[Rt].fontName,k=k!==void 0?k:T[Rt].fontStyle,ve=v.toLowerCase(),Ne[ve]!==void 0&&Ne[ve][k]!==void 0?Ge=Ne[ve][k]:Ne[v]!==void 0&&Ne[v][k]!==void 0?Ge=Ne[v][k]:ie.disableWarning===!1&&An.warn("Unable to look up font label for font '"+v+"', '"+k+"'. Refer to getFontList() for available fonts."),Ge||ie.noFallback||(Ge=Ne.times[k])==null&&(Ge=Ne.times.normal),Ge},Oe=A.__private__.putInfo=function(){var v=Yi(),k=function(ve){return ve};for(var ie in j!==null&&(k=We.encryptor(v,0)),X("<<"),X("/Producer ("+fi(k("jsPDF "+pi.version))+")"),ui)ui.hasOwnProperty(ie)&&ui[ie]&&X("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+fi(k(ui[ie]))+")");X("/CreationDate ("+fi(k(me))+")"),X(">>"),X("endobj")},ot=A.__private__.putCatalog=function(v){var k=(v=v||{}).rootDictionaryObjId||xa;switch(Yi(),X("<<"),X("/Type /Catalog"),X("/Pages "+k+" 0 R"),Kt||(Kt="fullwidth"),Kt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Kt;ie.substr(ie.length-1)==="%"&&(Kt=parseInt(Kt)/100),typeof Kt=="number"&&X("/OpenAction [3 0 R /XYZ null null "+B(Kt)+"]")}switch(ki||(ki="continuous"),ki){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Ct&&X("/PageMode /"+Ct),ci.publish("putCatalog"),X(">>"),X("endobj")},$e=A.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(le+1)),X("/Root "+le+" 0 R"),X("/Info "+(le-1)+" 0 R"),j!==null&&X("/Encrypt "+We.oid+" 0 R"),X("/ID [ <"+K+"> <"+K+"> ]"),X(">>")},xt=A.__private__.putHeader=function(){X("%PDF-"+O),X("%")},gi=A.__private__.putXRef=function(){var v="0000000000";X("xref"),X("0 "+(le+1)),X("0000000000 65535 f ");for(var k=1;k<=le;k++)typeof ye[k]=="function"?X((v+ye[k]()).slice(-10)+" 00000 n "):ye[k]!==void 0?X((v+ye[k]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},ni=A.__private__.buildDocument=function(){var v;le=0,Ie=0,qe=[],ye=[],Xe=[],xa=Qa(),Xi=Qa(),Ft(qe),ci.publish("buildDocument"),xt(),Ha(),(function(){ci.publish("putAdditionalObjects");for(var ie=0;ie<Xe.length;ie++){var ve=Xe[ie];qa(ve.objId,!0),X(ve.content),X("endobj")}ci.publish("postPutAdditionalObjects")})(),v=[],(function(){for(var ie in T)T.hasOwnProperty(ie)&&(C===!1||C===!0&&M.hasOwnProperty(ie))&&sn(T[ie])})(),(function(){var ie;for(ie in bt)bt.hasOwnProperty(ie)&&ya(bt[ie])})(),(function(){for(var ie in ia)ia.hasOwnProperty(ie)&&Wa(ia[ie])})(),(function(ie){var ve;for(ve in Ke)Ke.hasOwnProperty(ve)&&(Ke[ve]instanceof ad?Xn(Ke[ve]):Ke[ve]instanceof Dd&&Cn(Ke[ve],ie))})(v),ci.publish("putResources"),v.forEach(_a),_a({resourcesOid:Xi,objectOid:Number.MAX_SAFE_INTEGER}),ci.publish("postPutResources"),j!==null&&(We.oid=Yi(),X("<<"),X("/Filter /Standard"),X("/V "+We.v),X("/R "+We.r),X("/U <"+We.toHexString(We.U)+">"),X("/O <"+We.toHexString(We.O)+">"),X("/P "+We.P),X(">>"),X("endobj")),Oe(),ot();var k=Ie;return gi(),$e(),X("startxref"),X(""+k),X("%%EOF"),Ft(He[R]),qe.join(`
`)},Jt=A.__private__.getBlob=function(v){return new Blob([Tt(v)],{type:"application/pdf"})},ji=A.output=A.__private__.output=(Ja=function(v,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",v){case void 0:return ni();case"save":A.save(k.filename);break;case"arraybuffer":return Tt(ni());case"blob":return Jt(ni());case"bloburi":case"bloburl":if(Ei.URL!==void 0&&typeof Ei.URL.createObjectURL=="function")return Ei.URL&&Ei.URL.createObjectURL(Jt(ni()))||void 0;An.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ve=ni();try{ie=Tg(ve)}catch{ie=Tg(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+k.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ei)==="[object Window]"){var Ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(Ge=k.pdfObjectUrl,Je="");var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ge+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",Xt=Ei.open();return Xt!==null&&Xt.document.write(ht),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ei)==="[object Window]"){var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',Ai=Ei.open();if(Ai!==null){Ai.document.write(ii);var Ri=this;Ai.document.documentElement.querySelector("#pdfViewer").onload=function(){Ai.document.title=k.filename,Ai.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ri.output("bloburl"))}}return Ai}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ei)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var la='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',va=Ei.open();if(va!==null&&(va.document.write(la),va.document.title=k.filename),va||typeof safari>"u")return va;break;case"datauri":case"dataurl":return Ei.document.location.href=this.output("datauristring",k);default:return null}},Ja.foo=function(){try{return Ja.apply(this,arguments)}catch(ie){var v=ie.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var k="Error in function "+v.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Ei.console)throw new Error(k);Ei.console.error(k,ie),Ei.alert&&alert(k)}},Ja.foo.bar=Ja,Ja.foo),Ni=function(v){return Array.isArray(on)===!0&&on.indexOf(v)>-1};switch(l){case"pt":si=1;break;case"mm":si=72/25.4;break;case"cm":si=72/2.54;break;case"in":si=72;break;case"px":si=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":si=12;break;case"ex":si=6;break;default:if(typeof l!="number")throw new Error("Invalid unit: "+l);si=l}var We=null;P(),ce();var Vt=A.__private__.getPageInfo=A.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[v].objId,pageNumber:v,pageContext:vt[v]}},Pi=A.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in vt)if(vt[k].objId===v)break;return Vt(k)},Ji=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:vt[R].objId,pageNumber:R,pageContext:vt[R]}};A.addPage=function(){return bn.apply(this,arguments),this},A.setPage=function(){return de.apply(this,arguments),Ft.call(this,He[R]),this},A.insertPage=function(v){return this.addPage(),this.movePage(R,v),this},A.movePage=function(v,k){var ie,ve;if(v>k){ie=He[v],ve=vt[v];for(var Ge=v;Ge>k;Ge--)He[Ge]=He[Ge-1],vt[Ge]=vt[Ge-1];He[k]=ie,vt[k]=ve,this.setPage(k)}else if(v<k){ie=He[v],ve=vt[v];for(var Je=v;Je<k;Je++)He[Je]=He[Je+1],vt[Je]=vt[Je+1];He[k]=ie,vt[k]=ve,this.setPage(k)}return this},A.deletePage=function(){return Ya.apply(this,arguments),this},A.__private__.text=A.text=function(v,k,ie,ve,Ge){var Je,ht,Xt,ii,Ai,Ri,la,va,Gn,Ga=(ve=ve||{}).scope||this;if(typeof v=="number"&&typeof k=="number"&&(typeof ie=="string"||Array.isArray(ie))){var Ln=ie;ie=k,k=v,v=Ln}if(arguments[3]instanceof Ut==0?(Xt=arguments[4],ii=arguments[5],rn(la=arguments[3])==="object"&&la!==null||(typeof Xt=="string"&&(ii=Xt,Xt=null),typeof la=="string"&&(ii=la,la=null),typeof la=="number"&&(Xt=la,la=null),ve={flags:la,angle:Xt,align:ii})):(q("The transform parameter of text() with a Matrix value"),Gn=Ge),isNaN(k)||isNaN(ie)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Ga;var In,kr="",Yo=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Fe,wo=Ga.internal.scaleFactor;function Xo(qi){return qi=qi.split("	").join(Array(ve.TabLen||9).join(" ")),fi(qi,la)}function lo(qi){for(var da,La=qi.concat(),cn=[],Oo=La.length;Oo--;)typeof(da=La.shift())=="string"?cn.push(da):Array.isArray(qi)&&(da.length===1||da[1]===void 0&&da[2]===void 0)?cn.push(da[0]):cn.push([da[0],da[1],da[2]]);return cn}function Ts(qi,da){var La;if(typeof qi=="string")La=da(qi)[0];else if(Array.isArray(qi)){for(var cn,Oo,Bo=qi.concat(),ys=[],Es=Bo.length;Es--;)typeof(cn=Bo.shift())=="string"?ys.push(da(cn)[0]):Array.isArray(cn)&&typeof cn[0]=="string"&&(Oo=da(cn[0],cn[1],cn[2]),ys.push([Oo[0],Oo[1],Oo[2]]));La=ys}return La}var co=!1,qr=!0;if(typeof v=="string")co=!0;else if(Array.isArray(v)){var gs=v.concat();ht=[];for(var Zo,rr=gs.length;rr--;)(typeof(Zo=gs.shift())!="string"||Array.isArray(Zo)&&typeof Zo[0]!="string")&&(qr=!1);co=qr}if(co===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var as=lt/Ga.internal.scaleFactor,ns=as*(Yo-1);switch(ve.baseline){case"bottom":ie-=ns;break;case"top":ie+=as-ns;break;case"hanging":ie+=as-2*ns;break;case"middle":ie+=as/2-ns}if((Ri=ve.maxWidth||0)>0&&(typeof v=="string"?v=Ga.splitTextToSize(v,Ri):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(qi,da){return qi.concat(Ga.splitTextToSize(da,Ri))},[]))),Je={text:v,x:k,y:ie,options:ve,mutex:{pdfEscape:fi,activeFontKey:Rt,fonts:T,activeFontSize:lt}},ci.publish("preProcessText",Je),v=Je.text,Xt=(ve=Je.options).angle,Gn instanceof Ut==0&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,ve.rotationDirection===0&&(Xt=-Xt),ne===re&&(Xt=-Xt);var Lo=Math.cos(Xt),To=Math.sin(Xt);Gn=new Ut(Lo,To,-To,Lo,0,0)}else Xt&&Xt instanceof Ut&&(Gn=Xt);ne!==re||Gn||(Gn=mt),(Ai=ve.charSpace||kn)!==void 0&&(kr+=se(Q(Ai))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(va=ve.horizontalScale)!==void 0&&(kr+=se(100*va)+` Tz
`),ve.lang;var xr=-1,Ko=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,zs=Ga.internal.getCurrentPageInfo().pageContext;switch(Ko){case 0:case!1:case"fill":xr=0;break;case 1:case!0:case"stroke":xr=1;break;case 2:case"fillThenStroke":xr=2;break;case 3:case"invisible":xr=3;break;case 4:case"fillAndAddForClipping":xr=4;break;case 5:case"strokeAndAddPathForClipping":xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xr=6;break;case 7:case"addToPathForClipping":xr=7}var Js=zs.usedRenderingMode!==void 0?zs.usedRenderingMode:-1;xr!==-1?kr+=xr+` Tr
`:Js!==-1&&(kr+=`0 Tr
`),xr!==-1&&(zs.usedRenderingMode=xr),ii=ve.align||"left";var Kn,uo=lt*Yo,zo=Ga.internal.pageSize.getWidth(),ms=T[Rt];Ai=ve.charSpace||kn,Ri=ve.maxWidth||0,la=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Zr=[],_o=function(qi){return Ga.getStringUnitWidth(qi,{font:ms,charSpace:Ai,fontSize:lt,doKerning:!1})*lt/wo};if(Object.prototype.toString.call(v)==="[object Array]"){var Mr;ht=lo(v),ii!=="left"&&(Kn=ht.map(_o));var or,No=0;if(ii==="right"){k-=Kn[0],v=[],rr=ht.length;for(var fo=0;fo<rr;fo++)fo===0?(or=na(k),Mr=Qi(ie)):(or=Q(No-Kn[fo]),Mr=-uo),v.push([ht[fo],or,Mr]),No=Kn[fo]}else if(ii==="center"){k-=Kn[0]/2,v=[],rr=ht.length;for(var po=0;po<rr;po++)po===0?(or=na(k),Mr=Qi(ie)):(or=Q((No-Kn[po])/2),Mr=-uo),v.push([ht[po],or,Mr]),No=Kn[po]}else if(ii==="left"){v=[],rr=ht.length;for(var bs=0;bs<rr;bs++)v.push(ht[bs])}else if(ii==="justify"&&ms.encoding==="Identity-H"){v=[],rr=ht.length,Ri=Ri!==0?Ri:zo;for(var rs=0,dn=0;dn<rr;dn++)if(Mr=dn===0?Qi(ie):-uo,or=dn===0?na(k):rs,dn<rr-1){var xs=Q((Ri-Kn[dn])/(ht[dn].split(" ").length-1)),ho=ht[dn].split(" ");v.push([ho[0]+" ",or,Mr]),rs=0;for(var ao=1;ao<ho.length;ao++){var Fn=(_o(ho[ao-1]+" "+ho[ao])-_o(ho[ao]))*wo+xs;ao==ho.length-1?v.push([ho[ao],Fn,0]):v.push([ho[ao]+" ",Fn,0]),rs-=Fn}}else v.push([ht[dn],or,Mr]);v.push(["",rs,0])}else{if(ii!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],rr=ht.length,Ri=Ri!==0?Ri:zo,dn=0;dn<rr;dn++){Mr=dn===0?Qi(ie):-uo,or=dn===0?na(k):0;var Co=ht[dn].split(" ").length-1,Eo=Co>0?(Ri-Kn[dn])/Co:0;dn<rr-1?Zr.push(se(Q(Eo))):Zr.push(0),v.push([ht[dn],or,Mr])}}}(typeof ve.R2L=="boolean"?ve.R2L:Mt)===!0&&(v=Ts(v,function(qi,da,La){return[qi.split("").reverse().join(""),da,La]})),Je={text:v,x:k,y:ie,options:ve,mutex:{pdfEscape:fi,activeFontKey:Rt,fonts:T,activeFontSize:lt}},ci.publish("postProcessText",Je),v=Je.text,In=Je.mutex.isHex||!1;var Ir=T[Rt].encoding;Ir!=="WinAnsiEncoding"&&Ir!=="StandardEncoding"||(v=Ts(v,function(qi,da,La){return[Xo(qi),da,La]})),ht=lo(v),v=[];for(var no,sr,aa,os=Array.isArray(ht[0])?1:0,Nn="",Ro=function(qi,da,La){var cn="";return La instanceof Ut?(La=typeof ve.angle=="number"?gn(La,new Ut(1,0,0,1,qi,da)):gn(new Ut(1,0,0,1,qi,da),La),ne===re&&(La=gn(new Ut(1,0,0,-1,0,0),La)),cn=La.join(" ")+` Tm
`):cn=se(qi)+" "+se(da)+` Td
`,cn},en=0;en<ht.length;en++){switch(Nn="",os){case 1:aa=(In?"<":"(")+ht[en][0]+(In?">":")"),no=parseFloat(ht[en][1]),sr=parseFloat(ht[en][2]);break;case 0:aa=(In?"<":"(")+ht[en]+(In?">":")"),no=na(k),sr=Qi(ie)}Zr!==void 0&&Zr[en]!==void 0&&(Nn=Zr[en]+` Tw
`),en===0?v.push(Nn+Ro(no,sr,Gn)+aa):os===0?v.push(Nn+aa):os===1&&v.push(Nn+Ro(no,sr,Gn)+aa)}v=os===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Fr=`BT
/`;return Fr+=Rt+" "+lt+` Tf
`,Fr+=se(lt*Yo)+` TL
`,Fr+=Xa+`
`,Fr+=kr,Fr+=v,X(Fr+="ET"),M[Rt]=!0,Ga};var xn=A.__private__.clip=A.clip=function(v){return X(v==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return xn("evenodd")},A.__private__.discardPath=A.discardPath=function(){return X("n"),this};var fa=A.__private__.isValidStyle=function(v){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(k=!0),k};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(v){return fa(v)&&(b=v),this};var ln=A.__private__.getStyle=A.getStyle=function(v){var k=b;switch(v){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=v}return k},Si=A.close=function(){return X("h"),this};A.stroke=function(){return X("S"),this},A.fill=function(v){return Mi("f",v),this},A.fillEvenOdd=function(v){return Mi("f*",v),this},A.fillStroke=function(v){return Mi("B",v),this},A.fillStrokeEvenOdd=function(v){return Mi("B*",v),this};var Mi=function(v,k){rn(k)==="object"?ir(k,v):X(v)},Gi=function(v){v===null||ne===re&&v===void 0||(v=ln(v),X(v))};function Ot(v,k,ie,ve,Ge){var Je=new Dd(k||this.boundingBox,ie||this.xStep,ve||this.yStep,this.gState,Ge||this.matrix);Je.stream=this.stream;var ht=v+"$$"+this.cloneIndex+++"$$";return Ka(ht,Je),Je}var ir=function(v,k){var ie=_t[v.key],ve=Ke[ie];if(ve instanceof ad)X("q"),X(Ia(k)),ve.gState&&A.setGState(ve.gState),X(v.matrix.toString()+" cm"),X("/"+ie+" sh"),X("Q");else if(ve instanceof Dd){var Ge=new Ut(1,0,0,-1,0,Ao());v.matrix&&(Ge=Ge.multiply(v.matrix||mt),ie=Ot.call(ve,v.key,v.boundingBox,v.xStep,v.yStep,Ge).id),X("q"),X("/Pattern cs"),X("/"+ie+" scn"),ve.gState&&A.setGState(ve.gState),X(k),X("Q")}},Ia=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},hs=A.moveTo=function(v,k){return X(se(Q(v))+" "+se(ae(k))+" m"),this},Mo=A.lineTo=function(v,k){return X(se(Q(v))+" "+se(ae(k))+" l"),this},wn=A.curveTo=function(v,k,ie,ve,Ge,Je){return X([se(Q(v)),se(ae(k)),se(Q(ie)),se(ae(ve)),se(Q(Ge)),se(ae(Je)),"c"].join(" ")),this};A.__private__.line=A.line=function(v,k,ie,ve,Ge){if(isNaN(v)||isNaN(k)||isNaN(ie)||isNaN(ve)||!fa(Ge))throw new Error("Invalid arguments passed to jsPDF.line");return ne===ge?this.lines([[ie-v,ve-k]],v,k,[1,1],Ge||"S"):this.lines([[ie-v,ve-k]],v,k,[1,1]).stroke()},A.__private__.lines=A.lines=function(v,k,ie,ve,Ge,Je){var ht,Xt,ii,Ai,Ri,la,va,Gn,Ga,Ln,In,kr;if(typeof v=="number"&&(kr=ie,ie=k,k=v,v=kr),ve=ve||[1,1],Je=Je||!1,isNaN(k)||isNaN(ie)||!Array.isArray(v)||!Array.isArray(ve)||!fa(Ge)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hs(k,ie),ht=ve[0],Xt=ve[1],Ai=v.length,Ln=k,In=ie,ii=0;ii<Ai;ii++)(Ri=v[ii]).length===2?(Ln=Ri[0]*ht+Ln,In=Ri[1]*Xt+In,Mo(Ln,In)):(la=Ri[0]*ht+Ln,va=Ri[1]*Xt+In,Gn=Ri[2]*ht+Ln,Ga=Ri[3]*Xt+In,Ln=Ri[4]*ht+Ln,In=Ri[5]*Xt+In,wn(la,va,Gn,Ga,Ln,In));return Je&&Si(),Gi(Ge),this},A.path=function(v){for(var k=0;k<v.length;k++){var ie=v[k],ve=ie.c;switch(ie.op){case"m":hs(ve[0],ve[1]);break;case"l":Mo(ve[0],ve[1]);break;case"c":wn.apply(this,ve);break;case"h":Si()}}return this},A.__private__.rect=A.rect=function(v,k,ie,ve,Ge){if(isNaN(v)||isNaN(k)||isNaN(ie)||isNaN(ve)||!fa(Ge))throw new Error("Invalid arguments passed to jsPDF.rect");return ne===ge&&(ve=-ve),X([se(Q(v)),se(ae(k)),se(Q(ie)),se(Q(ve)),"re"].join(" ")),Gi(Ge),this},A.__private__.triangle=A.triangle=function(v,k,ie,ve,Ge,Je,ht){if(isNaN(v)||isNaN(k)||isNaN(ie)||isNaN(ve)||isNaN(Ge)||isNaN(Je)||!fa(ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-v,ve-k],[Ge-ie,Je-ve],[v-Ge,k-Je]],v,k,[1,1],ht,!0),this},A.__private__.roundedRect=A.roundedRect=function(v,k,ie,ve,Ge,Je,ht){if(isNaN(v)||isNaN(k)||isNaN(ie)||isNaN(ve)||isNaN(Ge)||isNaN(Je)||!fa(ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return Ge=Math.min(Ge,.5*ie),Je=Math.min(Je,.5*ve),this.lines([[ie-2*Ge,0],[Ge*Xt,0,Ge,Je-Je*Xt,Ge,Je],[0,ve-2*Je],[0,Je*Xt,-Ge*Xt,Je,-Ge,Je],[2*Ge-ie,0],[-Ge*Xt,0,-Ge,-Je*Xt,-Ge,-Je],[0,2*Je-ve],[0,-Je*Xt,Ge*Xt,-Je,Ge,-Je]],v+Ge,k,[1,1],ht,!0),this},A.__private__.ellipse=A.ellipse=function(v,k,ie,ve,Ge){if(isNaN(v)||isNaN(k)||isNaN(ie)||isNaN(ve)||!fa(Ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*ie,ht=4/3*(Math.SQRT2-1)*ve;return hs(v+ie,k),wn(v+ie,k-ht,v+Je,k-ve,v,k-ve),wn(v-Je,k-ve,v-ie,k-ht,v-ie,k),wn(v-ie,k+ht,v-Je,k+ve,v,k+ve),wn(v+Je,k+ve,v+ie,k+ht,v+ie,k),Gi(Ge),this},A.__private__.circle=A.circle=function(v,k,ie,ve){if(isNaN(v)||isNaN(k)||isNaN(ie)||!fa(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,k,ie,ie,ve)},A.setFont=function(v,k,ie){return ie&&(k=he(k,ie)),Rt=be(v,k,{disableWarning:!1}),this};var io=A.__private__.getFont=A.getFont=function(){return T[be.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var v,k,ie={};for(v in Ne)if(Ne.hasOwnProperty(v))for(k in ie[v]=[],Ne[v])Ne[v].hasOwnProperty(k)&&ie[v].push(k);return ie},A.addFont=function(v,k,ie,ve,Ge){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?Ge=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(ie=he(ie,ve)),Ze.call(this,v,k,ie,Ge=Ge||"Identity-H")};var Fe,di=o.lineWidth||.200025,Bn=A.__private__.getLineWidth=A.getLineWidth=function(){return di},Dt=A.__private__.setLineWidth=A.setLineWidth=function(v){return di=v,X(se(Q(v))+" w"),this};A.__private__.setLineDash=pi.API.setLineDash=pi.API.setLineDashPattern=function(v,k){if(v=v||[],k=k||0,isNaN(k)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(ie){return se(Q(ie))}).join(" "),k=se(Q(k)),X("["+v+"] "+k+" d"),this};var _n=A.__private__.getLineHeight=A.getLineHeight=function(){return lt*Fe};A.__private__.getLineHeight=A.getLineHeight=function(){return lt*Fe};var Ma=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Fe=v),this},Ti=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Fe};Ma(o.lineHeight);var na=A.__private__.getHorizontalCoordinate=function(v){return Q(v)},Qi=A.__private__.getVerticalCoordinate=function(v){return ne===re?v:vt[R].mediaBox.topRightY-vt[R].mediaBox.bottomLeftY-Q(v)},ra=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(v){return se(na(v))},Fa=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(v){return se(Qi(v))},ma=o.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return sa(ma)},A.__private__.setStrokeColor=A.setDrawColor=function(v,k,ie,ve){return ma=wa({ch1:v,ch2:k,ch3:ie,ch4:ve,pdfColorType:"draw",precision:2}),X(ma),this};var yn=o.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return sa(yn)},A.__private__.setFillColor=A.setFillColor=function(v,k,ie,ve){return yn=wa({ch1:v,ch2:k,ch3:ie,ch4:ve,pdfColorType:"fill",precision:2}),X(yn),this};var Xa=o.textColor||"0 g",$a=A.__private__.getTextColor=A.getTextColor=function(){return sa(Xa)};A.__private__.setTextColor=A.setTextColor=function(v,k,ie,ve){return Xa=wa({ch1:v,ch2:k,ch3:ie,ch4:ve,pdfColorType:"text",precision:3}),this};var kn=o.charSpace,Mn=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(kn||0)};A.__private__.setCharSpace=A.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kn=v,this};var So=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(v){var k=A.CapJoinStyles[v];if(k===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return So=k,X(k+" J"),this};var Ci=0;A.__private__.setLineJoin=A.setLineJoin=function(v){var k=A.CapJoinStyles[v];if(k===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ci=k,X(k+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(se(Q(v))+" M"),this},A.GState=Hu,A.setGState=function(v){(v=typeof v=="string"?bt[At[v]]:Zn(null,v)).equals(bi)||(X("/"+v.id+" gs"),bi=v)};var Zn=function(v,k){if(!v||!At[v]){var ie=!1;for(var ve in bt)if(bt.hasOwnProperty(ve)&&bt[ve].equals(k)){ie=!0;break}if(ie)k=bt[ve];else{var Ge="GS"+(Object.keys(bt).length+1).toString(10);bt[Ge]=k,k.id=Ge}return v&&(At[v]=k.id),ci.publish("addGState",k),k}};A.addGState=function(v,k){return Zn(v,k),this},A.saveGraphicsState=function(){return X("q"),nt.push({key:Rt,size:lt,color:Xa}),this},A.restoreGraphicsState=function(){X("Q");var v=nt.pop();return Rt=v.key,lt=v.size,Xa=v.color,bi=null,this},A.setCurrentTransformationMatrix=function(v){return X(v.toString()+" cm"),this},A.comment=function(v){return X("#"+v),this};var Er=function(v,k){var ie=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Je){isNaN(Je)||(ie=parseFloat(Je))}});var ve=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Je){isNaN(Je)||(ve=parseFloat(Je))}});var Ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ge},set:function(Je){Ge=Je.toString()}}),this},Cr=function(v,k,ie,ve){Er.call(this,v,k),this.type="rect";var Ge=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ge},set:function(ht){isNaN(ht)||(Ge=parseFloat(ht))}});var Je=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(ht){isNaN(ht)||(Je=parseFloat(ht))}}),this},vn=function(){this.page=Bt,this.currentPage=R,this.pages=He.slice(0),this.pagesContext=vt.slice(0),this.x=It,this.y=ta,this.matrix=$t,this.width=Go(R),this.height=nr(R),this.outputDestination=jt,this.id="",this.objectNumber=-1};vn.prototype.restore=function(){Bt=this.page,R=this.currentPage,vt=this.pagesContext,He=this.pages,It=this.x,ta=this.y,$t=this.matrix,Wo(R,this.width),Rr(R,this.height),jt=this.outputDestination};var ar=function(v,k,ie,ve,Ge){Li.push(new vn),Bt=R=0,He=[],It=v,ta=k,$t=Ge,vi([ie,ve])};for(var Br in A.beginFormObject=function(v,k,ie,ve,Ge){return ar(v,k,ie,ve,Ge),this},A.endFormObject=function(v){return(function(k){if(Oa[k])Li.pop().restore();else{var ie=new vn,ve="Xo"+(Object.keys(ia).length+1).toString(10);ie.id=ve,Oa[k]=ve,ia[ve]=ie,ci.publish("addFormObject",ie),Li.pop().restore()}})(v),this},A.doFormObject=function(v,k){var ie=ia[Oa[v]];return X("q"),X(k.toString()+" cm"),X("/"+ie.id+" Do"),X("Q"),this},A.getFormObject=function(v){var k=ia[Oa[v]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},A.save=function(v,k){return v=v||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(id(Jt(ni()),v),typeof id.unload=="function"&&Ei.setTimeout&&setTimeout(id.unload,911),this):new Promise(function(ie,ve){try{var Ge=id(Jt(ni()),v);typeof id.unload=="function"&&Ei.setTimeout&&setTimeout(id.unload,911),ie(Ge)}catch(Je){ve(Je.message)}})},pi.API)pi.API.hasOwnProperty(Br)&&(Br==="events"&&pi.API.events.length?(function(v,k){var ie,ve,Ge;for(Ge=k.length-1;Ge!==-1;Ge--)ie=k[Ge][0],ve=k[Ge][1],v.subscribe.apply(v,[ie].concat(typeof ve=="function"?[ve]:ve))})(ci,pi.API.events):A[Br]=pi.API[Br]);function Go(v){return vt[v].mediaBox.topRightX-vt[v].mediaBox.bottomLeftX}function Wo(v,k){vt[v].mediaBox.topRightX=k+vt[v].mediaBox.bottomLeftX}function nr(v){return vt[v].mediaBox.topRightY-vt[v].mediaBox.bottomLeftY}function Rr(v,k){vt[v].mediaBox.topRightY=k+vt[v].mediaBox.bottomLeftY}var Or=A.getPageWidth=function(v){return Go(v=v||R)/si},Xr=A.setPageWidth=function(v,k){Wo(v,k*si)},Ao=A.getPageHeight=function(v){return nr(v=v||R)/si},Ls=A.setPageHeight=function(v,k){Rr(v,k*si)};return A.internal={pdfEscape:fi,getStyle:ln,getFont:io,getFontSize:zt,getCharSpace:Mn,getTextColor:$a,getLineHeight:_n,getLineHeightFactor:Ti,getLineWidth:Bn,write:pt,getHorizontalCoordinate:na,getVerticalCoordinate:Qi,getCoordinateString:ra,getVerticalCoordinateString:Fa,collections:{},newObject:Yi,newAdditionalObject:mn,newObjectDeferred:Qa,newObjectDeferredBegin:qa,getFilters:St,putStream:gt,events:ci,scaleFactor:si,pageSize:{getWidth:function(){return Or(R)},setWidth:function(v){Xr(R,v)},getHeight:function(){return Ao(R)},setHeight:function(v){Ls(R,v)}},encryptionOptions:j,encryption:We,getEncryptor:function(v){return j!==null?We.encryptor(v,0):function(k){return k}},output:ji,getNumberOfPages:Ae,get pages(){return He},out:X,f2:B,f3:z,getPageInfo:Vt,getPageInfoByObjId:Pi,getCurrentPageInfo:Ji,getPDFVersion:V,Point:Er,Rectangle:Cr,Matrix:Ut,hasHotfix:Ni},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return Or(R)},set:function(v){Xr(R,v)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Ao(R)},set:function(v){Ls(R,v)},enumerable:!0,configurable:!0}),(function(v){for(var k=0,ie=Yt.length;k<ie;k++){var ve=Ze.call(this,v[k][0],v[k][1],v[k][2],Yt[k][3],!0);C===!1&&(M[ve]=!0);var Ge=v[k][0].split("-");ka({id:ve,fontName:Ge[0],fontStyle:Ge[1]||""})}ci.publish("addFonts",{fonts:T,dictionary:Ne})}).call(A,Yt),Rt="F1",bn(d,r),ci.publish("initialized"),A}Id.prototype.lsbFirstWord=function(o){return String.fromCharCode(255&o,o>>8&255,o>>16&255,o>>24&255)},Id.prototype.toHexString=function(o){return o.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Id.prototype.hexToBytes=function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(String.fromCharCode(parseInt(o.substr(r,2),16)));return n.join("")},Id.prototype.processOwnerPassword=function(o,n){return Qp(Jp(n).substr(0,5),o)},Id.prototype.encryptor=function(o,n){var r=Jp(this.encryptionKey+String.fromCharCode(255&o,o>>8&255,o>>16&255,255&n,n>>8&255)).substr(0,10);return function(l){return Qp(r,l)}},Hu.prototype.equals=function(o){var n,r="id,objectNumber,equals";if(!o||rn(o)!==rn(this))return!1;var l=0;for(n in this)if(!(r.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!o.hasOwnProperty(n)||this[n]!==o[n])return!1;l++}for(n in o)o.hasOwnProperty(n)&&r.indexOf(n)<0&&l--;return l===0},pi.API={events:[]},pi.version="4.0.0";var gr=pi.API,c0=1,ld=function(o){return o.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rd=function(o){return o.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ui=function(o){return o.toFixed(2)},Vl=function(o){return o.toFixed(5)};gr.__acroform__={};var Ho=function(o,n){o.prototype=Object.create(n.prototype),o.prototype.constructor=o},Og=function(o){return o*c0},Ys=function(o){var n=new ab,r=ti.internal.getHeight(o)||0,l=ti.internal.getWidth(o)||0;return n.BBox=[0,0,Number(Ui(l)),Number(Ui(r))],n},y5=gr.__acroform__.setBit=function(o,n){if(o=o||0,n=n||0,isNaN(o)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return o|1<<n},v5=gr.__acroform__.clearBit=function(o,n){if(o=o||0,n=n||0,isNaN(o)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return o&~(1<<n)},j5=gr.__acroform__.getBit=function(o,n){if(isNaN(o)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return o&1<<n?1:0},wr=gr.__acroform__.getBitForPdf=function(o,n){if(isNaN(o)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return j5(o,n-1)},_r=gr.__acroform__.setBitForPdf=function(o,n){if(isNaN(o)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return y5(o,n-1)},Nr=gr.__acroform__.clearBitForPdf=function(o,n){if(isNaN(o)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return v5(o,n-1)},S5=gr.__acroform__.calculateCoordinates=function(o,n){var r=n.internal.getHorizontalCoordinate,l=n.internal.getVerticalCoordinate,d=o[0],u=o[1],y=o[2],m=o[3],x={};return x.lowerLeft_X=r(d)||0,x.lowerLeft_Y=l(u+m)||0,x.upperRight_X=r(d+y)||0,x.upperRight_Y=l(u)||0,[Number(Ui(x.lowerLeft_X)),Number(Ui(x.lowerLeft_Y)),Number(Ui(x.upperRight_X)),Number(Ui(x.upperRight_Y))]},A5=function(o){if(o.appearanceStreamContent)return o.appearanceStreamContent;if(o.V||o.DV){var n=[],r=o._V||o.DV,l=$p(o,r),d=o.scope.internal.getFont(o.fontName,o.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(o.scope.__private__.encodeColorString(o.color)),n.push("/"+d+" "+Ui(l.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC");var u=Ys(o);return u.scope=o.scope,u.stream=n.join(`
`),u}},$p=function(o,n){var r=o.fontSize===0?o.maxFontSize:o.fontSize,l={text:"",fontSize:""},d=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");d=o.multiline?d.map(function(B){return B.split(`
`)}):d.map(function(B){return[B]});var u=r,y=ti.internal.getHeight(o)||0;y=y<0?-y:y;var m=ti.internal.getWidth(o)||0;m=m<0?-m:m;var x=function(B,z,Q){if(B+1<d.length){var ae=z+" "+d[B+1][0];return Mu(ae,o,Q).width<=m-4}return!1};u++;e:for(;u>0;){n="",u--;var b,j,C=Mu("3",o,u).height,M=o.multiline?y-u:(y-C)/2,A=M+=2,O=0,V=0,J=0;if(u<=0){n=`(...) Tj
`,n+="% Width of Text: "+Mu(n,o,u=12).width+", FieldWidth:"+m+`
`;break}for(var F="",ge=0,re=0;re<d.length;re++)if(d.hasOwnProperty(re)){var ne=!1;if(d[re].length!==1&&J!==d[re].length-1){if((C+2)*(ge+2)+2>y)continue e;F+=d[re][J],ne=!0,V=re,re--}else{F=(F+=d[re][J]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var ue=parseInt(re),Me=x(ue,F,u),he=re>=d.length-1;if(Me&&!he){F+=" ",J=0;continue}if(Me||he){if(he)V=ue;else if(o.multiline&&(C+2)*(ge+2)+2>y)continue e}else{if(!o.multiline||(C+2)*(ge+2)+2>y)continue e;V=ue}}for(var se="",q=O;q<=V;q++){var $=d[q];if(o.multiline){if(q===V){se+=$[J]+" ",J=(J+1)%$.length;continue}if(q===O){se+=$[$.length-1]+" ";continue}}se+=$[0]+" "}switch(se=se.substr(se.length-1)==" "?se.substr(0,se.length-1):se,j=Mu(se,o,u).width,o.textAlign){case"right":b=m-j-2;break;case"center":b=(m-j)/2;break;default:b=2}n+=Ui(b)+" "+Ui(A)+` Td
`,n+="("+ld(se)+`) Tj
`,n+=-Ui(b)+` 0 Td
`,A=-(u+2),j=0,O=ne?V:V+1,ge++,F=""}break}return l.text=n,l.fontSize=u,l},Mu=function(o,n,r){var l=n.scope.internal.getFont(n.fontName,n.fontStyle),d=n.scope.getStringUnitWidth(o,{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:n.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:d}},w5={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_5=function(o,n){var r={type:"reference",object:o};n.internal.getPageInfo(o.page).pageContext.annotations.find(function(l){return l.type===r.type&&l.object===r.object})===void 0&&n.internal.getPageInfo(o.page).pageContext.annotations.push(r)},N5=function(o,n){if(n.scope=o,o.internal!==void 0&&(o.internal.acroformPlugin===void 0||o.internal.acroformPlugin.isInitialized===!1)){if(Ms.FieldNum=0,o.internal.acroformPlugin=JSON.parse(JSON.stringify(w5)),o.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");c0=o.internal.scaleFactor,o.internal.acroformPlugin.acroFormDictionaryRoot=new nb,o.internal.acroformPlugin.acroFormDictionaryRoot.scope=o,o.internal.acroformPlugin.acroFormDictionaryRoot._eventID=o.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(o)}),o.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var d in l)if(l.hasOwnProperty(d)){var u=l[d];u.objId=void 0,u.hasAnnotation&&_5(u,r)}})(o)}),o.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(o)}),o.internal.events.subscribe("postPutPages",function(r){(function(l,d){var u=!l;for(var y in l||(d.internal.newObjectDeferredBegin(d.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),d.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||d.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(y)){var m=l[y],x=[],b=m.Rect;if(m.Rect&&(m.Rect=S5(m.Rect,d)),d.internal.newObjectDeferredBegin(m.objId,!0),m.DA=ti.createDefaultAppearanceStream(m),rn(m)==="object"&&typeof m.getKeyValueListForStream=="function"&&(x=m.getKeyValueListForStream()),m.Rect=b,m.hasAppearanceStream&&!m.appearanceStreamContent){var j=A5(m);x.push({key:"AP",value:"<</N "+j+">>"}),d.internal.acroformPlugin.xForms.push(j)}if(m.appearanceStreamContent){var C="";for(var M in m.appearanceStreamContent)if(m.appearanceStreamContent.hasOwnProperty(M)){var A=m.appearanceStreamContent[M];if(C+="/"+M+" ",C+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var y in A)if(A.hasOwnProperty(y)){var O=A[y];typeof O=="function"&&(O=O.call(d,m)),C+="/"+y+" "+O+" ",d.internal.acroformPlugin.xForms.indexOf(O)>=0||d.internal.acroformPlugin.xForms.push(O)}}else typeof(O=A)=="function"&&(O=O.call(d,m)),C+="/"+y+" "+O,d.internal.acroformPlugin.xForms.indexOf(O)>=0||d.internal.acroformPlugin.xForms.push(O);C+=">>"}x.push({key:"AP",value:`<<
`+C+">>"})}d.internal.putStream({additionalKeyValues:x,objectId:m.objId}),d.internal.out("endobj")}u&&(function(V,J){for(var F in V)if(V.hasOwnProperty(F)){var ge=F,re=V[F];J.internal.newObjectDeferredBegin(re.objId,!0),rn(re)==="object"&&typeof re.putStream=="function"&&re.putStream(),delete V[ge]}})(d.internal.acroformPlugin.xForms,d)})(r,o)}),o.internal.acroformPlugin.isInitialized=!0}},ib=gr.__acroform__.arrayToPdfArray=function(o,n,r){var l=function(y){return y};if(Array.isArray(o)){for(var d="[",u=0;u<o.length;u++)switch(u!==0&&(d+=" "),rn(o[u])){case"boolean":case"number":case"object":d+=o[u].toString();break;case"string":o[u].substr(0,1)!=="/"?(n!==void 0&&r&&(l=r.internal.getEncryptor(n)),d+="("+ld(l(o[u].toString()))+")"):d+=o[u].toString()}return d+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lp=function(o,n,r){var l=function(d){return d};return n!==void 0&&r&&(l=r.internal.getEncryptor(n)),(o=o||"").toString(),"("+ld(l(o))+")"},Zs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(o){this._objId=o}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zs.prototype.toString=function(){return this.objId+" 0 R"},Zs.prototype.putStream=function(){var o=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:o,objectId:this.objId}),this.scope.internal.out("endobj")},Zs.prototype.getKeyValueListForStream=function(){var o=[],n=Object.getOwnPropertyNames(this).filter(function(u){return u!="content"&&u!="appearanceStreamContent"&&u!="scope"&&u!="objId"&&u.substring(0,1)!="_"});for(var r in n)if(Object.getOwnPropertyDescriptor(this,n[r]).configurable===!1){var l=n[r],d=this[l];d&&(Array.isArray(d)?o.push({key:l,value:ib(d,this.objId,this.scope)}):d instanceof Zs?(d.scope=this.scope,o.push({key:l,value:d.objId+" 0 R"})):typeof d!="function"&&o.push({key:l,value:d}))}return o};var ab=function(){Zs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var o,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){o=r.trim()},get:function(){return o||null}})};Ho(ab,Zs);var nb=function(){Zs.call(this);var o,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(o){var r=function(l){return l};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ld(r(o))+")"}},set:function(r){o=r}})};Ho(nb,Zs);var Ms=function o(){Zs.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');n=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wr(n,3)},set:function(F){F?this.F=_r(n,3):this.F=Nr(n,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');r=F}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(l.length!==0)return l},set:function(F){l=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(F){l[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(F){l[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(F){l[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(F){l[3]=F}});var d="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return d},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":d=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var u=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!u||u.length<1){if(this instanceof Wu)return;u="FieldObject"+o.FieldNum++}var F=function(ge){return ge};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+ld(F(u))+")"},set:function(F){u=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return u},set:function(F){u=F}});var y="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return y},set:function(F){y=F}});var m="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return m},set:function(F){m=F}});var x=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return x},set:function(F){x=F}});var b=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return b===void 0?50/c0:b},set:function(F){b=F}});var j="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return j},set:function(F){j=F}});var C="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!C||this instanceof Wu||this instanceof nd))return Lp(C,this.objId,this.scope)},set:function(F){F=F.toString(),C=F}});var M=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(M)return this instanceof to==0?Lp(M,this.objId,this.scope):M},set:function(F){F=F.toString(),M=this instanceof to==0?F.substr(0,1)==="("?Rd(F.substr(1,F.length-2)):Rd(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof to==1?Rd(M.substr(1,M.length-1)):M},set:function(F){F=F.toString(),M=this instanceof to==1?"/"+F:F}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof to==0?Lp(A,this.objId,this.scope):A},set:function(F){F=F.toString(),A=this instanceof to==0?F.substr(0,1)==="("?Rd(F.substr(1,F.length-2)):Rd(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof to==1?Rd(A.substr(1,A.length-1)):A},set:function(F){F=F.toString(),A=this instanceof to==1?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var O,V=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return V},set:function(F){F=!!F,V=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(O)return O},set:function(F){O=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,1)},set:function(F){F?this.Ff=_r(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,2)},set:function(F){F?this.Ff=_r(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,3)},set:function(F){F?this.Ff=_r(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var J=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(J!==null)return J},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');J=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(J){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:J=2;break;case"center":case 1:J=1;break;default:J=0}}})};Ho(Ms,Zs);var Ud=function(){Ms.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var o=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return o},set:function(r){o=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return o},set:function(r){o=r}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ib(n,this.objId,this.scope)},set:function(r){var l,d;d=[],typeof(l=r)=="string"&&(d=(function(u,y,m){m||(m=1);for(var x,b=[];x=y.exec(u);)b.push(x[m]);return b})(l,/\((.*?)\)/g)),n=d}}),this.getOptions=function(){return n},this.setOptions=function(r){n=r,this.sort&&n.sort()},this.addOption=function(r){r=(r=r||"").toString(),n.push(r),this.sort&&n.sort()},this.removeOption=function(r,l){for(l=l||!1,r=(r=r||"").toString();n.indexOf(r)!==-1&&(n.splice(n.indexOf(r),1),l!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,18)},set:function(r){r?this.Ff=_r(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=_r(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,20)},set:function(r){r?(this.Ff=_r(this.Ff,20),n.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,22)},set:function(r){r?this.Ff=_r(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,23)},set:function(r){r?this.Ff=_r(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,27)},set:function(r){r?this.Ff=_r(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ho(Ud,Ms);var Pd=function(){Ud.call(this),this.fontName="helvetica",this.combo=!1};Ho(Pd,Ud);var Hd=function(){Pd.call(this),this.combo=!0};Ho(Hd,Pd);var Ou=function(){Hd.call(this),this.edit=!0};Ho(Ou,Hd);var to=function(){Ms.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,15)},set:function(r){r?this.Ff=_r(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,16)},set:function(r){r?this.Ff=_r(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,17)},set:function(r){r?this.Ff=_r(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,26)},set:function(r){r?this.Ff=_r(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var o,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var l,d=[];for(l in d.push("<<"),n)d.push("/"+l+" ("+ld(r(n[l]))+")");return d.push(">>"),d.join(`
`)}},set:function(r){rn(r)==="object"&&(n=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(r){typeof r=="string"&&(n.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return o},set:function(r){o=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return o.substr(1,o.length-1)},set:function(r){o="/"+r}})};Ho(to,Ms);var qu=function(){to.call(this),this.pushButton=!0};Ho(qu,to);var Wd=function(){to.call(this),this.radio=!0,this.pushButton=!1;var o=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return o},set:function(n){o=n!==void 0?n:[]}})};Ho(Wd,to);var Wu=function(){var o,n;Ms.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return o},set:function(d){o=d}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(d){n=d}});var r,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var d=function(m){return m};this.scope&&(d=this.scope.internal.getEncryptor(this.objId));var u,y=[];for(u in y.push("<<"),l)y.push("/"+u+" ("+ld(d(l[u]))+")");return y.push(">>"),y.join(`
`)},set:function(d){rn(d)==="object"&&(l=d)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(d){typeof d=="string"&&(l.CA=d)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(d){r=d}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(d){r="/"+d}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ti.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ho(Wu,Ms),Wd.prototype.setAppearance=function(o){if(!("createAppearanceStream"in o)||!("getCA"in o))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var r=this.Kids[n];r.appearanceStreamContent=o.createAppearanceStream(r.optionName),r.caption=o.getCA()}},Wd.prototype.createOption=function(o){var n=new Wu;return n.Parent=this,n.optionName=o,this.Kids.push(n),C5.call(this.scope,n),n};var Iu=function(){to.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ti.CheckBox.createAppearanceStream()};Ho(Iu,to);var nd=function(){Ms.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,13)},set:function(n){n?this.Ff=_r(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,21)},set:function(n){n?this.Ff=_r(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,23)},set:function(n){n?this.Ff=_r(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,24)},set:function(n){n?this.Ff=_r(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,25)},set:function(n){n?this.Ff=_r(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,26)},set:function(n){n?this.Ff=_r(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var o=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return o},set:function(n){o=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return o},set:function(n){Number.isInteger(n)&&(o=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ho(nd,Ms);var Fu=function(){nd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wr(this.Ff,14)},set:function(o){o?this.Ff=_r(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};Ho(Fu,nd);var ti={CheckBox:{createAppearanceStream:function(){return{N:{On:ti.CheckBox.YesNormal},D:{On:ti.CheckBox.YesPushDown,Off:ti.CheckBox.OffPushDown}}},YesPushDown:function(o){var n=Ys(o);n.scope=o.scope;var r=[],l=o.scope.internal.getFont(o.fontName,o.fontStyle).id,d=o.scope.__private__.encodeColorString(o.color),u=$p(o,o.caption);return r.push("0.749023 g"),r.push("0 0 "+Ui(ti.internal.getWidth(o))+" "+Ui(ti.internal.getHeight(o))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+l+" "+Ui(u.fontSize)+" Tf "+d),r.push("BT"),r.push(u.text),r.push("ET"),r.push("Q"),r.push("EMC"),n.stream=r.join(`
`),n},YesNormal:function(o){var n=Ys(o);n.scope=o.scope;var r=o.scope.internal.getFont(o.fontName,o.fontStyle).id,l=o.scope.__private__.encodeColorString(o.color),d=[],u=ti.internal.getHeight(o),y=ti.internal.getWidth(o),m=$p(o,o.caption);return d.push("1 g"),d.push("0 0 "+Ui(y)+" "+Ui(u)+" re"),d.push("f"),d.push("q"),d.push("0 0 1 rg"),d.push("0 0 "+Ui(y-1)+" "+Ui(u-1)+" re"),d.push("W"),d.push("n"),d.push("0 g"),d.push("BT"),d.push("/"+r+" "+Ui(m.fontSize)+" Tf "+l),d.push(m.text),d.push("ET"),d.push("Q"),n.stream=d.join(`
`),n},OffPushDown:function(o){var n=Ys(o);n.scope=o.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ui(ti.internal.getWidth(o))+" "+Ui(ti.internal.getHeight(o))+" re"),r.push("f"),n.stream=r.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(o){var n={D:{Off:ti.RadioButton.Circle.OffPushDown},N:{}};return n.N[o]=ti.RadioButton.Circle.YesNormal,n.D[o]=ti.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(o){var n=Ys(o);n.scope=o.scope;var r=[],l=ti.internal.getWidth(o)<=ti.internal.getHeight(o)?ti.internal.getWidth(o)/4:ti.internal.getHeight(o)/4;l=Number((.9*l).toFixed(5));var d=ti.internal.Bezier_C,u=Number((l*d).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Vl(ti.internal.getWidth(o)/2)+" "+Vl(ti.internal.getHeight(o)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+u+" "+u+" "+l+" 0 "+l+" c"),r.push("-"+u+" "+l+" -"+l+" "+u+" -"+l+" 0 c"),r.push("-"+l+" -"+u+" -"+u+" -"+l+" 0 -"+l+" c"),r.push(u+" -"+l+" "+l+" -"+u+" "+l+" 0 c"),r.push("f"),r.push("Q"),n.stream=r.join(`
`),n},YesPushDown:function(o){var n=Ys(o);n.scope=o.scope;var r=[],l=ti.internal.getWidth(o)<=ti.internal.getHeight(o)?ti.internal.getWidth(o)/4:ti.internal.getHeight(o)/4;l=Number((.9*l).toFixed(5));var d=Number((2*l).toFixed(5)),u=Number((d*ti.internal.Bezier_C).toFixed(5)),y=Number((l*ti.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vl(ti.internal.getWidth(o)/2)+" "+Vl(ti.internal.getHeight(o)/2)+" cm"),r.push(d+" 0 m"),r.push(d+" "+u+" "+u+" "+d+" 0 "+d+" c"),r.push("-"+u+" "+d+" -"+d+" "+u+" -"+d+" 0 c"),r.push("-"+d+" -"+u+" -"+u+" -"+d+" 0 -"+d+" c"),r.push(u+" -"+d+" "+d+" -"+u+" "+d+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Vl(ti.internal.getWidth(o)/2)+" "+Vl(ti.internal.getHeight(o)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+y+" "+y+" "+l+" 0 "+l+" c"),r.push("-"+y+" "+l+" -"+l+" "+y+" -"+l+" 0 c"),r.push("-"+l+" -"+y+" -"+y+" -"+l+" 0 -"+l+" c"),r.push(y+" -"+l+" "+l+" -"+y+" "+l+" 0 c"),r.push("f"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(o){var n=Ys(o);n.scope=o.scope;var r=[],l=ti.internal.getWidth(o)<=ti.internal.getHeight(o)?ti.internal.getWidth(o)/4:ti.internal.getHeight(o)/4;l=Number((.9*l).toFixed(5));var d=Number((2*l).toFixed(5)),u=Number((d*ti.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vl(ti.internal.getWidth(o)/2)+" "+Vl(ti.internal.getHeight(o)/2)+" cm"),r.push(d+" 0 m"),r.push(d+" "+u+" "+u+" "+d+" 0 "+d+" c"),r.push("-"+u+" "+d+" -"+d+" "+u+" -"+d+" 0 c"),r.push("-"+d+" -"+u+" -"+u+" -"+d+" 0 -"+d+" c"),r.push(u+" -"+d+" "+d+" -"+u+" "+d+" 0 c"),r.push("f"),r.push("Q"),n.stream=r.join(`
`),n}},Cross:{createAppearanceStream:function(o){var n={D:{Off:ti.RadioButton.Cross.OffPushDown},N:{}};return n.N[o]=ti.RadioButton.Cross.YesNormal,n.D[o]=ti.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(o){var n=Ys(o);n.scope=o.scope;var r=[],l=ti.internal.calculateCross(o);return r.push("q"),r.push("1 1 "+Ui(ti.internal.getWidth(o)-2)+" "+Ui(ti.internal.getHeight(o)-2)+" re"),r.push("W"),r.push("n"),r.push(Ui(l.x1.x)+" "+Ui(l.x1.y)+" m"),r.push(Ui(l.x2.x)+" "+Ui(l.x2.y)+" l"),r.push(Ui(l.x4.x)+" "+Ui(l.x4.y)+" m"),r.push(Ui(l.x3.x)+" "+Ui(l.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},YesPushDown:function(o){var n=Ys(o);n.scope=o.scope;var r=ti.internal.calculateCross(o),l=[];return l.push("0.749023 g"),l.push("0 0 "+Ui(ti.internal.getWidth(o))+" "+Ui(ti.internal.getHeight(o))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+Ui(ti.internal.getWidth(o)-2)+" "+Ui(ti.internal.getHeight(o)-2)+" re"),l.push("W"),l.push("n"),l.push(Ui(r.x1.x)+" "+Ui(r.x1.y)+" m"),l.push(Ui(r.x2.x)+" "+Ui(r.x2.y)+" l"),l.push(Ui(r.x4.x)+" "+Ui(r.x4.y)+" m"),l.push(Ui(r.x3.x)+" "+Ui(r.x3.y)+" l"),l.push("s"),l.push("Q"),n.stream=l.join(`
`),n},OffPushDown:function(o){var n=Ys(o);n.scope=o.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ui(ti.internal.getWidth(o))+" "+Ui(ti.internal.getHeight(o))+" re"),r.push("f"),n.stream=r.join(`
`),n}}},createDefaultAppearanceStream:function(o){var n=o.scope.internal.getFont(o.fontName,o.fontStyle).id,r=o.scope.__private__.encodeColorString(o.color);return"/"+n+" "+o.fontSize+" Tf "+r}};ti.internal={Bezier_C:.551915024494,calculateCross:function(o){var n=ti.internal.getWidth(o),r=ti.internal.getHeight(o),l=Math.min(n,r);return{x1:{x:(n-l)/2,y:(r-l)/2+l},x2:{x:(n-l)/2+l,y:(r-l)/2},x3:{x:(n-l)/2,y:(r-l)/2},x4:{x:(n-l)/2+l,y:(r-l)/2+l}}}},ti.internal.getWidth=function(o){var n=0;return rn(o)==="object"&&(n=Og(o.Rect[2])),n},ti.internal.getHeight=function(o){var n=0;return rn(o)==="object"&&(n=Og(o.Rect[3])),n};var C5=gr.addField=function(o){if(N5(this,o),!(o instanceof Ms))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=o).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),o.page=o.scope.internal.getCurrentPageInfo().pageNumber,this};gr.AcroFormChoiceField=Ud,gr.AcroFormListBox=Pd,gr.AcroFormComboBox=Hd,gr.AcroFormEditBox=Ou,gr.AcroFormButton=to,gr.AcroFormPushButton=qu,gr.AcroFormRadioButton=Wd,gr.AcroFormCheckBox=Iu,gr.AcroFormTextField=nd,gr.AcroFormPasswordField=Fu,gr.AcroFormAppearance=ti,gr.AcroForm={ChoiceField:Ud,ListBox:Pd,ComboBox:Hd,EditBox:Ou,Button:to,PushButton:qu,RadioButton:Wd,CheckBox:Iu,TextField:nd,PasswordField:Fu,Appearance:ti},pi.AcroForm={ChoiceField:Ud,ListBox:Pd,ComboBox:Hd,EditBox:Ou,Button:to,PushButton:qu,RadioButton:Wd,CheckBox:Iu,TextField:nd,PasswordField:Fu,Appearance:ti};pi.AcroForm;function rb(o){return o.reduce(function(n,r,l){return n[r]=l,n},{})}(function(o){var n="addImage_";o.__addimage__={};var r="UNKNOWN",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},d=o.__addimage__.getImageFileTypeByImageData=function(B,z){var Q,ae,me,K,fe,ce=r;if((z=z||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(Me(B))for(fe in l)for(me=l[fe],Q=0;Q<me.length;Q+=1){for(K=!0,ae=0;ae<me[Q].length;ae+=1)if(me[Q][ae]!==void 0&&me[Q][ae]!==B[ae]){K=!1;break}if(K===!0){ce=fe;break}}else for(fe in l)for(me=l[fe],Q=0;Q<me.length;Q+=1){for(K=!0,ae=0;ae<me[Q].length;ae+=1)if(me[Q][ae]!==void 0&&me[Q][ae]!==B.charCodeAt(ae)){K=!1;break}if(K===!0){ce=fe;break}}return ce===r&&z!==r&&(ce=z),ce},u=function B(z){for(var Q=this.internal.write,ae=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var K=[];if(K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Image"}),K.push({key:"Width",value:z.width}),K.push({key:"Height",value:z.height}),z.colorSpace===F.INDEXED?K.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(K.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===F.DEVICE_CMYK&&K.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),K.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&K.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var fe="",ce=0,Le=z.transparency.length;ce<Le;ce++)fe+=z.transparency[ce]+" "+z.transparency[ce]+" ";K.push({key:"Mask",value:"["+fe+"]"})}z.sMask!==void 0&&K.push({key:"SMask",value:z.objectId+1+" 0 R"});var ze=z.filter!==void 0?["/"+z.filter]:void 0;if(ae({data:z.data,additionalKeyValues:K,alreadyAppliedFilters:ze,objectId:z.objectId}),Q("endobj"),"sMask"in z&&z.sMask!==void 0){var P,_=(P=z.sMaskBitsPerComponent)!==null&&P!==void 0?P:z.bitsPerComponent,R={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:_,data:z.sMask};"filter"in z&&(R.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(_," /Columns ").concat(z.width),R.filter=z.filter),B.call(this,R)}if(z.colorSpace===F.INDEXED){var U=this.internal.newObject();ae({data:se(new Uint8Array(z.palette)),objectId:U}),Q("endobj")}},y=function(){var B=this.internal.collections[n+"images"];for(var z in B)u.call(this,B[z])},m=function(){var B,z=this.internal.collections[n+"images"],Q=this.internal.write;for(var ae in z)Q("/I"+(B=z[ae]).index,B.objectId,"0","R")},x=function(){this.internal.collections[n+"images"]||(this.internal.collections[n+"images"]={},this.internal.events.subscribe("putResources",y),this.internal.events.subscribe("putXobjectDict",m))},b=function(){var B=this.internal.collections[n+"images"];return x.call(this),B},j=function(){return Object.keys(this.internal.collections[n+"images"]).length},C=function(B){return typeof o["process"+B.toUpperCase()]=="function"},M=function(B){return rn(B)==="object"&&B.nodeType===1},A=function(B,z){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var Q=""+B.getAttribute("src");if(Q.indexOf("data:image/")===0)return Ru(unescape(Q).split("base64,").pop());var ae=o.loadFile(Q,!0);if(ae!==void 0)return ae}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var me;switch(z){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;default:me="image/jpeg"}return Ru(B.toDataURL(me,1).split("base64,").pop())}},O=function(B){var z=this.internal.collections[n+"images"];if(z){for(var Q in z)if(B===z[Q].alias)return z[Q]}},V=function(B,z,Q){return B||z||(B=-96,z=-96),B<0&&(B=-1*Q.width*72/B/this.internal.scaleFactor),z<0&&(z=-1*Q.height*72/z/this.internal.scaleFactor),B===0&&(B=z*Q.width/Q.height),z===0&&(z=B*Q.height/Q.width),[B,z]},J=function(B,z,Q,ae,me,K){var fe=V.call(this,Q,ae,me),ce=this.internal.getCoordinateString,Le=this.internal.getVerticalCoordinateString,ze=b.call(this);if(Q=fe[0],ae=fe[1],ze[me.index]=me,K){K*=Math.PI/180;var P=Math.cos(K),_=Math.sin(K),R=function(Z){return Z.toFixed(4)},U=[R(P),R(_),R(-1*_),R(P),0,0,"cm"]}this.internal.write("q"),K?(this.internal.write([1,"0","0",1,ce(B),Le(z+ae),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([ce(Q),"0","0",ce(ae),"0","0","cm"].join(" "))):this.internal.write([ce(Q),"0","0",ce(ae),ce(B),Le(z+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},F=o.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};o.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var ge=o.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},re=o.__addimage__.sHashCode=function(B){var z,Q,ae=0;if(typeof B=="string")for(Q=B.length,z=0;z<Q;z++)ae=(ae<<5)-ae+B.charCodeAt(z),ae|=0;else if(Me(B))for(Q=B.byteLength/2,z=0;z<Q;z++)ae=(ae<<5)-ae+B[z],ae|=0;return ae},ne=o.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var z=!0;return B.length===0&&(z=!1),B.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(z=!1),z},ue=o.__addimage__.extractImageFromDataUrl=function(B){if(B==null||!(B=B.trim()).startsWith("data:"))return null;var z=B.indexOf(",");return z<0?null:B.substring(0,z).trim().endsWith("base64")?B.substring(z+1):null};o.__addimage__.isArrayBuffer=function(B){return B instanceof ArrayBuffer};var Me=o.__addimage__.isArrayBufferView=function(B){return B instanceof Int8Array||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array},he=o.__addimage__.binaryStringToUint8Array=function(B){for(var z=B.length,Q=new Uint8Array(z),ae=0;ae<z;ae++)Q[ae]=B.charCodeAt(ae);return Q},se=o.__addimage__.arrayBufferToBinaryString=function(B){for(var z="",Q=Me(B)?B:new Uint8Array(B),ae=0;ae<Q.length;ae+=8192)z+=String.fromCharCode.apply(null,Q.subarray(ae,ae+8192));return z};o.addImage=function(){var B,z,Q,ae,me,K,fe,ce,Le;if(typeof arguments[1]=="number"?(z=r,Q=arguments[1],ae=arguments[2],me=arguments[3],K=arguments[4],fe=arguments[5],ce=arguments[6],Le=arguments[7]):(z=arguments[1],Q=arguments[2],ae=arguments[3],me=arguments[4],K=arguments[5],fe=arguments[6],ce=arguments[7],Le=arguments[8]),rn(B=arguments[0])==="object"&&!M(B)&&"imageData"in B){var ze=B;B=ze.imageData,z=ze.format||z||r,Q=ze.x||Q||0,ae=ze.y||ae||0,me=ze.w||ze.width||me,K=ze.h||ze.height||K,fe=ze.alias||fe,ce=ze.compression||ce,Le=ze.rotation||ze.angle||Le}var P=this.internal.getFilters();if(ce===void 0&&P.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(Q)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");x.call(this);var _=q.call(this,B,z,fe,ce);return J.call(this,Q,ae,me,K,_,Le),this};var q=function(B,z,Q,ae){var me,K,fe;if(typeof B=="string"&&d(B)===r){B=unescape(B);var ce=$(B,!1);(ce!==""||(ce=o.loadFile(B,!0))!==void 0)&&(B=ce)}if(M(B)&&(B=A(B,z)),z=d(B,z),!C(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((fe=Q)==null||fe.length===0)&&(Q=(function(Le){return typeof Le=="string"||Me(Le)?re(Le):Me(Le.data)?re(Le.data):null})(B)),(me=O.call(this,Q))||(B instanceof Uint8Array||z==="RGBA"||(K=B,B=he(B)),me=this["process"+z.toUpperCase()](B,j.call(this),Q,(function(Le){return Le&&typeof Le=="string"&&(Le=Le.toUpperCase()),Le in o.image_compression?Le:ge.NONE})(ae),K)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},$=o.__addimage__.convertBase64ToBinaryString=function(B,z){z=typeof z!="boolean"||z;var Q,ae="";if(typeof B=="string"){var me;Q=(me=ue(B))!==null&&me!==void 0?me:B;try{ae=Ru(Q)}catch(K){if(z)throw ne(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+K.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};o.getImageProperties=function(B){var z,Q,ae="";if(M(B)&&(B=A(B)),typeof B=="string"&&d(B)===r&&((ae=$(B,!1))===""&&(ae=o.loadFile(B)||""),B=ae),Q=d(B),!C(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(B instanceof Uint8Array||(B=he(B)),!(z=this["process"+Q.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=Q,z}})(pi.API),(function(o){var n=function(r){if(r!==void 0&&r!="")return!0};pi.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),o.events.push(["putPage",function(r){for(var l,d,u,y=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString,x=this.internal.getPageInfoByObjId(r.objId),b=r.pageContext.annotations,j=!1,C=0;C<b.length&&!j;C++)switch((l=b[C]).type){case"link":(n(l.options.url)||n(l.options.pageNumber))&&(j=!0);break;case"reference":case"text":case"freetext":j=!0}if(j!=0){this.internal.write("/Annots [");for(var M=0;M<b.length;M++){l=b[M];var A=this.internal.pdfEscape,O=this.internal.getEncryptor(r.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var V=this.internal.newAdditionalObject(),J=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(V.objId),ge=l.title||"Note";u="<</Type /Annot /Subtype /Text "+(d="/Rect ["+y(l.bounds.x)+" "+m(l.bounds.y+l.bounds.h)+" "+y(l.bounds.x+l.bounds.w)+" "+m(l.bounds.y)+"] ")+"/Contents ("+A(F(l.contents))+")",u+=" /Popup "+J.objId+" 0 R",u+=" /P "+x.objId+" 0 R",u+=" /T ("+A(F(ge))+") >>",V.content=u;var re=V.objId+" 0 R";u="<</Type /Annot /Subtype /Popup "+(d="/Rect ["+y(l.bounds.x+30)+" "+m(l.bounds.y+l.bounds.h)+" "+y(l.bounds.x+l.bounds.w+30)+" "+m(l.bounds.y)+"] ")+" /Parent "+re,l.open&&(u+=" /Open true"),u+=" >>",J.content=u,this.internal.write(V.objId,"0 R",J.objId,"0 R");break;case"freetext":d="/Rect ["+y(l.bounds.x)+" "+m(l.bounds.y)+" "+y(l.bounds.x+l.bounds.w)+" "+m(l.bounds.y+l.bounds.h)+"] ";var ne=l.color||"#000000";u="<</Type /Annot /Subtype /FreeText "+d+"/Contents ("+A(O(l.contents))+")",u+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ne+")",u+=" /Border [0 0 0]",u+=" >>",this.internal.write(u);break;case"link":if(l.options.name){var ue=this.annotations._nameMap[l.options.name];l.options.pageNumber=ue.page,l.options.top=ue.y}else l.options.top||(l.options.top=0);if(d="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",u="",l.options.url)u="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /A <</S /URI /URI ("+A(O(l.options.url))+") >>";else if(l.options.pageNumber)switch(u="<</Type /Annot /Subtype /Link "+d+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":u+=" /Fit]";break;case"FitH":u+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,u+=" /FitV "+l.options.left+"]";break;default:var Me=m(l.options.top);l.options.left=l.options.left||0,l.options.zoom===void 0&&(l.options.zoom=0),u+=" /XYZ "+l.options.left+" "+Me+" "+l.options.zoom+"]"}u!=""&&(u+=" >>",this.internal.write(u))}}this.internal.write("]")}}]),o.createAnnotation=function(r){var l=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":l.pageContext.annotations.push(r)}},o.link=function(r,l,d,u,y){var m=this.internal.getCurrentPageInfo(),x=this.internal.getCoordinateString,b=this.internal.getVerticalCoordinateString;m.pageContext.annotations.push({finalBounds:{x:x(r),y:b(l),w:x(r+d),h:b(l+u)},options:y,type:"link"})},o.textWithLink=function(r,l,d,u){var y,m,x=this.getTextWidth(r),b=this.internal.getLineHeight()/this.internal.scaleFactor;if(u.maxWidth!==void 0){m=u.maxWidth;var j=this.splitTextToSize(r,m).length;y=Math.ceil(b*j)}else m=x,y=b;return this.text(r,l,d,u),d+=.2*b,u.align==="center"&&(l-=x/2),u.align==="right"&&(l-=x),this.link(l,d-b,m,y,u),x},o.getTextWidth=function(r){var l=this.internal.getFontSize();return this.getStringUnitWidth(r)*l/this.internal.scaleFactor}})(pi.API),(function(o){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},d=[1570,1571,1573,1575];o.__arabicParser__={};var u=o.__arabicParser__.isInArabicSubstitutionA=function(V){return n[V.charCodeAt(0)]!==void 0},y=o.__arabicParser__.isArabicLetter=function(V){return typeof V=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(V)},m=o.__arabicParser__.isArabicEndLetter=function(V){return y(V)&&u(V)&&n[V.charCodeAt(0)].length<=2},x=o.__arabicParser__.isArabicAlfLetter=function(V){return y(V)&&d.indexOf(V.charCodeAt(0))>=0};o.__arabicParser__.arabicLetterHasIsolatedForm=function(V){return y(V)&&u(V)&&n[V.charCodeAt(0)].length>=1};var b=o.__arabicParser__.arabicLetterHasFinalForm=function(V){return y(V)&&u(V)&&n[V.charCodeAt(0)].length>=2};o.__arabicParser__.arabicLetterHasInitialForm=function(V){return y(V)&&u(V)&&n[V.charCodeAt(0)].length>=3};var j=o.__arabicParser__.arabicLetterHasMedialForm=function(V){return y(V)&&u(V)&&n[V.charCodeAt(0)].length==4},C=o.__arabicParser__.resolveLigatures=function(V){var J=0,F=r,ge="",re=0;for(J=0;J<V.length;J+=1)F[V.charCodeAt(J)]!==void 0?(re++,typeof(F=F[V.charCodeAt(J)])=="number"&&(ge+=String.fromCharCode(F),F=r,re=0),J===V.length-1&&(F=r,ge+=V.charAt(J-(re-1)),J-=re-1,re=0)):(F=r,ge+=V.charAt(J-re),J-=re,re=0);return ge};o.__arabicParser__.isArabicDiacritic=function(V){return V!==void 0&&l[V.charCodeAt(0)]!==void 0};var M=o.__arabicParser__.getCorrectForm=function(V,J,F){return y(V)?u(V)===!1?-1:!b(V)||!y(J)&&!y(F)||!y(F)&&m(J)||m(V)&&!y(J)||m(V)&&x(J)||m(V)&&m(J)?0:j(V)&&y(J)&&!m(J)&&y(F)&&b(F)?3:m(V)||!y(F)?1:2:-1},A=function(V){var J=0,F=0,ge=0,re="",ne="",ue="",Me=(V=V||"").split("\\s+"),he=[];for(J=0;J<Me.length;J+=1){for(he.push(""),F=0;F<Me[J].length;F+=1)re=Me[J][F],ne=Me[J][F-1],ue=Me[J][F+1],y(re)?(ge=M(re,ne,ue),he[J]+=ge!==-1?String.fromCharCode(n[re.charCodeAt(0)][ge]):re):he[J]+=re;he[J]=C(he[J])}return he.join(" ")},O=o.__arabicParser__.processArabic=o.processArabic=function(){var V,J=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(J)){var ge=0;for(F=[],ge=0;ge<J.length;ge+=1)Array.isArray(J[ge])?F.push([A(J[ge][0]),J[ge][1],J[ge][2]]):F.push([A(J[ge])]);V=F}else V=A(J);return typeof arguments[0]=="string"?V:(arguments[0].text=V,arguments[0])};o.events.push(["preProcessText",O])})(pi.API),pi.API.autoPrint=function(o){var n;return(o=o||{}).variant=o.variant||"non-conform",o.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})),this},(function(o){var n=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(m){r=m}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(m){l=isNaN(m)||Number.isInteger(m)===!1||m<0?150:m,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var d=300;Object.defineProperty(this,"height",{get:function(){return d},set:function(m){d=isNaN(m)||Number.isInteger(m)===!1||m<0?300:m,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=d+1)}});var u=[];Object.defineProperty(this,"childNodes",{get:function(){return u},set:function(m){u=m}});var y={};Object.defineProperty(this,"style",{get:function(){return y},set:function(m){y=m}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(r,l){var d;if((r=r||"2d")!=="2d")return null;for(d in l)this.pdf.context2d.hasOwnProperty(d)&&(this.pdf.context2d[d]=l[d]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},o.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])})(pi.API),(function(o){var n={left:0,top:0,bottom:0,right:0},r=!1,l=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),d.call(this))},d=function(){this.internal.__cell__.lastCell=new u,this.internal.__cell__.pages=1},u=function(){var x=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return x},set:function(V){x=V}});var b=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return b},set:function(V){b=V}});var j=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return j},set:function(V){j=V}});var C=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return C},set:function(V){C=V}});var M=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return M},set:function(V){M=V}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(V){A=V}});var O=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return O},set:function(V){O=V}}),this};u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},u.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},o.setHeaderFunction=function(x){return l.call(this),this.internal.__cell__.headerFunction=typeof x=="function"?x:void 0,this},o.getTextDimensions=function(x,b){l.call(this);var j=(b=b||{}).fontSize||this.getFontSize(),C=b.font||this.getFont(),M=b.scaleFactor||this.internal.scaleFactor,A=0,O=0,V=0,J=this;if(!Array.isArray(x)&&typeof x!="string"){if(typeof x!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");x=String(x)}var F=b.maxWidth;F>0?typeof x=="string"?x=this.splitTextToSize(x,F):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(re,ne){return re.concat(J.splitTextToSize(ne,F))},[])):x=Array.isArray(x)?x:[x];for(var ge=0;ge<x.length;ge++)A<(V=this.getStringUnitWidth(x[ge],{font:C})*j)&&(A=V);return A!==0&&(O=x.length),{w:A/=M,h:Math.max((O*j*this.getLineHeightFactor()-j*(this.getLineHeightFactor()-1))/M,0)}},o.cellAddPage=function(){l.call(this),this.addPage();var x=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new u(x.left,x.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var y=o.cell=function(){var x;x=arguments[0]instanceof u?arguments[0]:new u(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),l.call(this);var b=this.internal.__cell__.lastCell,j=this.internal.__cell__.padding,C=this.internal.__cell__.margins||n,M=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return b.lineNumber!==void 0&&(b.lineNumber===x.lineNumber?(x.x=(b.x||0)+(b.width||0),x.y=b.y||0):b.y+b.height+x.height+C.bottom>this.getPageHeight()?(this.cellAddPage(),x.y=C.top,A&&M&&(this.printHeaderRow(x.lineNumber,!0),x.y+=M[0].height)):x.y=b.y+b.height||x.y),x.text[0]!==void 0&&(this.rect(x.x,x.y,x.width,x.height,r===!0?"FD":void 0),x.align==="right"?this.text(x.text,x.x+x.width-j,x.y+j,{align:"right",baseline:"top"}):x.align==="center"?this.text(x.text,x.x+x.width/2,x.y+j,{align:"center",baseline:"top",maxWidth:x.width-j-j}):this.text(x.text,x.x+j,x.y+j,{align:"left",baseline:"top",maxWidth:x.width-j-j})),this.internal.__cell__.lastCell=x,this};o.table=function(x,b,j,C,M){if(l.call(this),!j)throw new Error("No data for PDF table.");var A,O,V,J,F=[],ge=[],re=[],ne={},ue={},Me=[],he=[],se=(M=M||{}).autoSize||!1,q=M.printHeaders!==!1,$=M.css&&M.css["font-size"]!==void 0?16*M.css["font-size"]:M.fontSize||12,B=M.margins||Object.assign({width:this.getPageWidth()},n),z=typeof M.padding=="number"?M.padding:3,Q=M.headerBackgroundColor||"#c8c8c8",ae=M.headerTextColor||"#000";if(d.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=ae,this.setFontSize($),C==null)ge=F=Object.keys(j[0]),re=F.map(function(){return"left"});else if(Array.isArray(C)&&rn(C[0])==="object")for(F=C.map(function(ze){return ze.name}),ge=C.map(function(ze){return ze.prompt||ze.name||""}),re=C.map(function(ze){return ze.align||"left"}),A=0;A<C.length;A+=1)ue[C[A].name]=.7499990551181103*C[A].width;else Array.isArray(C)&&typeof C[0]=="string"&&(ge=F=C,re=F.map(function(){return"left"}));if(se||Array.isArray(C)&&typeof C[0]=="string")for(A=0;A<F.length;A+=1){for(ne[J=F[A]]=j.map(function(ze){return ze[J]}),this.setFont(void 0,"bold"),Me.push(this.getTextDimensions(ge[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),O=ne[J],this.setFont(void 0,"normal"),V=0;V<O.length;V+=1)Me.push(this.getTextDimensions(O[V],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ue[J]=Math.max.apply(null,Me)+z+z,Me=[]}if(q){var me={};for(A=0;A<F.length;A+=1)me[F[A]]={},me[F[A]].text=ge[A],me[F[A]].align=re[A];var K=m.call(this,me,ue);he=F.map(function(ze){return new u(x,b,ue[ze],K,me[ze].text,void 0,me[ze].align)}),this.setTableHeaderRow(he),this.printHeaderRow(1,!1)}var fe=C.reduce(function(ze,P){return ze[P.name]=P.align,ze},{});for(A=0;A<j.length;A+=1){"rowStart"in M&&M.rowStart instanceof Function&&M.rowStart({row:A,data:j[A]},this);var ce=m.call(this,j[A],ue);for(V=0;V<F.length;V+=1){var Le=j[A][F[V]];"cellStart"in M&&M.cellStart instanceof Function&&M.cellStart({row:A,col:V,data:Le},this),y.call(this,new u(x,b,ue[F[V]],ce,Le,A+2,fe[F[V]]))}}return this.internal.__cell__.table_x=x,this.internal.__cell__.table_y=b,this};var m=function(x,b){var j=this.internal.__cell__.padding,C=this.internal.__cell__.table_font_size,M=this.internal.scaleFactor;return Object.keys(x).map(function(A){var O=x[A];return this.splitTextToSize(O.hasOwnProperty("text")?O.text:O,b[A]-j-j)},this).map(function(A){return this.getLineHeightFactor()*A.length*C/M+j+j},this).reduce(function(A,O){return Math.max(A,O)},0)};o.setTableHeaderRow=function(x){l.call(this),this.internal.__cell__.tableHeaderRow=x},o.printHeaderRow=function(x,b){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var j;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var C=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new u(C[0],C[1],C[2],C[3],void 0,-1)}this.setFont(void 0,"bold");for(var M=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){j=this.internal.__cell__.tableHeaderRow[A].clone(),b&&(j.y=this.internal.__cell__.margins.top||0,M.push(j)),j.lineNumber=x;var O=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),y.call(this,j),this.setTextColor(O)}M.length>0&&this.setTableHeaderRow(M),this.setFont(void 0,"normal"),r=!1}})(pi.API);var ob={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e0=rb(sb),lb=[100,200,300,400,500,600,700,800,900],B5=rb(lb);function Tp(o){var n=o.family.replace(/"|'/g,"").toLowerCase(),r=(function(u){return ob[u=u||"normal"]?u:"normal"})(o.style),l=(function(u){return u?typeof u=="number"?u>=100&&u<=900&&u%100==0?u:400:/^\d00$/.test(u)?parseInt(u):u==="bold"?700:400:400})(o.weight),d=(function(u){return typeof e0[u=u||"normal"]=="number"?u:"normal"})(o.stretch);return{family:n,style:r,weight:l,stretch:d,src:o.src||[],ref:o.ref||{name:n,style:[d,r,l].join(" ")}}}function qg(o,n,r,l){var d;for(d=r;d>=0&&d<n.length;d+=l)if(o[n[d]])return o[n[d]];for(d=r;d>=0&&d<n.length;d-=l)if(o[n[d]])return o[n[d]]}var k5={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ig={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Fg(o){return[o.stretch,o.style,o.weight,o.family].join(" ")}function Vg(o){return o.trimLeft()}function M5(o,n){for(var r=0;r<o.length;){if(o.charAt(r)===n)return[o.substring(0,r),o.substring(r+1)];r+=1}return null}function G5(o){var n=o.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],o.substring(n[0].length)]}var Gu,Dg,Ug,Od,Lu,Pg,Hg,Wg,zp=["times"];function Yg(o,n,r,l,d){var u=4,y=Zg;switch(d){case pi.API.image_compression.FAST:u=1,y=Xg;break;case pi.API.image_compression.MEDIUM:u=6,y=Kg;break;case pi.API.image_compression.SLOW:u=9,y=Jg}o=(function(x,b,j,C){for(var M,A=x.length/b,O=new Uint8Array(x.length+A),V=[L5,Xg,Zg,Kg,Jg],J=0;J<A;J+=1){var F=J*b,ge=x.subarray(F,F+b);if(C)O.set(C(ge,j,M),F+J);else{for(var re=V.length,ne=[],ue=0;ue<re;ue+=1)ne[ue]=V[ue](ge,j,M);var Me=z5(ne.concat());O.set(ne[Me],F+J)}M=ge}return O})(o,n,Math.ceil(r*l/8),y);var m=Yp(o,{level:u});return pi.API.__addimage__.arrayBufferToBinaryString(m)}function L5(o){var n=Array.apply([],o);return n.unshift(0),n}function Xg(o,n){var r=o.length,l=[];l[0]=1;for(var d=0;d<r;d+=1){var u=o[d-n]||0;l[d+1]=o[d]-u+256&255}return l}function Zg(o,n,r){var l=o.length,d=[];d[0]=2;for(var u=0;u<l;u+=1){var y=r&&r[u]||0;d[u+1]=o[u]-y+256&255}return d}function Kg(o,n,r){var l=o.length,d=[];d[0]=3;for(var u=0;u<l;u+=1){var y=o[u-n]||0,m=r&&r[u]||0;d[u+1]=o[u]+256-(y+m>>>1)&255}return d}function Jg(o,n,r){var l=o.length,d=[];d[0]=4;for(var u=0;u<l;u+=1){var y=T5(o[u-n]||0,r&&r[u]||0,r&&r[u-n]||0);d[u+1]=o[u]-y+256&255}return d}function T5(o,n,r){if(o===n&&n===r)return o;var l=Math.abs(n-r),d=Math.abs(o-r),u=Math.abs(o+n-r-r);return l<=d&&l<=u?o:d<=u?n:r}function z5(o){var n=o.map(function(r){return r.reduce(function(l,d){return l+Math.abs(d)},0)});return n.indexOf(Math.min.apply(null,n))}function Ep(o,n,r){var l=n*r,d=Math.floor(l/8),u=16-(l-8*d+r),y=(1<<r)-1;return db(o,d)>>u&y}function Qg(o,n,r,l){var d=r*l,u=Math.floor(d/8),y=16-(d-8*u+l),m=(1<<l)-1,x=(n&m)<<y;(function(b,j,C){if(j+1<b.byteLength)b.setUint16(j,C,!1);else{var M=C>>8&255;b.setUint8(j,M)}})(o,u,db(o,u)&~(m<<y)&65535|x)}function db(o,n){return n+1<o.byteLength?o.getUint16(n,!1):o.getUint8(n)<<8}function E5(o){var n=0;if(o[n++]!==71||o[n++]!==73||o[n++]!==70||o[n++]!==56||(o[n++]+1&253)!=56||o[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=o[n++]|o[n++]<<8,l=o[n++]|o[n++]<<8,d=o[n++],u=d>>7,y=1<<1+(7&d);o[n++],o[n++];var m=null,x=null;u&&(m=n,x=y,n+=3*y);var b=!0,j=[],C=0,M=null,A=0,O=null;for(this.width=r,this.height=l;b&&n<o.length;)switch(o[n++]){case 33:switch(o[n++]){case 255:if(o[n]!==11||o[n+1]==78&&o[n+2]==69&&o[n+3]==84&&o[n+4]==83&&o[n+5]==67&&o[n+6]==65&&o[n+7]==80&&o[n+8]==69&&o[n+9]==50&&o[n+10]==46&&o[n+11]==48&&o[n+12]==3&&o[n+13]==1&&o[n+16]==0)n+=14,O=o[n++]|o[n++]<<8,n++;else for(n+=12;;){if(!((B=o[n++])>=0))throw Error("Invalid block size");if(B===0)break;n+=B}break;case 249:if(o[n++]!==4||o[n+4]!==0)throw new Error("Invalid graphics extension block.");var V=o[n++];C=o[n++]|o[n++]<<8,M=o[n++],1&V||(M=null),A=V>>2&7,n++;break;case 254:for(;;){if(!((B=o[n++])>=0))throw Error("Invalid block size");if(B===0)break;n+=B}break;default:throw new Error("Unknown graphic control label: 0x"+o[n-1].toString(16))}break;case 44:var J=o[n++]|o[n++]<<8,F=o[n++]|o[n++]<<8,ge=o[n++]|o[n++]<<8,re=o[n++]|o[n++]<<8,ne=o[n++],ue=ne>>6&1,Me=1<<1+(7&ne),he=m,se=x,q=!1;ne>>7&&(q=!0,he=n,se=Me,n+=3*Me);var $=n;for(n++;;){var B;if(!((B=o[n++])>=0))throw Error("Invalid block size");if(B===0)break;n+=B}j.push({x:J,y:F,width:ge,height:re,has_local_palette:q,palette_offset:he,palette_size:se,data_offset:$,data_length:n-$,transparent_index:M,interlaced:!!ue,delay:C,disposal:A});break;case 59:b=!1;break;default:throw new Error("Unknown gif block: 0x"+o[n-1].toString(16))}this.numFrames=function(){return j.length},this.loopCount=function(){return O},this.frameInfo=function(z){if(z<0||z>=j.length)throw new Error("Frame index out of range.");return j[z]},this.decodeAndBlitFrameBGRA=function(z,Q){var ae=this.frameInfo(z),me=ae.width*ae.height,K=new Uint8Array(me);$g(o,ae.data_offset,K,me);var fe=ae.palette_offset,ce=ae.transparent_index;ce===null&&(ce=256);var Le=ae.width,ze=r-Le,P=Le,_=4*(ae.y*r+ae.x),R=4*((ae.y+ae.height)*r+ae.x),U=_,Z=4*ze;ae.interlaced===!0&&(Z+=4*r*7);for(var le=8,ye=0,qe=K.length;ye<qe;++ye){var Ie=K[ye];if(P===0&&(P=Le,(U+=Z)>=R&&(Z=4*ze+4*r*(le-1),U=_+(Le+ze)*(le<<1),le>>=1)),Ie===ce)U+=4;else{var Xe=o[fe+3*Ie],He=o[fe+3*Ie+1],ut=o[fe+3*Ie+2];Q[U++]=ut,Q[U++]=He,Q[U++]=Xe,Q[U++]=255}--P}},this.decodeAndBlitFrameRGBA=function(z,Q){var ae=this.frameInfo(z),me=ae.width*ae.height,K=new Uint8Array(me);$g(o,ae.data_offset,K,me);var fe=ae.palette_offset,ce=ae.transparent_index;ce===null&&(ce=256);var Le=ae.width,ze=r-Le,P=Le,_=4*(ae.y*r+ae.x),R=4*((ae.y+ae.height)*r+ae.x),U=_,Z=4*ze;ae.interlaced===!0&&(Z+=4*r*7);for(var le=8,ye=0,qe=K.length;ye<qe;++ye){var Ie=K[ye];if(P===0&&(P=Le,(U+=Z)>=R&&(Z=4*ze+4*r*(le-1),U=_+(Le+ze)*(le<<1),le>>=1)),Ie===ce)U+=4;else{var Xe=o[fe+3*Ie],He=o[fe+3*Ie+1],ut=o[fe+3*Ie+2];Q[U++]=Xe,Q[U++]=He,Q[U++]=ut,Q[U++]=255}--P}}}function $g(o,n,r,l){for(var d=o[n++],u=1<<d,y=u+1,m=y+1,x=d+1,b=(1<<x)-1,j=0,C=0,M=0,A=o[n++],O=new Int32Array(4096),V=null;;){for(;j<16&&A!==0;)C|=o[n++]<<j,j+=8,A===1?A=o[n++]:--A;if(j<x)break;var J=C&b;if(C>>=x,j-=x,J!==u){if(J===y)break;for(var F=J<m?J:V,ge=0,re=F;re>u;)re=O[re]>>8,++ge;var ne=re;if(M+ge+(F!==J?1:0)>l)return void An.log("Warning, gif stream longer than expected.");r[M++]=ne;var ue=M+=ge;for(F!==J&&(r[M++]=ne),re=F;ge--;)re=O[re],r[--ue]=255&re,re>>=8;V!==null&&m<4096&&(O[m++]=V<<8|ne,m>=b+1&&x<12&&(++x,b=b<<1|1)),V=J}else m=y+1,b=(1<<(x=d+1))-1,V=null}return M!==l&&An.log("Warning, gif stream shorter than expected."),r}function Rp(o){var n,r,l,d,u,y=Math.floor,m=new Array(64),x=new Array(64),b=new Array(64),j=new Array(64),C=new Array(65535),M=new Array(65535),A=new Array(64),O=new Array(64),V=[],J=0,F=7,ge=new Array(64),re=new Array(64),ne=new Array(64),ue=new Array(256),Me=new Array(2048),he=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],se=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(_,R){for(var U=0,Z=0,le=new Array,ye=1;ye<=16;ye++){for(var qe=1;qe<=_[ye];qe++)le[R[Z]]=[],le[R[Z]][0]=U,le[R[Z]][1]=ye,Z++,U++;U*=2}return le}function fe(_){for(var R=_[0],U=_[1]-1;U>=0;)R&1<<U&&(J|=1<<F),U--,--F<0&&(J==255?(ce(255),ce(0)):ce(J),F=7,J=0)}function ce(_){V.push(_)}function Le(_){ce(_>>8&255),ce(255&_)}function ze(_,R,U,Z,le){for(var ye,qe=le[0],Ie=le[240],Xe=(function(lt,Kt){var zt,Mt,Ct,hi,ki,ai,Oi,ui,Rt,si,It=0;for(Rt=0;Rt<8;++Rt){zt=lt[It],Mt=lt[It+1],Ct=lt[It+2],hi=lt[It+3],ki=lt[It+4],ai=lt[It+5],Oi=lt[It+6];var ta=zt+(ui=lt[It+7]),$t=zt-ui,T=Mt+Oi,Ne=Mt-Oi,nt=Ct+ai,Ke=Ct-ai,_t=hi+ki,bt=hi-ki,At=ta+_t,bi=ta-_t,Bt=T+nt,vt=T-nt;lt[It]=At+Bt,lt[It+4]=At-Bt;var ci=.707106781*(vt+bi);lt[It+2]=bi+ci,lt[It+6]=bi-ci;var on=.382683433*((At=bt+Ke)-(vt=Ne+$t)),ia=.5411961*At+on,Oa=1.306562965*vt+on,Li=.707106781*(Bt=Ke+Ne),Ut=$t+Li,gn=$t-Li;lt[It+5]=gn+ia,lt[It+3]=gn-ia,lt[It+1]=Ut+Oa,lt[It+7]=Ut-Oa,It+=8}for(It=0,Rt=0;Rt<8;++Rt){zt=lt[It],Mt=lt[It+8],Ct=lt[It+16],hi=lt[It+24],ki=lt[It+32],ai=lt[It+40],Oi=lt[It+48];var mt=zt+(ui=lt[It+56]),Ka=zt-ui,Ja=Mt+Oi,Yi=Mt-Oi,Qa=Ct+ai,qa=Ct-ai,mn=hi+ki,xa=hi-ki,Xi=mt+mn,sa=mt-mn,wa=Ja+Qa,St=Ja-Qa;lt[It]=Xi+wa,lt[It+32]=Xi-wa;var gt=.707106781*(St+sa);lt[It+16]=sa+gt,lt[It+48]=sa-gt;var Yn=.382683433*((Xi=xa+qa)-(St=Yi+Ka)),Ha=.5411961*Xi+Yn,sn=1.306562965*St+Yn,Wa=.707106781*(wa=qa+Yi),Xn=Ka+Wa,Cn=Ka-Wa;lt[It+40]=Cn+Ha,lt[It+24]=Cn-Ha,lt[It+8]=Xn+sn,lt[It+56]=Xn-sn,It++}for(Rt=0;Rt<64;++Rt)si=lt[Rt]*Kt[Rt],A[Rt]=si>0?si+.5|0:si-.5|0;return A})(_,R),He=0;He<64;++He)O[he[He]]=Xe[He];var ut=O[0]-U;U=O[0],ut==0?fe(Z[0]):(fe(Z[M[ye=32767+ut]]),fe(C[ye]));for(var jt=63;jt>0&&O[jt]==0;)jt--;if(jt==0)return fe(qe),U;for(var Ft,X=1;X<=jt;){for(var pt=X;O[X]==0&&X<=jt;)++X;var Tt=X-pt;if(Tt>=16){Ft=Tt>>4;for(var Yt=1;Yt<=Ft;++Yt)fe(Ie);Tt&=15}ye=32767+O[X],fe(le[(Tt<<4)+M[ye]]),fe(C[ye]),X++}return jt!=63&&fe(qe),U}function P(_){_=Math.min(Math.max(_,1),100),u!=_&&((function(R){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var le=y((U[Z]*R+50)/100);le=Math.min(Math.max(le,1),255),m[he[Z]]=le}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],qe=0;qe<64;qe++){var Ie=y((ye[qe]*R+50)/100);Ie=Math.min(Math.max(Ie,1),255),x[he[qe]]=Ie}for(var Xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,ut=0;ut<8;ut++)for(var jt=0;jt<8;jt++)b[He]=1/(m[he[He]]*Xe[ut]*Xe[jt]*8),j[He]=1/(x[he[He]]*Xe[ut]*Xe[jt]*8),He++})(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),u=_)}this.encode=function(_,R){R&&P(R),V=new Array,J=0,F=7,Le(65496),Le(65504),Le(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),Le(1),Le(1),ce(0),ce(0),(function(){Le(65499),Le(132),ce(0);for(var Mt=0;Mt<64;Mt++)ce(m[Mt]);ce(1);for(var Ct=0;Ct<64;Ct++)ce(x[Ct])})(),(function(Mt,Ct){Le(65472),Le(17),ce(8),Le(Ct),Le(Mt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(_.width,_.height),(function(){Le(65476),Le(418),ce(0);for(var Mt=0;Mt<16;Mt++)ce(se[Mt+1]);for(var Ct=0;Ct<=11;Ct++)ce(q[Ct]);ce(16);for(var hi=0;hi<16;hi++)ce($[hi+1]);for(var ki=0;ki<=161;ki++)ce(B[ki]);ce(1);for(var ai=0;ai<16;ai++)ce(z[ai+1]);for(var Oi=0;Oi<=11;Oi++)ce(Q[Oi]);ce(17);for(var ui=0;ui<16;ui++)ce(ae[ui+1]);for(var Rt=0;Rt<=161;Rt++)ce(me[Rt])})(),Le(65498),Le(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var U=0,Z=0,le=0;J=0,F=7,this.encode.displayName="_encode_";for(var ye,qe,Ie,Xe,He,ut,jt,Ft,X,pt=_.data,Tt=_.width,Yt=_.height,lt=4*Tt,Kt=0;Kt<Yt;){for(ye=0;ye<lt;){for(He=lt*Kt+ye,jt=-1,Ft=0,X=0;X<64;X++)ut=He+(Ft=X>>3)*lt+(jt=4*(7&X)),Kt+Ft>=Yt&&(ut-=lt*(Kt+1+Ft-Yt)),ye+jt>=lt&&(ut-=ye+jt-lt+4),qe=pt[ut++],Ie=pt[ut++],Xe=pt[ut++],ge[X]=(Me[qe]+Me[Ie+256|0]+Me[Xe+512|0]>>16)-128,re[X]=(Me[qe+768|0]+Me[Ie+1024|0]+Me[Xe+1280|0]>>16)-128,ne[X]=(Me[qe+1280|0]+Me[Ie+1536|0]+Me[Xe+1792|0]>>16)-128;U=ze(ge,b,U,n,l),Z=ze(re,j,Z,r,d),le=ze(ne,j,le,r,d),ye+=32}Kt+=8}if(F>=0){var zt=[];zt[1]=F+1,zt[0]=(1<<F+1)-1,fe(zt)}return Le(65497),new Uint8Array(V)},o=o||50,(function(){for(var _=String.fromCharCode,R=0;R<256;R++)ue[R]=_(R)})(),n=K(se,q),r=K(z,Q),l=K($,B),d=K(ae,me),(function(){for(var _=1,R=2,U=1;U<=15;U++){for(var Z=_;Z<R;Z++)M[32767+Z]=U,C[32767+Z]=[],C[32767+Z][1]=U,C[32767+Z][0]=Z;for(var le=-(R-1);le<=-_;le++)M[32767+le]=U,C[32767+le]=[],C[32767+le][1]=U,C[32767+le][0]=R-1+le;_<<=1,R<<=1}})(),(function(){for(var _=0;_<256;_++)Me[_]=19595*_,Me[_+256|0]=38470*_,Me[_+512|0]=7471*_+32768,Me[_+768|0]=-11059*_,Me[_+1024|0]=-21709*_,Me[_+1280|0]=32768*_+8421375,Me[_+1536|0]=-27439*_,Me[_+1792|0]=-5329*_})(),P(o)}function Bs(o,n){if(this.pos=0,this.buffer=o,this.datav=new DataView(o.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function em(o){function n(q){if(!q)throw Error("assert :P")}function r(q,$,B){for(var z=0;4>z;z++)if(q[$+z]!=B.charCodeAt(z))return!0;return!1}function l(q,$,B,z,Q){for(var ae=0;ae<Q;ae++)q[$+ae]=B[z+ae]}function d(q,$,B,z){for(var Q=0;Q<z;Q++)q[$+Q]=B}function u(q){return new Int32Array(q)}function y(q,$){for(var B=[],z=0;z<q;z++)B.push(new $);return B}function m(q,$){var B=[];return(function z(Q,ae,me){for(var K=me[ae],fe=0;fe<K&&(Q.push(me.length>ae+1?[]:new $),!(me.length<ae+1));fe++)z(Q[fe],ae+1,me)})(B,0,q),B}var x=function(){var q=this;function $(c,p){for(var S=1<<p-1>>>0;c&S;)S>>>=1;return S?(c&S-1)+S:c}function B(c,p,S,w,G){n(!(w%S));do c[p+(w-=S)]=G;while(0<w)}function z(c,p,S,w,G){if(n(2328>=G),512>=G)var E=u(512);else if((E=u(G))==null)return 0;return(function(I,H,Y,te,Se,Ve){var ee,_e,Ee=H,tt=1<<Y,Re=u(16),Qe=u(16);for(n(Se!=0),n(te!=null),n(I!=null),n(0<Y),_e=0;_e<Se;++_e){if(15<te[_e])return 0;++Re[te[_e]]}if(Re[0]==Se)return 0;for(Qe[1]=0,ee=1;15>ee;++ee){if(Re[ee]>1<<ee)return 0;Qe[ee+1]=Qe[ee]+Re[ee]}for(_e=0;_e<Se;++_e)ee=te[_e],0<te[_e]&&(Ve[Qe[ee]++]=_e);if(Qe[15]==1)return(te=new Q).g=0,te.value=Ve[0],B(I,Ee,1,tt,te),tt;var rt,yt=-1,ft=tt-1,ei=0,Pt=1,zi=1,Zt=1<<Y;for(_e=0,ee=1,Se=2;ee<=Y;++ee,Se<<=1){if(Pt+=zi<<=1,0>(zi-=Re[ee]))return 0;for(;0<Re[ee];--Re[ee])(te=new Q).g=ee,te.value=Ve[_e++],B(I,Ee+ei,Se,Zt,te),ei=$(ei,ee)}for(ee=Y+1,Se=2;15>=ee;++ee,Se<<=1){if(Pt+=zi<<=1,0>(zi-=Re[ee]))return 0;for(;0<Re[ee];--Re[ee]){if(te=new Q,(ei&ft)!=yt){for(Ee+=Zt,rt=1<<(yt=ee)-Y;15>yt&&!(0>=(rt-=Re[yt]));)++yt,rt<<=1;tt+=Zt=1<<(rt=yt-Y),I[H+(yt=ei&ft)].g=rt+Y,I[H+yt].value=Ee-H-yt}te.g=ee-Y,te.value=Ve[_e++],B(I,Ee+(ei>>Y),Se,Zt,te),ei=$(ei,ee)}}return Pt!=2*Qe[15]-1?0:tt})(c,p,S,w,G,E)}function Q(){this.value=this.g=0}function ae(){this.value=this.g=0}function me(){this.G=y(5,Q),this.H=u(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=y(_o,ae)}function K(c,p,S,w){n(c!=null),n(p!=null),n(2147483648>w),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=p,c.pa=S,c.Jd=p,c.Yc=S+w,c.Zc=4<=w?S+w-4+1:S,qe(c)}function fe(c,p){for(var S=0;0<p--;)S|=Xe(c,128)<<p;return S}function ce(c,p){var S=fe(c,p);return Ie(c)?-S:S}function Le(c,p,S,w){var G,E=0;for(n(c!=null),n(p!=null),n(4294967288>w),c.Sb=w,c.Ra=0,c.u=0,c.h=0,4<w&&(w=4),G=0;G<w;++G)E+=p[S+G]<<8*G;c.Ra=E,c.bb=w,c.oa=p,c.pa=S}function ze(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<No-8>>>0,++c.bb,c.u-=8;Z(c)&&(c.h=1,c.u=0)}function P(c,p){if(n(0<=p),!c.h&&p<=or){var S=U(c)&Mr[p];return c.u+=p,ze(c),S}return c.h=1,c.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(c){return c.Ra>>>(c.u&No-1)>>>0}function Z(c){return n(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>No}function le(c,p){c.u=p,c.h=Z(c)}function ye(c){c.u>=fo&&(n(c.u>=fo),ze(c))}function qe(c){n(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(n(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function Ie(c){return fe(c,1)}function Xe(c,p){var S=c.Ca;0>c.b&&qe(c);var w=c.b,G=S*p>>>8,E=(c.I>>>w>G)+0;for(E?(S-=G,c.I-=G+1<<w>>>0):S=G+1,w=S,G=0;256<=w;)G+=8,w>>=8;return w=7^G+po[w],c.b-=w,c.Ca=(S<<w)-1,E}function He(c,p,S){c[p+0]=S>>24&255,c[p+1]=S>>16&255,c[p+2]=S>>8&255,c[p+3]=255&S}function ut(c,p){return c[p+0]|c[p+1]<<8}function jt(c,p){return ut(c,p)|c[p+2]<<16}function Ft(c,p){return ut(c,p)|ut(c,p+2)<<16}function X(c,p){var S=1<<p;return n(c!=null),n(0<p),c.X=u(S),c.X==null?0:(c.Mb=32-p,c.Xa=p,1)}function pt(c,p){n(c!=null),n(p!=null),n(c.Xa==p.Xa),l(p.X,0,c.X,0,1<<p.Xa)}function Tt(){this.X=[],this.Xa=this.Mb=0}function Yt(c,p,S,w){n(S!=null),n(w!=null);var G=S[0],E=w[0];return G==0&&(G=(c*E+p/2)/p),E==0&&(E=(p*G+c/2)/c),0>=G||0>=E?0:(S[0]=G,w[0]=E,1)}function lt(c,p){return c+(1<<p)-1>>>p}function Kt(c,p){return((4278255360&c)+(4278255360&p)>>>0&4278255360)+((16711935&c)+(16711935&p)>>>0&16711935)>>>0}function zt(c,p){q[p]=function(S,w,G,E,I,H,Y){var te;for(te=0;te<I;++te){var Se=q[c](H[Y+te-1],G,E+te);H[Y+te]=Kt(S[w+te],Se)}}}function Mt(){this.ud=this.hd=this.jd=0}function Ct(c,p){return((4278124286&(c^p))>>>1)+(c&p)>>>0}function hi(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function ki(c,p){return hi(c+(c-p+.5>>1))}function ai(c,p,S){return Math.abs(p-S)-Math.abs(c-S)}function Oi(c,p,S,w,G,E,I){for(w=E[I-1],S=0;S<G;++S)E[I+S]=w=Kt(c[p+S],w)}function ui(c,p,S,w,G){var E;for(E=0;E<S;++E){var I=c[p+E],H=I>>8&255,Y=16711935&(Y=(Y=16711935&I)+((H<<16)+H));w[G+E]=(4278255360&I)+Y>>>0}}function Rt(c,p){p.jd=255&c,p.hd=c>>8&255,p.ud=c>>16&255}function si(c,p,S,w,G,E){var I;for(I=0;I<w;++I){var H=p[S+I],Y=H>>>8,te=H,Se=255&(Se=(Se=H>>>16)+((c.jd<<24>>24)*(Y<<24>>24)>>>5));te=255&(te=(te+=(c.hd<<24>>24)*(Y<<24>>24)>>>5)+((c.ud<<24>>24)*(Se<<24>>24)>>>5)),G[E+I]=(4278255360&H)+(Se<<16)+te}}function It(c,p,S,w,G){q[p]=function(E,I,H,Y,te,Se,Ve,ee,_e){for(Y=Ve;Y<ee;++Y)for(Ve=0;Ve<_e;++Ve)te[Se++]=G(H[w(E[I++])])},q[c]=function(E,I,H,Y,te,Se,Ve){var ee=8>>E.b,_e=E.Ea,Ee=E.K[0],tt=E.w;if(8>ee)for(E=(1<<E.b)-1,tt=(1<<ee)-1;I<H;++I){var Re,Qe=0;for(Re=0;Re<_e;++Re)Re&E||(Qe=w(Y[te++])),Se[Ve++]=G(Ee[Qe&tt]),Qe>>=ee}else q["VP8LMapColor"+S](Y,te,Ee,tt,Se,Ve,I,H,_e)}}function ta(c,p,S,w,G){for(S=p+S;p<S;){var E=c[p++];w[G++]=E>>16&255,w[G++]=E>>8&255,w[G++]=255&E}}function $t(c,p,S,w,G){for(S=p+S;p<S;){var E=c[p++];w[G++]=E>>16&255,w[G++]=E>>8&255,w[G++]=255&E,w[G++]=E>>24&255}}function T(c,p,S,w,G){for(S=p+S;p<S;){var E=(I=c[p++])>>16&240|I>>12&15,I=240&I|I>>28&15;w[G++]=E,w[G++]=I}}function Ne(c,p,S,w,G){for(S=p+S;p<S;){var E=(I=c[p++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;w[G++]=E,w[G++]=I}}function nt(c,p,S,w,G){for(S=p+S;p<S;){var E=c[p++];w[G++]=255&E,w[G++]=E>>8&255,w[G++]=E>>16&255}}function Ke(c,p,S,w,G,E){if(E==0)for(S=p+S;p<S;)He(w,((E=c[p++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),G+=32;else l(w,G,c,p,S)}function _t(c,p){q[p][0]=q[c+"0"],q[p][1]=q[c+"1"],q[p][2]=q[c+"2"],q[p][3]=q[c+"3"],q[p][4]=q[c+"4"],q[p][5]=q[c+"5"],q[p][6]=q[c+"6"],q[p][7]=q[c+"7"],q[p][8]=q[c+"8"],q[p][9]=q[c+"9"],q[p][10]=q[c+"10"],q[p][11]=q[c+"11"],q[p][12]=q[c+"12"],q[p][13]=q[c+"13"],q[p][14]=q[c+"0"],q[p][15]=q[c+"0"]}function bt(c){return c==Wt||c==ri||c==Zi||c==Ki}function At(){this.eb=[],this.size=this.A=this.fb=0}function bi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new bi,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ci(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function on(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function ia(c,p){var S=c.T,w=p.ba.f.RGBA,G=w.eb,E=w.fb+c.ka*w.A,I=Ur[p.ba.S],H=c.y,Y=c.O,te=c.f,Se=c.N,Ve=c.ea,ee=c.W,_e=p.cc,Ee=p.dc,tt=p.Mc,Re=p.Nc,Qe=c.ka,rt=c.ka+c.T,yt=c.U,ft=yt+1>>1;for(Qe==0?I(H,Y,null,null,te,Se,Ve,ee,te,Se,Ve,ee,G,E,null,null,yt):(I(p.ec,p.fc,H,Y,_e,Ee,tt,Re,te,Se,Ve,ee,G,E-w.A,G,E,yt),++S);Qe+2<rt;Qe+=2)_e=te,Ee=Se,tt=Ve,Re=ee,Se+=c.Rc,ee+=c.Rc,E+=2*w.A,I(H,(Y+=2*c.fa)-c.fa,H,Y,_e,Ee,tt,Re,te,Se,Ve,ee,G,E-w.A,G,E,yt);return Y+=c.fa,c.j+rt<c.o?(l(p.ec,p.fc,H,Y,yt),l(p.cc,p.dc,te,Se,ft),l(p.Mc,p.Nc,Ve,ee,ft),S--):1&rt||I(H,Y,null,null,te,Se,Ve,ee,te,Se,Ve,ee,G,E+w.A,null,null,yt),S}function Oa(c,p,S){var w=c.F,G=[c.J];if(w!=null){var E=c.U,I=p.ba.S,H=I==Fi||I==Zi;p=p.ba.f.RGBA;var Y=[0],te=c.ka;Y[0]=c.T,c.Kb&&(te==0?--Y[0]:(--te,G[0]-=c.width),c.j+c.ka+c.T==c.o&&(Y[0]=c.o-c.j-te));var Se=p.eb;te=p.fb+te*p.A,c=g(w,G[0],c.width,E,Y,Se,te+(H?0:3),p.A),n(S==Y),c&&bt(I)&&vs(Se,te,H,E,Y,p.A)}return 0}function Li(c){var p=c.ma,S=p.ba.S,w=11>S,G=S==kt||S==Ii||S==Fi||S==Gt||S==12||bt(S);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!zo(p.Oa,c,G?11:12))return 0;if(G&&bt(S)&&lo(),c.da)alert("todo:use_scaling");else{if(w){if(p.Ib=on,c.Kb){if(S=c.U+1>>1,p.memory=u(c.U+2*S),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+c.U,p.Mc=p.cc,p.Nc=p.dc+S,p.Ib=ia,lo()}}else alert("todo:EmitYUV");G&&(p.Jb=Oa,w&&wo())}if(w&&!Is){for(c=0;256>c;++c)Pr[c]=89858*(c-128)+jl>>qo,Ku[c]=-22014*(c-128)+jl,Ec[c]=-45773*(c-128),fd[c]=113618*(c-128)+jl>>qo;for(c=tl;c<qs;++c)p=76283*(c-16)+jl>>qo,Ju[c-tl]=Oe(p,255),Qu[c-tl]=Oe(p+8>>4,15);Is=1}return 1}function Ut(c){var p=c.ma,S=c.U,w=c.T;return n(!(1&c.ka)),0>=S||0>=w?0:(S=p.Ib(c,p),p.Jb!=null&&p.Jb(c,p,S),p.Dc+=S,1)}function gn(c){c.ma.memory=null}function mt(c,p,S,w){return P(c,8)!=47?0:(p[0]=P(c,14)+1,S[0]=P(c,14)+1,w[0]=P(c,1),P(c,3)!=0?0:!c.h)}function Ka(c,p){if(4>c)return c+1;var S=c-2>>1;return(2+(1&c)<<S)+P(p,S)+1}function Ja(c,p){return 120<p?p-120:1<=(S=((S=Vn[p-1])>>4)*c+(8-(15&S)))?S:1;var S}function Yi(c,p,S){var w=U(S),G=c[p+=255&w].g-8;return 0<G&&(le(S,S.u+8),w=U(S),p+=c[p].value,p+=w&(1<<G)-1),le(S,S.u+c[p].g),c[p].value}function Qa(c,p,S){return S.g+=c.g,S.value+=c.value<<p>>>0,n(8>=S.g),c.g}function qa(c,p,S){var w=c.xc;return n((p=w==0?0:c.vc[c.md*(S>>w)+(p>>w)])<c.Wb),c.Ya[p]}function mn(c,p,S,w){var G=c.ab,E=c.c*p,I=c.C;p=I+p;var H=S,Y=w;for(w=c.Ta,S=c.Ua;0<G--;){var te=c.gc[G],Se=I,Ve=p,ee=H,_e=Y,Ee=(Y=w,H=S,te.Ea);switch(n(Se<Ve),n(Ve<=te.nc),te.hc){case 2:dn(ee,_e,(Ve-Se)*Ee,Y,H);break;case 0:var tt=Se,Re=Ve,Qe=Y,rt=H,yt=(Zt=te).Ea;tt==0&&(bs(ee,_e,null,null,1,Qe,rt),Oi(ee,_e+1,0,0,yt-1,Qe,rt+1),_e+=yt,rt+=yt,++tt);for(var ft=1<<Zt.b,ei=ft-1,Pt=lt(yt,Zt.b),zi=Zt.K,Zt=Zt.w+(tt>>Zt.b)*Pt;tt<Re;){var oa=zi,jn=Zt,Vi=1;for(rs(ee,_e,Qe,rt-yt,1,Qe,rt);Vi<yt;){var Ht=(Vi&~ei)+ft;Ht>yt&&(Ht=yt),(0,Co[oa[jn++]>>8&15])(ee,_e+ +Vi,Qe,rt+Vi-yt,Ht-Vi,Qe,rt+Vi),Vi=Ht}_e+=yt,rt+=yt,++tt&ei||(Zt+=Pt)}Ve!=te.nc&&l(Y,H-Ee,Y,H+(Ve-Se-1)*Ee,Ee);break;case 1:for(Ee=ee,Re=_e,yt=(ee=te.Ea)-(rt=ee&~(Qe=(_e=1<<te.b)-1)),tt=lt(ee,te.b),ft=te.K,te=te.w+(Se>>te.b)*tt;Se<Ve;){for(ei=ft,Pt=te,zi=new Mt,Zt=Re+rt,oa=Re+ee;Re<Zt;)Rt(ei[Pt++],zi),Eo(zi,Ee,Re,_e,Y,H),Re+=_e,H+=_e;Re<oa&&(Rt(ei[Pt++],zi),Eo(zi,Ee,Re,yt,Y,H),Re+=yt,H+=yt),++Se&Qe||(te+=tt)}break;case 3:if(ee==Y&&_e==H&&0<te.b){for(Re=Y,ee=Ee=H+(Ve-Se)*Ee-(rt=(Ve-Se)*lt(te.Ea,te.b)),_e=Y,Qe=H,tt=[],rt=(yt=rt)-1;0<=rt;--rt)tt[rt]=_e[Qe+rt];for(rt=yt-1;0<=rt;--rt)Re[ee+rt]=tt[rt];xs(te,Se,Ve,Y,Ee,Y,H)}else xs(te,Se,Ve,ee,_e,Y,H)}H=w,Y=S}Y!=S&&l(w,S,H,Y,E)}function xa(c,p){var S=c.V,w=c.Ba+c.c*c.C,G=p-c.C;if(n(p<=c.l.o),n(16>=G),0<G){var E=c.l,I=c.Ta,H=c.Ua,Y=E.width;if(mn(c,G,S,w),G=H=[H],n((S=c.C)<(w=p)),n(E.v<E.va),w>E.o&&(w=E.o),S<E.j){var te=E.j-S;S=E.j,G[0]+=te*Y}if(S>=w?S=0:(G[0]+=4*E.v,E.ka=S-E.j,E.U=E.va-E.v,E.T=w-S,S=1),S){if(H=H[0],11>(S=c.ca).S){var Se=S.f.RGBA,Ve=(w=S.S,G=E.U,E=E.T,te=Se.eb,Se.A),ee=E;for(Se=Se.fb+c.Ma*Se.A;0<ee--;){var _e=I,Ee=H,tt=G,Re=te,Qe=Se;switch(w){case wt:Ir(_e,Ee,tt,Re,Qe);break;case kt:no(_e,Ee,tt,Re,Qe);break;case Wt:no(_e,Ee,tt,Re,Qe),vs(Re,Qe,0,tt,1,0);break;case qt:os(_e,Ee,tt,Re,Qe);break;case Ii:Ke(_e,Ee,tt,Re,Qe,1);break;case ri:Ke(_e,Ee,tt,Re,Qe,1),vs(Re,Qe,0,tt,1,0);break;case Fi:Ke(_e,Ee,tt,Re,Qe,0);break;case Zi:Ke(_e,Ee,tt,Re,Qe,0),vs(Re,Qe,1,tt,1,0);break;case Gt:sr(_e,Ee,tt,Re,Qe);break;case Ki:sr(_e,Ee,tt,Re,Qe),Kr(Re,Qe,tt,1,0);break;case Et:aa(_e,Ee,tt,Re,Qe);break;default:n(0)}H+=Y,Se+=Ve}c.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");n(c.Ma<=S.height)}}c.C=p,n(c.C<=c.i)}function Xi(c){var p;if(0<c.ua)return 0;for(p=0;p<c.Wb;++p){var S=c.Ya[p].G,w=c.Ya[p].H;if(0<S[1][w[1]+0].g||0<S[2][w[2]+0].g||0<S[3][w[3]+0].g)return 0}return 1}function sa(c,p,S,w,G,E){if(c.Z!=0){var I=c.qd,H=c.rd;for(n(js[c.Z]!=null);p<S;++p)js[c.Z](I,H,w,G,w,G,E),I=w,H=G,G+=E;c.qd=I,c.rd=H}}function wa(c,p){var S=c.l.ma,w=S.Z==0||S.Z==1?c.l.j:c.C;if(w=c.C<w?w:c.C,n(p<=c.l.o),p>w){var G=c.l.width,E=S.ca,I=S.tb+G*w,H=c.V,Y=c.Ba+c.c*w,te=c.gc;n(c.ab==1),n(te[0].hc==3),ao(te[0],w,p,H,Y,E,I),sa(S,w,p,E,I,G)}c.C=c.Ma=p}function St(c,p,S,w,G,E,I){var H=c.$/w,Y=c.$%w,te=c.m,Se=c.s,Ve=S+c.$,ee=Ve;G=S+w*G;var _e=S+w*E,Ee=280+Se.ua,tt=c.Pb?H:16777216,Re=0<Se.ua?Se.Wa:null,Qe=Se.wc,rt=Ve<_e?qa(Se,Y,H):null;n(c.C<E),n(_e<=G);var yt=!1;e:for(;;){for(;yt||Ve<_e;){var ft=0;if(H>=tt){var ei=Ve-S;n((tt=c).Pb),tt.wd=tt.m,tt.xd=ei,0<tt.s.ua&&pt(tt.s.Wa,tt.s.vb),tt=H+Tn}if(Y&Qe||(rt=qa(Se,Y,H)),n(rt!=null),rt.Qb&&(p[Ve]=rt.qb,yt=!0),!yt)if(ye(te),rt.jc){ft=te,ei=p;var Pt=Ve,zi=rt.pd[U(ft)&_o-1];n(rt.jc),256>zi.g?(le(ft,ft.u+zi.g),ei[Pt]=zi.value,ft=0):(le(ft,ft.u+zi.g-256),n(256<=zi.value),ft=zi.value),ft==0&&(yt=!0)}else ft=Yi(rt.G[0],rt.H[0],te);if(te.h)break;if(yt||256>ft){if(!yt)if(rt.nd)p[Ve]=(rt.qb|ft<<8)>>>0;else{if(ye(te),yt=Yi(rt.G[1],rt.H[1],te),ye(te),ei=Yi(rt.G[2],rt.H[2],te),Pt=Yi(rt.G[3],rt.H[3],te),te.h)break;p[Ve]=(Pt<<24|yt<<16|ft<<8|ei)>>>0}if(yt=!1,++Ve,++Y>=w&&(Y=0,++H,I!=null&&H<=E&&!(H%16)&&I(c,H),Re!=null))for(;ee<Ve;)ft=p[ee++],Re.X[(506832829*ft&4294967295)>>>Re.Mb]=ft}else if(280>ft){if(ft=Ka(ft-256,te),ei=Yi(rt.G[4],rt.H[4],te),ye(te),ei=Ja(w,ei=Ka(ei,te)),te.h)break;if(Ve-S<ei||G-Ve<ft)break e;for(Pt=0;Pt<ft;++Pt)p[Ve+Pt]=p[Ve+Pt-ei];for(Ve+=ft,Y+=ft;Y>=w;)Y-=w,++H,I!=null&&H<=E&&!(H%16)&&I(c,H);if(n(Ve<=G),Y&Qe&&(rt=qa(Se,Y,H)),Re!=null)for(;ee<Ve;)ft=p[ee++],Re.X[(506832829*ft&4294967295)>>>Re.Mb]=ft}else{if(!(ft<Ee))break e;for(yt=ft-280,n(Re!=null);ee<Ve;)ft=p[ee++],Re.X[(506832829*ft&4294967295)>>>Re.Mb]=ft;ft=Ve,n(!(yt>>>(ei=Re).Xa)),p[ft]=ei.X[yt],yt=!0}yt||n(te.h==Z(te))}if(c.Pb&&te.h&&Ve<G)n(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&pt(c.s.vb,c.s.Wa);else{if(te.h)break e;I?.(c,H>E?E:H),c.a=0,c.$=Ve-S}return 1}return c.a=3,0}function gt(c){n(c!=null),c.vc=null,c.yc=null,c.Ya=null;var p=c.Wa;p!=null&&(p.X=null),c.vb=null,n(c!=null)}function Yn(){var c=new Ai;return c==null?null:(c.a=0,c.xb=Xl,_t("Predictor","VP8LPredictors"),_t("Predictor","VP8LPredictors_C"),_t("PredictorAdd","VP8LPredictorsAdd"),_t("PredictorAdd","VP8LPredictorsAdd_C"),dn=ui,Eo=si,Ir=ta,no=$t,sr=T,aa=Ne,os=nt,q.VP8LMapColor32b=ho,q.VP8LMapColor8b=Fn,c)}function Ha(c,p,S,w,G){var E=1,I=[c],H=[p],Y=w.m,te=w.s,Se=null,Ve=0;e:for(;;){if(S)for(;E&&P(Y,1);){var ee=I,_e=H,Ee=w,tt=1,Re=Ee.m,Qe=Ee.gc[Ee.ab],rt=P(Re,2);if(Ee.Oc&1<<rt)E=0;else{switch(Ee.Oc|=1<<rt,Qe.hc=rt,Qe.Ea=ee[0],Qe.nc=_e[0],Qe.K=[null],++Ee.ab,n(4>=Ee.ab),rt){case 0:case 1:Qe.b=P(Re,3)+2,tt=Ha(lt(Qe.Ea,Qe.b),lt(Qe.nc,Qe.b),0,Ee,Qe.K),Qe.K=Qe.K[0];break;case 3:var yt,ft=P(Re,8)+1,ei=16<ft?0:4<ft?1:2<ft?2:3;if(ee[0]=lt(Qe.Ea,ei),Qe.b=ei,yt=tt=Ha(ft,1,0,Ee,Qe.K)){var Pt,zi=ft,Zt=Qe,oa=1<<(8>>Zt.b),jn=u(oa);if(jn==null)yt=0;else{var Vi=Zt.K[0],Ht=Zt.w;for(jn[0]=Zt.K[0][0],Pt=1;Pt<1*zi;++Pt)jn[Pt]=Kt(Vi[Ht+Pt],jn[Pt-1]);for(;Pt<4*oa;++Pt)jn[Pt]=0;Zt.K[0]=null,Zt.K[0]=jn,yt=1}}tt=yt;break;case 2:break;default:n(0)}E=tt}}if(I=I[0],H=H[0],E&&P(Y,1)&&!(E=1<=(Ve=P(Y,4))&&11>=Ve)){w.a=3;break e}var Lt;if(Lt=E)t:{var zn,_i,Wi,Da=w,jr=I,Hr=H,un=Ve,dr=S,Jr=Da.m,cr=Da.s,ea=[null],ja=1,En=0,Ba=Jn[un];i:for(;;){if(dr&&P(Jr,1)){var Sr=P(Jr,3)+2,Rn=lt(jr,Sr),Sa=lt(Hr,Sr),tr=Rn*Sa;if(!Ha(Rn,Sa,0,Da,ea))break i;for(ea=ea[0],cr.xc=Sr,zn=0;zn<tr;++zn){var Ua=ea[zn]>>8&65535;ea[zn]=Ua,Ua>=ja&&(ja=Ua+1)}}if(Jr.h)break i;for(_i=0;5>_i;++_i){var ur=Na[_i];!_i&&0<un&&(ur+=1<<un),En<ur&&(En=ur)}var fr=y(ja*Ba,Q),tn=ja,ba=y(tn,me);if(ba==null)var Qr=null;else n(65536>=tn),Qr=ba;var Un=u(En);if(Qr==null||Un==null||fr==null){Da.a=1;break i}var mi=fr;for(zn=Wi=0;zn<ja;++zn){var xi=Qr[zn],Aa=xi.G,go=xi.H,Io=0,ro=1,pr=0;for(_i=0;5>_i;++_i){ur=Na[_i],Aa[_i]=mi,go[_i]=Wi,!_i&&0<un&&(ur+=1<<un);n:{var Fs,Vs=ur,hd=Da,fn=Un,Kd=mi,Jd=Wi,gd=0,Ss=hd.m,$u=P(Ss,1);if(d(fn,0,0,Vs),$u){var Qd=P(Ss,1)+1,$d=P(Ss,1),md=P(Ss,$d==0?1:8);fn[md]=1,Qd==2&&(fn[md=P(Ss,8)]=1);var Lr=1}else{var Pn=u(19),Jl=P(Ss,4)+4;if(19<Jl){hd.a=3;var Ds=0;break n}for(Fs=0;Fs<Jl;++Fs)Pn[Gr[Fs]]=P(Ss,3);var Al=void 0,il=void 0,ls=hd,bd=Pn,wl=Vs,xd=fn,yd=0,As=ls.m,ec=8,tc=y(128,Q);a:for(;z(tc,0,7,bd,19);){if(P(As,1)){var Rc=2+2*P(As,3);if((Al=2+P(As,Rc))>wl)break a}else Al=wl;for(il=0;il<wl&&Al--;){ye(As);var ic=tc[0+(127&U(As))];le(As,As.u+ic.g);var Us=ic.value;if(16>Us)xd[il++]=Us,Us!=0&&(ec=Us);else{var Oc=Us==16,qc=Us-16,Ic=yr[qc],ac=P(As,oi[qc])+Ic;if(il+ac>wl)break a;for(var Fc=Oc?ec:0;0<ac--;)xd[il++]=Fc}}yd=1;break a}yd||(ls.a=3),Lr=yd}(Lr=Lr&&!Ss.h)&&(gd=z(Kd,Jd,8,fn,Vs)),Lr&&gd!=0?Ds=gd:(hd.a=3,Ds=0)}if(Ds==0)break i;if(ro&&Ca[_i]==1&&(ro=mi[Wi].g==0),Io+=mi[Wi].g,Wi+=Ds,3>=_i){var al,vd=Un[0];for(al=1;al<ur;++al)Un[al]>vd&&(vd=Un[al]);pr+=vd}}if(xi.nd=ro,xi.Qb=0,ro&&(xi.qb=(Aa[3][go[3]+0].value<<24|Aa[1][go[1]+0].value<<16|Aa[2][go[2]+0].value)>>>0,Io==0&&256>Aa[0][go[0]+0].value&&(xi.Qb=1,xi.qb+=Aa[0][go[0]+0].value<<8)),xi.jc=!xi.Qb&&6>pr,xi.jc){var Ql,ds=xi;for(Ql=0;Ql<_o;++Ql){var ws=Ql,_s=ds.pd[ws],jd=ds.G[0][ds.H[0]+ws];256<=jd.value?(_s.g=jd.g+256,_s.value=jd.value):(_s.g=0,_s.value=0,ws>>=Qa(jd,8,_s),ws>>=Qa(ds.G[1][ds.H[1]+ws],16,_s),ws>>=Qa(ds.G[2][ds.H[2]+ws],0,_s),Qa(ds.G[3][ds.H[3]+ws],24,_s))}}}cr.vc=ea,cr.Wb=ja,cr.Ya=Qr,cr.yc=fr,Lt=1;break t}Lt=0}if(!(E=Lt)){w.a=3;break e}if(0<Ve){if(te.ua=1<<Ve,!X(te.Wa,Ve)){w.a=1,E=0;break e}}else te.ua=0;var Sd=w,nl=I,Vc=H,_l=Sd.s,Nl=_l.xc;if(Sd.c=nl,Sd.i=Vc,_l.md=lt(nl,Nl),_l.wc=Nl==0?-1:(1<<Nl)-1,S){w.xb=Dr;break e}if((Se=u(I*H))==null){w.a=1,E=0;break e}E=(E=St(w,Se,0,I,H,H,null))&&!Y.h;break e}return E?(G!=null?G[0]=Se:(n(Se==null),n(S)),w.$=0,S||gt(te)):gt(te),E}function sn(c,p){var S=c.c*c.i,w=S+p+16*p;return n(c.c<=p),c.V=u(w),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+S+p,1)}function Wa(c,p){var S=c.C,w=p-S,G=c.V,E=c.Ba+c.c*S;for(n(p<=c.l.o);0<w;){var I=16<w?16:w,H=c.l.ma,Y=c.l.width,te=Y*I,Se=H.ca,Ve=H.tb+Y*S,ee=c.Ta,_e=c.Ua;mn(c,I,G,E),L(ee,_e,Se,Ve,te),sa(H,S,S+I,Se,Ve,Y),w-=I,G+=I*c.c,S+=I}n(S==p),c.C=c.Ma=p}function Xn(){this.ub=this.yd=this.td=this.Rb=0}function Cn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ya(){this.Fb=this.Bb=this.Cb=0,this.Zb=u(4),this.Lb=u(4)}function _a(){this.Yb=(function(){var c=[];return(function p(S,w,G){for(var E=G[w],I=0;I<E&&(S.push(G.length>w+1?[]:0),!(G.length<w+1));I++)p(S[I],w+1,G)})(c,0,[3,11]),c})()}function ka(){this.jb=u(3),this.Wc=m([4,8],_a),this.Xc=m([4,17],_a)}function Ze(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new u(4),this.od=new u(4)}function fi(){this.ld=this.La=this.dd=this.tc=0}function vi(){this.Na=this.la=0}function bn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ya(){this.ad=u(384),this.Za=0,this.Ob=u(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function de(){this.uc=this.M=this.Nb=0,this.wa=Array(new fi),this.Y=0,this.ya=Array(new Ya),this.aa=0,this.l=new ot}function Ae(){this.y=u(16),this.f=u(8),this.ea=u(8)}function be(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new Xn,this.Kc=new Cn,this.ed=new Ze,this.Qa=new ya,this.Ic=this.$c=this.Aa=0,this.D=new de,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=y(8,_),this.ia=0,this.pb=y(4,bn),this.Pa=new ka,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ae),this.Hd=0,this.rb=Array(new vi),this.sb=0,this.wa=Array(new fi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ya),this.L=this.aa=0,this.gd=m([4,2],fi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oe(c,p){return 0>c?0:c>p?p:c}function ot(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $e(){var c=new be;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,vr||(vr=Jt)),c}function xt(c,p,S){return c.a==0&&(c.a=p,c.sc=S,c.cb=0),0}function gi(c,p,S){return 3<=S&&c[p+0]==157&&c[p+1]==1&&c[p+2]==42}function ni(c,p){if(c==null)return 0;if(c.a=0,c.sc="OK",p==null)return xt(c,2,"null VP8Io passed to VP8GetHeaders()");var S=p.data,w=p.w,G=p.ha;if(4>G)return xt(c,7,"Truncated header.");var E=S[w+0]|S[w+1]<<8|S[w+2]<<16,I=c.Od;if(I.Rb=!(1&E),I.td=E>>1&7,I.yd=E>>4&1,I.ub=E>>5,3<I.td)return xt(c,3,"Incorrect keyframe parameters.");if(!I.yd)return xt(c,4,"Frame not displayable.");w+=3,G-=3;var H=c.Kc;if(I.Rb){if(7>G)return xt(c,7,"cannot parse picture header");if(!gi(S,w,G))return xt(c,3,"Bad code word");H.c=16383&(S[w+4]<<8|S[w+3]),H.Td=S[w+4]>>6,H.i=16383&(S[w+6]<<8|S[w+5]),H.Ud=S[w+6]>>6,w+=7,G-=7,c.za=H.c+15>>4,c.Ub=H.i+15>>4,p.width=H.c,p.height=H.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,d((E=c.Pa).jb,0,255,E.jb.length),n((E=c.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,d(E.Zb,0,0,E.Zb.length),d(E.Lb,0,0,E.Lb)}if(I.ub>G)return xt(c,7,"bad partition length");K(E=c.m,S,w,I.ub),w+=I.ub,G-=I.ub,I.Rb&&(H.Ld=Ie(E),H.Kd=Ie(E)),H=c.Qa;var Y,te=c.Pa;if(n(E!=null),n(H!=null),H.Cb=Ie(E),H.Cb){if(H.Bb=Ie(E),Ie(E)){for(H.Fb=Ie(E),Y=0;4>Y;++Y)H.Zb[Y]=Ie(E)?ce(E,7):0;for(Y=0;4>Y;++Y)H.Lb[Y]=Ie(E)?ce(E,6):0}if(H.Bb)for(Y=0;3>Y;++Y)te.jb[Y]=Ie(E)?fe(E,8):255}else H.Bb=0;if(E.Ka)return xt(c,3,"cannot parse segment header");if((H=c.ed).zd=Ie(E),H.Tb=fe(E,6),H.wb=fe(E,3),H.Pc=Ie(E),H.Pc&&Ie(E)){for(te=0;4>te;++te)Ie(E)&&(H.vd[te]=ce(E,6));for(te=0;4>te;++te)Ie(E)&&(H.od[te]=ce(E,6))}if(c.L=H.Tb==0?0:H.zd?1:2,E.Ka)return xt(c,3,"cannot parse filter header");var Se=G;if(G=Y=w,w=Y+Se,H=Se,c.Xb=(1<<fe(c.m,2))-1,Se<3*(te=c.Xb))S=7;else{for(Y+=3*te,H-=3*te,Se=0;Se<te;++Se){var Ve=S[G+0]|S[G+1]<<8|S[G+2]<<16;Ve>H&&(Ve=H),K(c.Jc[+Se],S,Y,Ve),Y+=Ve,H-=Ve,G+=3}K(c.Jc[+te],S,Y,H),S=Y<w?0:5}if(S!=0)return xt(c,S,"cannot parse partitions");for(S=fe(Y=c.m,7),G=Ie(Y)?ce(Y,4):0,w=Ie(Y)?ce(Y,4):0,H=Ie(Y)?ce(Y,4):0,te=Ie(Y)?ce(Y,4):0,Y=Ie(Y)?ce(Y,4):0,Se=c.Qa,Ve=0;4>Ve;++Ve){if(Se.Cb){var ee=Se.Zb[Ve];Se.Fb||(ee+=S)}else{if(0<Ve){c.pb[Ve]=c.pb[0];continue}ee=S}var _e=c.pb[Ve];_e.Sc[0]=Qn[Oe(ee+G,127)],_e.Sc[1]=$n[Oe(ee+0,127)],_e.Eb[0]=2*Qn[Oe(ee+w,127)],_e.Eb[1]=101581*$n[Oe(ee+H,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=Qn[Oe(ee+te,117)],_e.Qc[1]=$n[Oe(ee+Y,127)],_e.lc=ee+Y}if(!I.Rb)return xt(c,4,"Not a key frame.");for(Ie(E),I=c.Pa,S=0;4>S;++S){for(G=0;8>G;++G)for(w=0;3>w;++w)for(H=0;11>H;++H)te=Xe(E,Va[S][G][w][H])?fe(E,8):Vr[S][G][w][H],I.Wc[S][G].Yb[w][H]=te;for(G=0;17>G;++G)I.Xc[S][G]=I.Wc[S][Hi[G]]}return c.kc=Ie(E),c.kc&&(c.Bd=fe(E,8)),c.cb=1}function Jt(c,p,S,w,G,E,I){var H=p[G].Yb[S];for(S=0;16>G;++G){if(!Xe(c,H[S+0]))return G;for(;!Xe(c,H[S+1]);)if(H=p[++G].Yb[0],S=0,G==16)return 16;var Y=p[G+1].Yb;if(Xe(c,H[S+2])){var te=c,Se=0;if(Xe(te,(ee=H)[(Ve=S)+3]))if(Xe(te,ee[Ve+6])){for(H=0,Ve=2*(Se=Xe(te,ee[Ve+8]))+(ee=Xe(te,ee[Ve+9+Se])),Se=0,ee=$s[Ve];ee[H];++H)Se+=Se+Xe(te,ee[H]);Se+=3+(8<<Ve)}else Xe(te,ee[Ve+7])?(Se=7+2*Xe(te,165),Se+=Xe(te,145)):Se=5+Xe(te,159);else Se=Xe(te,ee[Ve+4])?3+Xe(te,ee[Ve+5]):2;H=Y[2]}else Se=1,H=Y[1];Y=I+pa[G],0>(te=c).b&&qe(te);var Ve,ee=te.b,_e=(Ve=te.Ca>>1)-(te.I>>ee)>>31;--te.b,te.Ca+=_e,te.Ca|=1,te.I-=(Ve+1&_e)<<ee,E[Y]=((Se^_e)-_e)*w[(0<G)+0]}return 16}function ji(c){var p=c.rb[c.sb-1];p.la=0,p.Na=0,d(c.zc,0,0,c.zc.length),c.ja=0}function Ni(c,p,S,w,G){G=c[p+S+32*w]+(G>>3),c[p+S+32*w]=-256&G?0>G?0:255:G}function We(c,p,S,w,G,E){Ni(c,p,0,S,w+G),Ni(c,p,1,S,w+E),Ni(c,p,2,S,w-E),Ni(c,p,3,S,w-G)}function Vt(c){return(20091*c>>16)+c}function Pi(c,p,S,w){var G,E=0,I=u(16);for(G=0;4>G;++G){var H=c[p+0]+c[p+8],Y=c[p+0]-c[p+8],te=(35468*c[p+4]>>16)-Vt(c[p+12]),Se=Vt(c[p+4])+(35468*c[p+12]>>16);I[E+0]=H+Se,I[E+1]=Y+te,I[E+2]=Y-te,I[E+3]=H-Se,E+=4,p++}for(G=E=0;4>G;++G)H=(c=I[E+0]+4)+I[E+8],Y=c-I[E+8],te=(35468*I[E+4]>>16)-Vt(I[E+12]),Ni(S,w,0,0,H+(Se=Vt(I[E+4])+(35468*I[E+12]>>16))),Ni(S,w,1,0,Y+te),Ni(S,w,2,0,Y-te),Ni(S,w,3,0,H-Se),E++,w+=32}function Ji(c,p,S,w){var G=c[p+0]+4,E=35468*c[p+4]>>16,I=Vt(c[p+4]),H=35468*c[p+1]>>16;We(S,w,0,G+I,c=Vt(c[p+1]),H),We(S,w,1,G+E,c,H),We(S,w,2,G-E,c,H),We(S,w,3,G-I,c,H)}function xn(c,p,S,w,G){Pi(c,p,S,w),G&&Pi(c,p+16,S,w+4)}function fa(c,p,S,w){Ro(c,p+0,S,w,1),Ro(c,p+32,S,w+128,1)}function ln(c,p,S,w){var G;for(c=c[p+0]+4,G=0;4>G;++G)for(p=0;4>p;++p)Ni(S,w,p,G,c)}function Si(c,p,S,w){c[p+0]&&qi(c,p+0,S,w),c[p+16]&&qi(c,p+16,S,w+4),c[p+32]&&qi(c,p+32,S,w+128),c[p+48]&&qi(c,p+48,S,w+128+4)}function Mi(c,p,S,w){var G,E=u(16);for(G=0;4>G;++G){var I=c[p+0+G]+c[p+12+G],H=c[p+4+G]+c[p+8+G],Y=c[p+4+G]-c[p+8+G],te=c[p+0+G]-c[p+12+G];E[0+G]=I+H,E[8+G]=I-H,E[4+G]=te+Y,E[12+G]=te-Y}for(G=0;4>G;++G)I=(c=E[0+4*G]+3)+E[3+4*G],H=E[1+4*G]+E[2+4*G],Y=E[1+4*G]-E[2+4*G],te=c-E[3+4*G],S[w+0]=I+H>>3,S[w+16]=te+Y>>3,S[w+32]=I-H>>3,S[w+48]=te-Y>>3,w+=64}function Gi(c,p,S){var w,G=p-32,E=it,I=255-c[G-1];for(w=0;w<S;++w){var H,Y=E,te=I+c[p-1];for(H=0;H<S;++H)c[p+H]=Y[te+c[G+H]];p+=32}}function Ot(c,p){Gi(c,p,4)}function ir(c,p){Gi(c,p,8)}function Ia(c,p){Gi(c,p,16)}function hs(c,p){var S;for(S=0;16>S;++S)l(c,p+32*S,c,p-32,16)}function Mo(c,p){var S;for(S=16;0<S;--S)d(c,p,c[p-1],16),p+=32}function wn(c,p,S){var w;for(w=0;16>w;++w)d(p,S+32*w,c,16)}function io(c,p){var S,w=16;for(S=0;16>S;++S)w+=c[p-1+32*S]+c[p+S-32];wn(w>>5,c,p)}function Fe(c,p){var S,w=8;for(S=0;16>S;++S)w+=c[p-1+32*S];wn(w>>4,c,p)}function di(c,p){var S,w=8;for(S=0;16>S;++S)w+=c[p+S-32];wn(w>>4,c,p)}function Bn(c,p){wn(128,c,p)}function Dt(c,p,S){return c+2*p+S+2>>2}function _n(c,p){var S,w=p-32;for(w=new Uint8Array([Dt(c[w-1],c[w+0],c[w+1]),Dt(c[w+0],c[w+1],c[w+2]),Dt(c[w+1],c[w+2],c[w+3]),Dt(c[w+2],c[w+3],c[w+4])]),S=0;4>S;++S)l(c,p+32*S,w,0,w.length)}function Ma(c,p){var S=c[p-1],w=c[p-1+32],G=c[p-1+64],E=c[p-1+96];He(c,p+0,16843009*Dt(c[p-1-32],S,w)),He(c,p+32,16843009*Dt(S,w,G)),He(c,p+64,16843009*Dt(w,G,E)),He(c,p+96,16843009*Dt(G,E,E))}function Ti(c,p){var S,w=4;for(S=0;4>S;++S)w+=c[p+S-32]+c[p-1+32*S];for(w>>=3,S=0;4>S;++S)d(c,p+32*S,w,4)}function na(c,p){var S=c[p-1+0],w=c[p-1+32],G=c[p-1+64],E=c[p-1-32],I=c[p+0-32],H=c[p+1-32],Y=c[p+2-32],te=c[p+3-32];c[p+0+96]=Dt(w,G,c[p-1+96]),c[p+1+96]=c[p+0+64]=Dt(S,w,G),c[p+2+96]=c[p+1+64]=c[p+0+32]=Dt(E,S,w),c[p+3+96]=c[p+2+64]=c[p+1+32]=c[p+0+0]=Dt(I,E,S),c[p+3+64]=c[p+2+32]=c[p+1+0]=Dt(H,I,E),c[p+3+32]=c[p+2+0]=Dt(Y,H,I),c[p+3+0]=Dt(te,Y,H)}function Qi(c,p){var S=c[p+1-32],w=c[p+2-32],G=c[p+3-32],E=c[p+4-32],I=c[p+5-32],H=c[p+6-32],Y=c[p+7-32];c[p+0+0]=Dt(c[p+0-32],S,w),c[p+1+0]=c[p+0+32]=Dt(S,w,G),c[p+2+0]=c[p+1+32]=c[p+0+64]=Dt(w,G,E),c[p+3+0]=c[p+2+32]=c[p+1+64]=c[p+0+96]=Dt(G,E,I),c[p+3+32]=c[p+2+64]=c[p+1+96]=Dt(E,I,H),c[p+3+64]=c[p+2+96]=Dt(I,H,Y),c[p+3+96]=Dt(H,Y,Y)}function ra(c,p){var S=c[p-1+0],w=c[p-1+32],G=c[p-1+64],E=c[p-1-32],I=c[p+0-32],H=c[p+1-32],Y=c[p+2-32],te=c[p+3-32];c[p+0+0]=c[p+1+64]=E+I+1>>1,c[p+1+0]=c[p+2+64]=I+H+1>>1,c[p+2+0]=c[p+3+64]=H+Y+1>>1,c[p+3+0]=Y+te+1>>1,c[p+0+96]=Dt(G,w,S),c[p+0+64]=Dt(w,S,E),c[p+0+32]=c[p+1+96]=Dt(S,E,I),c[p+1+32]=c[p+2+96]=Dt(E,I,H),c[p+2+32]=c[p+3+96]=Dt(I,H,Y),c[p+3+32]=Dt(H,Y,te)}function Fa(c,p){var S=c[p+0-32],w=c[p+1-32],G=c[p+2-32],E=c[p+3-32],I=c[p+4-32],H=c[p+5-32],Y=c[p+6-32],te=c[p+7-32];c[p+0+0]=S+w+1>>1,c[p+1+0]=c[p+0+64]=w+G+1>>1,c[p+2+0]=c[p+1+64]=G+E+1>>1,c[p+3+0]=c[p+2+64]=E+I+1>>1,c[p+0+32]=Dt(S,w,G),c[p+1+32]=c[p+0+96]=Dt(w,G,E),c[p+2+32]=c[p+1+96]=Dt(G,E,I),c[p+3+32]=c[p+2+96]=Dt(E,I,H),c[p+3+64]=Dt(I,H,Y),c[p+3+96]=Dt(H,Y,te)}function ma(c,p){var S=c[p-1+0],w=c[p-1+32],G=c[p-1+64],E=c[p-1+96];c[p+0+0]=S+w+1>>1,c[p+2+0]=c[p+0+32]=w+G+1>>1,c[p+2+32]=c[p+0+64]=G+E+1>>1,c[p+1+0]=Dt(S,w,G),c[p+3+0]=c[p+1+32]=Dt(w,G,E),c[p+3+32]=c[p+1+64]=Dt(G,E,E),c[p+3+64]=c[p+2+64]=c[p+0+96]=c[p+1+96]=c[p+2+96]=c[p+3+96]=E}function yn(c,p){var S=c[p-1+0],w=c[p-1+32],G=c[p-1+64],E=c[p-1+96],I=c[p-1-32],H=c[p+0-32],Y=c[p+1-32],te=c[p+2-32];c[p+0+0]=c[p+2+32]=S+I+1>>1,c[p+0+32]=c[p+2+64]=w+S+1>>1,c[p+0+64]=c[p+2+96]=G+w+1>>1,c[p+0+96]=E+G+1>>1,c[p+3+0]=Dt(H,Y,te),c[p+2+0]=Dt(I,H,Y),c[p+1+0]=c[p+3+32]=Dt(S,I,H),c[p+1+32]=c[p+3+64]=Dt(w,S,I),c[p+1+64]=c[p+3+96]=Dt(G,w,S),c[p+1+96]=Dt(E,G,w)}function Xa(c,p){var S;for(S=0;8>S;++S)l(c,p+32*S,c,p-32,8)}function $a(c,p){var S;for(S=0;8>S;++S)d(c,p,c[p-1],8),p+=32}function kn(c,p,S){var w;for(w=0;8>w;++w)d(p,S+32*w,c,8)}function Mn(c,p){var S,w=8;for(S=0;8>S;++S)w+=c[p+S-32]+c[p-1+32*S];kn(w>>4,c,p)}function So(c,p){var S,w=4;for(S=0;8>S;++S)w+=c[p+S-32];kn(w>>3,c,p)}function Ci(c,p){var S,w=4;for(S=0;8>S;++S)w+=c[p-1+32*S];kn(w>>3,c,p)}function Zn(c,p){kn(128,c,p)}function Er(c,p,S){var w=c[p-S],G=c[p+0],E=3*(G-w)+Be[1020+c[p-2*S]-c[p+S]],I=Nt[112+(E+4>>3)];c[p-S]=it[255+w+Nt[112+(E+3>>3)]],c[p+0]=it[255+G-I]}function Cr(c,p,S,w){var G=c[p+0],E=c[p+S];return et[255+c[p-2*S]-c[p-S]]>w||et[255+E-G]>w}function vn(c,p,S,w){return 4*et[255+c[p-S]-c[p+0]]+et[255+c[p-2*S]-c[p+S]]<=w}function ar(c,p,S,w,G){var E=c[p-3*S],I=c[p-2*S],H=c[p-S],Y=c[p+0],te=c[p+S],Se=c[p+2*S],Ve=c[p+3*S];return 4*et[255+H-Y]+et[255+I-te]>w?0:et[255+c[p-4*S]-E]<=G&&et[255+E-I]<=G&&et[255+I-H]<=G&&et[255+Ve-Se]<=G&&et[255+Se-te]<=G&&et[255+te-Y]<=G}function Br(c,p,S,w){var G=2*w+1;for(w=0;16>w;++w)vn(c,p+w,S,G)&&Er(c,p+w,S)}function Go(c,p,S,w){var G=2*w+1;for(w=0;16>w;++w)vn(c,p+w*S,1,G)&&Er(c,p+w*S,1)}function Wo(c,p,S,w){var G;for(G=3;0<G;--G)Br(c,p+=4*S,S,w)}function nr(c,p,S,w){var G;for(G=3;0<G;--G)Go(c,p+=4,S,w)}function Rr(c,p,S,w,G,E,I,H){for(E=2*E+1;0<G--;){if(ar(c,p,S,E,I))if(Cr(c,p,S,H))Er(c,p,S);else{var Y=c,te=p,Se=S,Ve=Y[te-2*Se],ee=Y[te-Se],_e=Y[te+0],Ee=Y[te+Se],tt=Y[te+2*Se],Re=27*(rt=Be[1020+3*(_e-ee)+Be[1020+Ve-Ee]])+63>>7,Qe=18*rt+63>>7,rt=9*rt+63>>7;Y[te-3*Se]=it[255+Y[te-3*Se]+rt],Y[te-2*Se]=it[255+Ve+Qe],Y[te-Se]=it[255+ee+Re],Y[te+0]=it[255+_e-Re],Y[te+Se]=it[255+Ee-Qe],Y[te+2*Se]=it[255+tt-rt]}p+=w}}function Or(c,p,S,w,G,E,I,H){for(E=2*E+1;0<G--;){if(ar(c,p,S,E,I))if(Cr(c,p,S,H))Er(c,p,S);else{var Y=c,te=p,Se=S,Ve=Y[te-Se],ee=Y[te+0],_e=Y[te+Se],Ee=Nt[112+(4+(tt=3*(ee-Ve))>>3)],tt=Nt[112+(tt+3>>3)],Re=Ee+1>>1;Y[te-2*Se]=it[255+Y[te-2*Se]+Re],Y[te-Se]=it[255+Ve+tt],Y[te+0]=it[255+ee-Ee],Y[te+Se]=it[255+_e-Re]}p+=w}}function Xr(c,p,S,w,G,E){Rr(c,p,S,1,16,w,G,E)}function Ao(c,p,S,w,G,E){Rr(c,p,1,S,16,w,G,E)}function Ls(c,p,S,w,G,E){var I;for(I=3;0<I;--I)Or(c,p+=4*S,S,1,16,w,G,E)}function v(c,p,S,w,G,E){var I;for(I=3;0<I;--I)Or(c,p+=4,1,S,16,w,G,E)}function k(c,p,S,w,G,E,I,H){Rr(c,p,G,1,8,E,I,H),Rr(S,w,G,1,8,E,I,H)}function ie(c,p,S,w,G,E,I,H){Rr(c,p,1,G,8,E,I,H),Rr(S,w,1,G,8,E,I,H)}function ve(c,p,S,w,G,E,I,H){Or(c,p+4*G,G,1,8,E,I,H),Or(S,w+4*G,G,1,8,E,I,H)}function Ge(c,p,S,w,G,E,I,H){Or(c,p+4,1,G,8,E,I,H),Or(S,w+4,1,G,8,E,I,H)}function Je(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ci,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ht(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ii(){this.ua=0,this.Wa=new Tt,this.vb=new Tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new me,this.yc=new Q}function Ai(){this.xb=this.a=0,this.l=new ot,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ii,this.ab=0,this.gc=y(4,Xt),this.Oc=0}function Ri(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ot,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function la(c,p,S,w,G,E,I){for(c=c==null?0:c[p+0],p=0;p<I;++p)G[E+p]=c+S[w+p]&255,c=G[E+p]}function va(c,p,S,w,G,E,I){var H;if(c==null)la(null,null,S,w,G,E,I);else for(H=0;H<I;++H)G[E+H]=c[p+H]+S[w+H]&255}function Gn(c,p,S,w,G,E,I){if(c==null)la(null,null,S,w,G,E,I);else{var H,Y=c[p+0],te=Y,Se=Y;for(H=0;H<I;++H)te=Se+(Y=c[p+H])-te,Se=S[w+H]+(-256&te?0>te?0:255:te)&255,te=Y,G[E+H]=Se}}function Ga(c,p,S,w){var G=p.width,E=p.o;if(n(c!=null&&p!=null),0>S||0>=w||S+w>E)return null;if(!c.Cc){if(c.ga==null){var I;if(c.ga=new Ri,(I=c.ga==null)||(I=p.width*p.o,n(c.Gb.length==0),c.Gb=u(I),c.Uc=0,c.Gb==null?I=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,I=1),I=!I),!I){I=c.ga;var H=c.Fa,Y=c.P,te=c.qc,Se=c.mb,Ve=c.nb,ee=Y+1,_e=te-1,Ee=I.l;if(n(H!=null&&Se!=null&&p!=null),js[0]=null,js[1]=la,js[2]=va,js[3]=Gn,I.ca=Se,I.tb=Ve,I.c=p.width,I.i=p.height,n(0<I.c&&0<I.i),1>=te)p=0;else if(I.$a=3&H[Y+0],I.Z=H[Y+0]>>2&3,I.Lc=H[Y+0]>>4&3,Y=H[Y+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||Y)p=0;else if(Ee.put=Ut,Ee.ac=Li,Ee.bc=gn,Ee.ma=I,Ee.width=p.width,Ee.height=p.height,Ee.Da=p.Da,Ee.v=p.v,Ee.va=p.va,Ee.j=p.j,Ee.o=p.o,I.$a)e:{n(I.$a==1),p=Yn();t:for(;;){if(p==null){p=0;break e}if(n(I!=null),I.mc=p,p.c=I.c,p.i=I.i,p.l=I.l,p.l.ma=I,p.l.width=I.c,p.l.height=I.i,p.a=0,Le(p.m,H,ee,_e),!Ha(I.c,I.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Xi(p.s)?(I.ic=1,H=p.c*p.i,p.Ta=null,p.Ua=0,p.V=u(H),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(I.ic=0,p=sn(p,I.c)),!p))break t;p=1;break e}I.mc=null,p=0}else p=_e>=I.c*I.i;I=!p}if(I)return null;c.ga.Lc!=1?c.Ga=0:w=E-S}n(c.ga!=null),n(S+w<=E);e:{if(p=(H=c.ga).c,E=H.l.o,H.$a==0){if(ee=c.rc,_e=c.Vc,Ee=c.Fa,Y=c.P+1+S*p,te=c.mb,Se=c.nb+S*p,n(Y<=c.P+c.qc),H.Z!=0)for(n(js[H.Z]!=null),I=0;I<w;++I)js[H.Z](ee,_e,Ee,Y,te,Se,p),ee=te,_e=Se,Se+=p,Y+=p;else for(I=0;I<w;++I)l(te,Se,Ee,Y,p),ee=te,_e=Se,Se+=p,Y+=p;c.rc=ee,c.Vc=_e}else{if(n(H.mc!=null),p=S+w,n((I=H.mc)!=null),n(p<=I.i),I.C>=p)p=1;else if(H.ic||wo(),H.ic){H=I.V,ee=I.Ba,_e=I.c;var tt=I.i,Re=(Ee=1,Y=I.$/_e,te=I.$%_e,Se=I.m,Ve=I.s,I.$),Qe=_e*tt,rt=_e*p,yt=Ve.wc,ft=Re<rt?qa(Ve,te,Y):null;n(Re<=Qe),n(p<=tt),n(Xi(Ve));t:for(;;){for(;!Se.h&&Re<rt;){if(te&yt||(ft=qa(Ve,te,Y)),n(ft!=null),ye(Se),256>(tt=Yi(ft.G[0],ft.H[0],Se)))H[ee+Re]=tt,++Re,++te>=_e&&(te=0,++Y<=p&&!(Y%16)&&wa(I,Y));else{if(!(280>tt)){Ee=0;break t}tt=Ka(tt-256,Se);var ei,Pt=Yi(ft.G[4],ft.H[4],Se);if(ye(Se),!(Re>=(Pt=Ja(_e,Pt=Ka(Pt,Se)))&&Qe-Re>=tt)){Ee=0;break t}for(ei=0;ei<tt;++ei)H[ee+Re+ei]=H[ee+Re+ei-Pt];for(Re+=tt,te+=tt;te>=_e;)te-=_e,++Y<=p&&!(Y%16)&&wa(I,Y);Re<rt&&te&yt&&(ft=qa(Ve,te,Y))}n(Se.h==Z(Se))}wa(I,Y>p?p:Y);break t}!Ee||Se.h&&Re<Qe?(Ee=0,I.a=Se.h?5:3):I.$=Re,p=Ee}else p=St(I,I.V,I.Ba,I.c,I.i,p,Wa);if(!p){w=0;break e}}S+w>=E&&(c.Cc=1),w=1}if(!w)return null;if(c.Cc&&((w=c.ga)!=null&&(w.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+S*G}function Ln(c,p,S,w,G,E){for(;0<G--;){var I,H=c,Y=p+(S?1:0),te=c,Se=p+(S?0:3);for(I=0;I<w;++I){var Ve=te[Se+4*I];Ve!=255&&(Ve*=32897,H[Y+4*I+0]=H[Y+4*I+0]*Ve>>23,H[Y+4*I+1]=H[Y+4*I+1]*Ve>>23,H[Y+4*I+2]=H[Y+4*I+2]*Ve>>23)}p+=E}}function In(c,p,S,w,G){for(;0<w--;){var E;for(E=0;E<S;++E){var I=c[p+2*E+0],H=15&(te=c[p+2*E+1]),Y=4369*H,te=(240&te|te>>4)*Y>>16;c[p+2*E+0]=(240&I|I>>4)*Y>>16&240|(15&I|I<<4)*Y>>16>>4&15,c[p+2*E+1]=240&te|H}p+=G}}function kr(c,p,S,w,G,E,I,H){var Y,te,Se=255;for(te=0;te<G;++te){for(Y=0;Y<w;++Y){var Ve=c[p+Y];E[I+4*Y]=Ve,Se&=Ve}p+=S,I+=H}return Se!=255}function Yo(c,p,S,w,G){var E;for(E=0;E<G;++E)S[w+E]=c[p+E]>>8}function wo(){vs=Ln,Kr=In,g=kr,L=Yo}function Xo(c,p,S){q[c]=function(w,G,E,I,H,Y,te,Se,Ve,ee,_e,Ee,tt,Re,Qe,rt,yt){var ft,ei=yt-1>>1,Pt=H[Y+0]|te[Se+0]<<16,zi=Ve[ee+0]|_e[Ee+0]<<16;n(w!=null);var Zt=3*Pt+zi+131074>>2;for(p(w[G+0],255&Zt,Zt>>16,tt,Re),E!=null&&(Zt=3*zi+Pt+131074>>2,p(E[I+0],255&Zt,Zt>>16,Qe,rt)),ft=1;ft<=ei;++ft){var oa=H[Y+ft]|te[Se+ft]<<16,jn=Ve[ee+ft]|_e[Ee+ft]<<16,Vi=Pt+oa+zi+jn+524296,Ht=Vi+2*(oa+zi)>>3;Zt=Ht+Pt>>1,Pt=(Vi=Vi+2*(Pt+jn)>>3)+oa>>1,p(w[G+2*ft-1],255&Zt,Zt>>16,tt,Re+(2*ft-1)*S),p(w[G+2*ft-0],255&Pt,Pt>>16,tt,Re+(2*ft-0)*S),E!=null&&(Zt=Vi+zi>>1,Pt=Ht+jn>>1,p(E[I+2*ft-1],255&Zt,Zt>>16,Qe,rt+(2*ft-1)*S),p(E[I+2*ft+0],255&Pt,Pt>>16,Qe,rt+(2*ft+0)*S)),Pt=oa,zi=jn}1&yt||(Zt=3*Pt+zi+131074>>2,p(w[G+yt-1],255&Zt,Zt>>16,tt,Re+(yt-1)*S),E!=null&&(Zt=3*zi+Pt+131074>>2,p(E[I+yt-1],255&Zt,Zt>>16,Qe,rt+(yt-1)*S)))}}function lo(){Ur[wt]=el,Ur[kt]=vl,Ur[qt]=Zd,Ur[Ii]=cd,Ur[Fi]=Rs,Ur[Gt]=ss,Ur[Et]=Os,Ur[Wt]=vl,Ur[ri]=cd,Ur[Zi]=Rs,Ur[Ki]=ss}function Ts(c){return c&-16384?0>c?0:255:c>>ud}function co(c,p){return Ts((19077*c>>8)+(26149*p>>8)-14234)}function qr(c,p,S){return Ts((19077*c>>8)-(6419*p>>8)-(13320*S>>8)+8708)}function gs(c,p){return Ts((19077*c>>8)+(33050*p>>8)-17685)}function Zo(c,p,S,w,G){w[G+0]=co(c,S),w[G+1]=qr(c,p,S),w[G+2]=gs(c,p)}function rr(c,p,S,w,G){w[G+0]=gs(c,p),w[G+1]=qr(c,p,S),w[G+2]=co(c,S)}function as(c,p,S,w,G){var E=qr(c,p,S);p=E<<3&224|gs(c,p)>>3,w[G+0]=248&co(c,S)|E>>5,w[G+1]=p}function ns(c,p,S,w,G){var E=240&gs(c,p)|15;w[G+0]=240&co(c,S)|qr(c,p,S)>>4,w[G+1]=E}function Lo(c,p,S,w,G){w[G+0]=255,Zo(c,p,S,w,G+1)}function To(c,p,S,w,G){rr(c,p,S,w,G),w[G+3]=255}function xr(c,p,S,w,G){Zo(c,p,S,w,G),w[G+3]=255}function Ko(c,p,S){q[c]=function(w,G,E,I,H,Y,te,Se,Ve){for(var ee=Se+(-2&Ve)*S;Se!=ee;)p(w[G+0],E[I+0],H[Y+0],te,Se),p(w[G+1],E[I+0],H[Y+0],te,Se+S),G+=2,++I,++Y,Se+=2*S;1&Ve&&p(w[G+0],E[I+0],H[Y+0],te,Se)}}function zs(c,p,S){return S==0?c==0?p==0?6:5:p==0?4:0:S}function Js(c,p,S,w,G){switch(c>>>30){case 3:Ro(p,S,w,G,0);break;case 2:en(p,S,w,G);break;case 1:qi(p,S,w,G)}}function Kn(c,p){var S,w,G=p.M,E=p.Nb,I=c.oc,H=c.pc+40,Y=c.oc,te=c.pc+584,Se=c.oc,Ve=c.pc+600;for(S=0;16>S;++S)I[H+32*S-1]=129;for(S=0;8>S;++S)Y[te+32*S-1]=129,Se[Ve+32*S-1]=129;for(0<G?I[H-1-32]=Y[te-1-32]=Se[Ve-1-32]=129:(d(I,H-32-1,127,21),d(Y,te-32-1,127,9),d(Se,Ve-32-1,127,9)),w=0;w<c.za;++w){var ee=p.ya[p.aa+w];if(0<w){for(S=-1;16>S;++S)l(I,H+32*S-4,I,H+32*S+12,4);for(S=-1;8>S;++S)l(Y,te+32*S-4,Y,te+32*S+4,4),l(Se,Ve+32*S-4,Se,Ve+32*S+4,4)}var _e=c.Gd,Ee=c.Hd+w,tt=ee.ad,Re=ee.Hc;if(0<G&&(l(I,H-32,_e[Ee].y,0,16),l(Y,te-32,_e[Ee].f,0,8),l(Se,Ve-32,_e[Ee].ea,0,8)),ee.Za){var Qe=I,rt=H-32+16;for(0<G&&(w>=c.za-1?d(Qe,rt,_e[Ee].y[15],4):l(Qe,rt,_e[Ee+1].y,0,4)),S=0;4>S;S++)Qe[rt+128+S]=Qe[rt+256+S]=Qe[rt+384+S]=Qe[rt+0+S];for(S=0;16>S;++S,Re<<=2)Qe=I,rt=H+er[S],Za[ee.Ob[S]](Qe,rt),Js(Re,tt,16*+S,Qe,rt)}else if(Qe=zs(w,G,ee.Ob[0]),lr[Qe](I,H),Re!=0)for(S=0;16>S;++S,Re<<=2)Js(Re,tt,16*+S,I,H+er[S]);for(S=ee.Gc,Qe=zs(w,G,ee.Dd),wi[Qe](Y,te),wi[Qe](Se,Ve),Re=tt,Qe=Y,rt=te,255&(ee=0|S)&&(170&ee?Fr(Re,256,Qe,rt):da(Re,256,Qe,rt)),ee=Se,Re=Ve,255&(S>>=8)&&(170&S?Fr(tt,320,ee,Re):da(tt,320,ee,Re)),G<c.Ub-1&&(l(_e[Ee].y,0,I,H+480,16),l(_e[Ee].f,0,Y,te+224,8),l(_e[Ee].ea,0,Se,Ve+224,8)),S=8*E*c.B,_e=c.sa,Ee=c.ta+16*w+16*E*c.R,tt=c.qa,ee=c.ra+8*w+S,Re=c.Ha,Qe=c.Ia+8*w+S,S=0;16>S;++S)l(_e,Ee+S*c.R,I,H+32*S,16);for(S=0;8>S;++S)l(tt,ee+S*c.B,Y,te+32*S,8),l(Re,Qe+S*c.B,Se,Ve+32*S,8)}}function uo(c,p,S,w,G,E,I,H,Y){var te=[0],Se=[0],Ve=0,ee=Y!=null?Y.kd:0,_e=Y??new ht;if(c==null||12>S)return 7;_e.data=c,_e.w=p,_e.ha=S,p=[p],S=[S],_e.gb=[_e.gb];e:{var Ee=p,tt=S,Re=_e.gb;if(n(c!=null),n(tt!=null),n(Re!=null),Re[0]=0,12<=tt[0]&&!r(c,Ee[0],"RIFF")){if(r(c,Ee[0]+8,"WEBP")){Re=3;break e}var Qe=Ft(c,Ee[0]+4);if(12>Qe||4294967286<Qe){Re=3;break e}if(ee&&Qe>tt[0]-8){Re=7;break e}Re[0]=Qe,Ee[0]+=12,tt[0]-=12}Re=0}if(Re!=0)return Re;for(Qe=0<_e.gb[0],S=S[0];;){e:{var rt=c;tt=p,Re=S;var yt=te,ft=Se,ei=Ee=[0];if((Zt=Ve=[Ve])[0]=0,8>Re[0])Re=7;else{if(!r(rt,tt[0],"VP8X")){if(Ft(rt,tt[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Pt=Ft(rt,tt[0]+8),zi=1+jt(rt,tt[0]+12);if(2147483648<=zi*(rt=1+jt(rt,tt[0]+15))){Re=3;break e}ei!=null&&(ei[0]=Pt),yt!=null&&(yt[0]=zi),ft!=null&&(ft[0]=rt),tt[0]+=18,Re[0]-=18,Zt[0]=1}Re=0}}if(Ve=Ve[0],Ee=Ee[0],Re!=0)return Re;if(tt=!!(2&Ee),!Qe&&Ve)return 3;if(E!=null&&(E[0]=!!(16&Ee)),I!=null&&(I[0]=tt),H!=null&&(H[0]=0),I=te[0],Ee=Se[0],Ve&&tt&&Y==null){Re=0;break}if(4>S){Re=7;break}if(Qe&&Ve||!Qe&&!Ve&&!r(c,p[0],"ALPH")){S=[S],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{Pt=c,Re=p,Qe=S;var Zt=_e.gb;yt=_e.na,ft=_e.P,ei=_e.Sa,zi=22,n(Pt!=null),n(Qe!=null),rt=Re[0];var oa=Qe[0];for(n(yt!=null),n(ei!=null),yt[0]=null,ft[0]=null,ei[0]=0;;){if(Re[0]=rt,Qe[0]=oa,8>oa){Re=7;break e}var jn=Ft(Pt,rt+4);if(4294967286<jn){Re=3;break e}var Vi=8+jn+1&-2;if(zi+=Vi,0<Zt&&zi>Zt){Re=3;break e}if(!r(Pt,rt,"VP8 ")||!r(Pt,rt,"VP8L")){Re=0;break e}if(oa[0]<Vi){Re=7;break e}r(Pt,rt,"ALPH")||(yt[0]=Pt,ft[0]=rt+8,ei[0]=jn),rt+=Vi,oa-=Vi}}if(S=S[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Re!=0)break}S=[S],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(Zt=c,Re=p,Qe=S,yt=_e.gb[0],ft=_e.Ja,ei=_e.xa,Pt=Re[0],rt=!r(Zt,Pt,"VP8 "),zi=!r(Zt,Pt,"VP8L"),n(Zt!=null),n(Qe!=null),n(ft!=null),n(ei!=null),8>Qe[0])Re=7;else{if(rt||zi){if(Zt=Ft(Zt,Pt+4),12<=yt&&Zt>yt-12){Re=3;break e}if(ee&&Zt>Qe[0]-8){Re=7;break e}ft[0]=Zt,Re[0]+=8,Qe[0]-=8,ei[0]=zi}else ei[0]=5<=Qe[0]&&Zt[Pt+0]==47&&!(Zt[Pt+4]>>5),ft[0]=Qe[0];Re=0}if(S=S[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],p=p[0],Re!=0)break;if(4294967286<_e.Ja)return 3;if(H==null||tt||(H[0]=_e.xa?2:1),I=[I],Ee=[Ee],_e.xa){if(5>S){Re=7;break}H=I,ee=Ee,tt=E,c==null||5>S?c=0:5<=S&&c[p+0]==47&&!(c[p+4]>>5)?(Qe=[0],Zt=[0],yt=[0],Le(ft=new R,c,p,S),mt(ft,Qe,Zt,yt)?(H!=null&&(H[0]=Qe[0]),ee!=null&&(ee[0]=Zt[0]),tt!=null&&(tt[0]=yt[0]),c=1):c=0):c=0}else{if(10>S){Re=7;break}H=Ee,c==null||10>S||!gi(c,p+3,S-3)?c=0:(ee=c[p+0]|c[p+1]<<8|c[p+2]<<16,tt=16383&(c[p+7]<<8|c[p+6]),c=16383&(c[p+9]<<8|c[p+8]),1&ee||3<(ee>>1&7)||!(ee>>4&1)||ee>>5>=_e.Ja||!tt||!c?c=0:(I&&(I[0]=tt),H&&(H[0]=c),c=1))}if(!c||(I=I[0],Ee=Ee[0],Ve&&(te[0]!=I||Se[0]!=Ee)))return 3;Y!=null&&(Y[0]=_e,Y.offset=p-Y.w,n(4294967286>p-Y.w),n(Y.offset==Y.ha-S));break}return Re==0||Re==7&&Ve&&Y==null?(E!=null&&(E[0]|=_e.na!=null&&0<_e.na.length),w!=null&&(w[0]=I),G!=null&&(G[0]=Ee),0):Re}function zo(c,p,S){var w=p.width,G=p.height,E=0,I=0,H=w,Y=G;if(p.Da=c!=null&&0<c.Da,p.Da&&(H=c.cd,Y=c.bd,E=c.v,I=c.j,11>S||(E&=-2,I&=-2),0>E||0>I||0>=H||0>=Y||E+H>w||I+Y>G))return 0;if(p.v=E,p.j=I,p.va=E+H,p.o=I+Y,p.U=H,p.T=Y,p.da=c!=null&&0<c.da,p.da){if(!Yt(H,Y,S=[c.ib],E=[c.hb]))return 0;p.ib=S[0],p.hb=E[0]}return p.ob=c!=null&&c.ob,p.Kb=c==null||!c.Sd,p.da&&(p.ob=p.ib<3*w/4&&p.hb<3*G/4,p.Kb=0),1}function ms(c){if(c==null)return 2;if(11>c.S){var p=c.f.RGBA;p.fb+=(c.height-1)*p.A,p.A=-p.A}else p=c.f.kb,c=c.height,p.O+=(c-1)*p.fa,p.fa=-p.fa,p.N+=(c-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(c-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(c-1)*p.lb,p.lb=-p.lb);return 0}function Zr(c,p,S,w){if(w==null||0>=c||0>=p)return 2;if(S!=null){if(S.Da){var G=S.cd,E=S.bd,I=-2&S.v,H=-2&S.j;if(0>I||0>H||0>=G||0>=E||I+G>c||H+E>p)return 2;c=G,p=E}if(S.da){if(!Yt(c,p,G=[S.ib],E=[S.hb]))return 2;c=G[0],p=E[0]}}w.width=c,w.height=p;e:{var Y=w.width,te=w.height;if(c=w.S,0>=Y||0>=te||!(c>=wt&&13>c))c=2;else{if(0>=w.Rd&&w.sd==null){I=E=G=p=0;var Se=(H=Y*pd[c])*te;if(11>c||(E=(te+1)/2*(p=(Y+1)/2),c==12&&(I=(G=Y)*te)),(te=u(Se+2*E+I))==null){c=1;break e}w.sd=te,11>c?((Y=w.f.RGBA).eb=te,Y.fb=0,Y.A=H,Y.size=Se):((Y=w.f.kb).y=te,Y.O=0,Y.fa=H,Y.Fd=Se,Y.f=te,Y.N=0+Se,Y.Ab=p,Y.Cd=E,Y.ea=te,Y.W=0+Se+E,Y.Db=p,Y.Ed=E,c==12&&(Y.F=te,Y.J=0+Se+2*E),Y.Tc=I,Y.lb=G)}if(p=1,G=w.S,E=w.width,I=w.height,G>=wt&&13>G)if(11>G)c=w.f.RGBA,p&=(H=Math.abs(c.A))*(I-1)+E<=c.size,p&=H>=E*pd[G],p&=c.eb!=null;else{c=w.f.kb,H=(E+1)/2,Se=(I+1)/2,Y=Math.abs(c.fa),te=Math.abs(c.Ab);var Ve=Math.abs(c.Db),ee=Math.abs(c.lb),_e=ee*(I-1)+E;p&=Y*(I-1)+E<=c.Fd,p&=te*(Se-1)+H<=c.Cd,p=(p&=Ve*(Se-1)+H<=c.Ed)&Y>=E&te>=H&Ve>=H,p&=c.y!=null,p&=c.f!=null,p&=c.ea!=null,G==12&&(p&=ee>=E,p&=_e<=c.Tc,p&=c.F!=null)}else p=0;c=p?0:2}}return c!=0||S!=null&&S.fd&&(c=ms(w)),c}var _o=64,Mr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],or=24,No=32,fo=8,po=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];zt("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(c){return c},q.Predictor2=function(c,p,S){return p[S+0]},q.Predictor3=function(c,p,S){return p[S+1]},q.Predictor4=function(c,p,S){return p[S-1]},q.Predictor5=function(c,p,S){return Ct(Ct(c,p[S+1]),p[S+0])},q.Predictor6=function(c,p,S){return Ct(c,p[S-1])},q.Predictor7=function(c,p,S){return Ct(c,p[S+0])},q.Predictor8=function(c,p,S){return Ct(p[S-1],p[S+0])},q.Predictor9=function(c,p,S){return Ct(p[S+0],p[S+1])},q.Predictor10=function(c,p,S){return Ct(Ct(c,p[S-1]),Ct(p[S+0],p[S+1]))},q.Predictor11=function(c,p,S){var w=p[S+0];return 0>=ai(w>>24&255,c>>24&255,(p=p[S-1])>>24&255)+ai(w>>16&255,c>>16&255,p>>16&255)+ai(w>>8&255,c>>8&255,p>>8&255)+ai(255&w,255&c,255&p)?w:c},q.Predictor12=function(c,p,S){var w=p[S+0];return(hi((c>>24&255)+(w>>24&255)-((p=p[S-1])>>24&255))<<24|hi((c>>16&255)+(w>>16&255)-(p>>16&255))<<16|hi((c>>8&255)+(w>>8&255)-(p>>8&255))<<8|hi((255&c)+(255&w)-(255&p)))>>>0},q.Predictor13=function(c,p,S){var w=p[S-1];return(ki((c=Ct(c,p[S+0]))>>24&255,w>>24&255)<<24|ki(c>>16&255,w>>16&255)<<16|ki(c>>8&255,w>>8&255)<<8|ki(255&c,255&w))>>>0};var bs=q.PredictorAdd0;q.PredictorAdd1=Oi,zt("Predictor2","PredictorAdd2"),zt("Predictor3","PredictorAdd3"),zt("Predictor4","PredictorAdd4"),zt("Predictor5","PredictorAdd5"),zt("Predictor6","PredictorAdd6"),zt("Predictor7","PredictorAdd7"),zt("Predictor8","PredictorAdd8"),zt("Predictor9","PredictorAdd9"),zt("Predictor10","PredictorAdd10"),zt("Predictor11","PredictorAdd11"),zt("Predictor12","PredictorAdd12"),zt("Predictor13","PredictorAdd13");var rs=q.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var dn,xs=q.ColorIndexInverseTransform,ho=q.MapARGB,ao=q.VP8LColorIndexInverseTransformAlpha,Fn=q.MapAlpha,Co=q.VP8LPredictorsAdd=[];Co.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Eo,Ir,no,sr,aa,os,Nn,Ro,en,Fr,qi,da,La,cn,Oo,Bo,ys,Es,Wl,dd,xl,Yl,Qs,yl,vs,Kr,g,L,W=u(511),pe=u(2041),oe=u(225),Ce=u(767),ke=0,Be=pe,Nt=oe,it=Ce,et=W,wt=0,kt=1,qt=2,Ii=3,Fi=4,Gt=5,Et=6,Wt=7,ri=8,Zi=9,Ki=10,oi=[2,3,7],yr=[3,3,11],Na=[280,256,256,256,40],Ca=[0,1,1,1,0],Gr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Tn=8,Qn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$n=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vr=null,$s=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ta=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vr=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Dn=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Va=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lr=[],Za=[],wi=[],Dr=1,Xl=2,js=[],Ur=[];Xo("UpsampleRgbLinePair",Zo,3),Xo("UpsampleBgrLinePair",rr,3),Xo("UpsampleRgbaLinePair",xr,4),Xo("UpsampleBgraLinePair",To,4),Xo("UpsampleArgbLinePair",Lo,4),Xo("UpsampleRgba4444LinePair",ns,2),Xo("UpsampleRgb565LinePair",as,2);var el=q.UpsampleRgbLinePair,Zd=q.UpsampleBgrLinePair,vl=q.UpsampleRgbaLinePair,cd=q.UpsampleBgraLinePair,Rs=q.UpsampleArgbLinePair,ss=q.UpsampleRgba4444LinePair,Os=q.UpsampleRgb565LinePair,qo=16,jl=1<<qo-1,tl=-227,qs=482,ud=6,Is=0,Pr=u(256),fd=u(256),Ec=u(256),Ku=u(256),Ju=u(qs-tl),Qu=u(qs-tl);Ko("YuvToRgbRow",Zo,3),Ko("YuvToBgrRow",rr,3),Ko("YuvToRgbaRow",xr,4),Ko("YuvToBgraRow",To,4),Ko("YuvToArgbRow",Lo,4),Ko("YuvToRgba4444Row",ns,2),Ko("YuvToRgb565Row",as,2);var er=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sl=[0,2,8],Zl=[8,7,6,4,4,2,2,2,1,1,1,1],Kl=1;this.WebPDecodeRGBA=function(c,p,S,w,G){var E=kt,I=new Je,H=new Bt;I.ba=H,H.S=E,H.width=[H.width],H.height=[H.height];var Y=H.width,te=H.height,Se=new vt;if(Se==null||c==null)var Ve=2;else n(Se!=null),Ve=uo(c,p,S,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Ve!=0?Y=0:(Y!=null&&(Y[0]=Se.width[0]),te!=null&&(te[0]=Se.height[0]),Y=1),Y){H.width=H.width[0],H.height=H.height[0],w!=null&&(w[0]=H.width),G!=null&&(G[0]=H.height);e:{if(w=new ot,(G=new ht).data=c,G.w=p,G.ha=S,G.kd=1,p=[0],n(G!=null),((c=uo(G.data,G.w,G.ha,null,null,null,p,null,G))==0||c==7)&&p[0]&&(c=4),(p=c)==0){if(n(I!=null),w.data=G.data,w.w=G.w+G.offset,w.ha=G.ha-G.offset,w.put=Ut,w.ac=Li,w.bc=gn,w.ma=I,G.xa){if((c=Yn())==null){I=1;break e}if((function(ee,_e){var Ee=[0],tt=[0],Re=[0];t:for(;;){if(ee==null)return 0;if(_e==null)return ee.a=2,0;if(ee.l=_e,ee.a=0,Le(ee.m,_e.data,_e.w,_e.ha),!mt(ee.m,Ee,tt,Re)){ee.a=3;break t}if(ee.xb=Xl,_e.width=Ee[0],_e.height=tt[0],!Ha(Ee[0],tt[0],1,ee,null))break t;return 1}return n(ee.a!=0),0})(c,w)){if(w=(p=Zr(w.width,w.height,I.Oa,I.ba))==0){t:{w=c;i:for(;;){if(w==null){w=0;break t}if(n(w.s.yc!=null),n(w.s.Ya!=null),n(0<w.s.Wb),n((S=w.l)!=null),n((G=S.ma)!=null),w.xb!=0){if(w.ca=G.ba,w.tb=G.tb,n(w.ca!=null),!zo(G.Oa,S,Ii)){w.a=2;break i}if(!sn(w,S.width)||S.da)break i;if((S.da||bt(w.ca.S))&&wo(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&wo()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!X(w.s.vb,w.s.Wa.Xa)){w.a=1;break i}w.xb=0}if(!St(w,w.V,w.Ba,w.c,w.i,S.o,xa))break i;G.Dc=w.Ma,w=1;break t}n(w.a!=0),w=0}w=!w}w&&(p=c.a)}else p=c.a}else{if((c=new $e)==null){I=1;break e}if(c.Fa=G.na,c.P=G.P,c.qc=G.Sa,ni(c,w)){if((p=Zr(w.width,w.height,I.Oa,I.ba))==0){if(c.Aa=0,S=I.Oa,n((G=c)!=null),S!=null){if(0<(Y=0>(Y=S.Md)?0:100<Y?255:255*Y/100)){for(te=Se=0;4>te;++te)12>(Ve=G.pb[te]).lc&&(Ve.ia=Y*Zl[0>Ve.lc?0:Ve.lc]>>3),Se|=Ve.ia;Se&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=S.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function(ee,_e){if(ee==null)return 0;if(_e==null)return xt(ee,2,"NULL VP8Io parameter in VP8Decode().");if(!ee.cb&&!ni(ee,_e))return 0;if(n(ee.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(ee.L=0);var Ee=Sl[ee.L];if(ee.L==2?(ee.yb=0,ee.zb=0):(ee.yb=_e.v-Ee>>4,ee.zb=_e.j-Ee>>4,0>ee.yb&&(ee.yb=0),0>ee.zb&&(ee.zb=0)),ee.Va=_e.o+15+Ee>>4,ee.Hb=_e.va+15+Ee>>4,ee.Hb>ee.za&&(ee.Hb=ee.za),ee.Va>ee.Ub&&(ee.Va=ee.Ub),0<ee.L){var tt=ee.ed;for(Ee=0;4>Ee;++Ee){var Re;if(ee.Qa.Cb){var Qe=ee.Qa.Lb[Ee];ee.Qa.Fb||(Qe+=tt.Tb)}else Qe=tt.Tb;for(Re=0;1>=Re;++Re){var rt=ee.gd[Ee][Re],yt=Qe;if(tt.Pc&&(yt+=tt.vd[0],Re&&(yt+=tt.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var ft=yt;0<tt.wb&&(ft=4<tt.wb?ft>>2:ft>>1)>9-tt.wb&&(ft=9-tt.wb),1>ft&&(ft=1),rt.dd=ft,rt.tc=2*yt+ft,rt.ld=40<=yt?2:15<=yt?1:0}else rt.tc=0;rt.La=Re}}}Ee=0}else xt(ee,6,"Frame setup failed"),Ee=ee.a;if(Ee=Ee==0){if(Ee){ee.$c=0,0<ee.Aa||(ee.Ic=Kl);t:{Ee=ee.Ic,tt=4*(ft=ee.za);var ei=32*ft,Pt=ft+1,zi=0<ee.L?ft*(0<ee.Aa?2:1):0,Zt=(ee.Aa==2?2:1)*ft;if((rt=tt+832+(Re=3*(16*Ee+Sl[ee.L])/2*ei)+(Qe=ee.Fa!=null&&0<ee.Fa.length?ee.Kc.c*ee.Kc.i:0))!=rt)Ee=0;else{if(rt>ee.Vb){if(ee.Vb=0,ee.Ec=u(rt),ee.Fc=0,ee.Ec==null){Ee=xt(ee,1,"no memory during frame initialization.");break t}ee.Vb=rt}rt=ee.Ec,yt=ee.Fc,ee.Ac=rt,ee.Bc=yt,yt+=tt,ee.Gd=y(ei,Ae),ee.Hd=0,ee.rb=y(Pt+1,vi),ee.sb=1,ee.wa=zi?y(zi,fi):null,ee.Y=0,ee.D.Nb=0,ee.D.wa=ee.wa,ee.D.Y=ee.Y,0<ee.Aa&&(ee.D.Y+=ft),n(!0),ee.oc=rt,ee.pc=yt,yt+=832,ee.ya=y(Zt,Ya),ee.aa=0,ee.D.ya=ee.ya,ee.D.aa=ee.aa,ee.Aa==2&&(ee.D.aa+=ft),ee.R=16*ft,ee.B=8*ft,ft=(ei=Sl[ee.L])*ee.R,ei=ei/2*ee.B,ee.sa=rt,ee.ta=yt+ft,ee.qa=ee.sa,ee.ra=ee.ta+16*Ee*ee.R+ei,ee.Ha=ee.qa,ee.Ia=ee.ra+8*Ee*ee.B+ei,ee.$c=0,yt+=Re,ee.mb=Qe?rt:null,ee.nb=Qe?yt:null,n(yt+Qe<=ee.Fc+ee.Vb),ji(ee),d(ee.Ac,ee.Bc,0,tt),Ee=1}}if(Ee){if(_e.ka=0,_e.y=ee.sa,_e.O=ee.ta,_e.f=ee.qa,_e.N=ee.ra,_e.ea=ee.Ha,_e.Vd=ee.Ia,_e.fa=ee.R,_e.Rc=ee.B,_e.F=null,_e.J=0,!ke){for(Ee=-255;255>=Ee;++Ee)W[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)pe[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)oe[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Ce[255+Ee]=0>Ee?0:255<Ee?255:Ee;ke=1}Nn=Mi,Ro=xn,Fr=fa,qi=ln,da=Si,en=Ji,La=Xr,cn=Ao,Oo=k,Bo=ie,ys=Ls,Es=v,Wl=ve,dd=Ge,xl=Br,Yl=Go,Qs=Wo,yl=nr,Za[0]=Ti,Za[1]=Ot,Za[2]=_n,Za[3]=Ma,Za[4]=na,Za[5]=ra,Za[6]=Qi,Za[7]=Fa,Za[8]=yn,Za[9]=ma,lr[0]=io,lr[1]=Ia,lr[2]=hs,lr[3]=Mo,lr[4]=Fe,lr[5]=di,lr[6]=Bn,wi[0]=Mn,wi[1]=ir,wi[2]=Xa,wi[3]=$a,wi[4]=Ci,wi[5]=So,wi[6]=Zn,Ee=1}else Ee=0}Ee&&(Ee=(function(oa,jn){for(oa.M=0;oa.M<oa.Va;++oa.M){var Vi,Ht=oa.Jc[oa.M&oa.Xb],Lt=oa.m,zn=oa;for(Vi=0;Vi<zn.za;++Vi){var _i=Lt,Wi=zn,Da=Wi.Ac,jr=Wi.Bc+4*Vi,Hr=Wi.zc,un=Wi.ya[Wi.aa+Vi];if(Wi.Qa.Bb?un.$b=Xe(_i,Wi.Pa.jb[0])?2+Xe(_i,Wi.Pa.jb[2]):Xe(_i,Wi.Pa.jb[1]):un.$b=0,Wi.kc&&(un.Ad=Xe(_i,Wi.Bd)),un.Za=!Xe(_i,145)+0,un.Za){var dr=un.Ob,Jr=0;for(Wi=0;4>Wi;++Wi){var cr,ea=Hr[0+Wi];for(cr=0;4>cr;++cr){ea=Dn[Da[jr+cr]][ea];for(var ja=Ta[Xe(_i,ea[0])];0<ja;)ja=Ta[2*ja+Xe(_i,ea[ja])];ea=-ja,Da[jr+cr]=ea}l(dr,Jr,Da,jr,4),Jr+=4,Hr[0+Wi]=ea}}else ea=Xe(_i,156)?Xe(_i,128)?1:3:Xe(_i,163)?2:0,un.Ob[0]=ea,d(Da,jr,ea,4),d(Hr,0,ea,4);un.Dd=Xe(_i,142)?Xe(_i,114)?Xe(_i,183)?1:3:2:0}if(zn.m.Ka)return xt(oa,7,"Premature end-of-partition0 encountered.");for(;oa.ja<oa.za;++oa.ja){if(zn=Ht,_i=(Lt=oa).rb[Lt.sb-1],Da=Lt.rb[Lt.sb+Lt.ja],Vi=Lt.ya[Lt.aa+Lt.ja],jr=Lt.kc?Vi.Ad:0)_i.la=Da.la=0,Vi.Za||(_i.Na=Da.Na=0),Vi.Hc=0,Vi.Gc=0,Vi.ia=0;else{var En,Ba;if(_i=Da,Da=zn,jr=Lt.Pa.Xc,Hr=Lt.ya[Lt.aa+Lt.ja],un=Lt.pb[Hr.$b],Wi=Hr.ad,dr=0,Jr=Lt.rb[Lt.sb-1],ea=cr=0,d(Wi,dr,0,384),Hr.Za)var Sr=0,Rn=jr[3];else{ja=u(16);var Sa=_i.Na+Jr.Na;if(Sa=vr(Da,jr[1],Sa,un.Eb,0,ja,0),_i.Na=Jr.Na=(0<Sa)+0,1<Sa)Nn(ja,0,Wi,dr);else{var tr=ja[0]+3>>3;for(ja=0;256>ja;ja+=16)Wi[dr+ja]=tr}Sr=1,Rn=jr[0]}var Ua=15&_i.la,ur=15&Jr.la;for(ja=0;4>ja;++ja){var fr=1&ur;for(tr=Ba=0;4>tr;++tr)Ua=Ua>>1|(fr=(Sa=vr(Da,Rn,Sa=fr+(1&Ua),un.Sc,Sr,Wi,dr))>Sr)<<7,Ba=Ba<<2|(3<Sa?3:1<Sa?2:Wi[dr+0]!=0),dr+=16;Ua>>=4,ur=ur>>1|fr<<7,cr=(cr<<8|Ba)>>>0}for(Rn=Ua,Sr=ur>>4,En=0;4>En;En+=2){for(Ba=0,Ua=_i.la>>4+En,ur=Jr.la>>4+En,ja=0;2>ja;++ja){for(fr=1&ur,tr=0;2>tr;++tr)Sa=fr+(1&Ua),Ua=Ua>>1|(fr=0<(Sa=vr(Da,jr[2],Sa,un.Qc,0,Wi,dr)))<<3,Ba=Ba<<2|(3<Sa?3:1<Sa?2:Wi[dr+0]!=0),dr+=16;Ua>>=2,ur=ur>>1|fr<<5}ea|=Ba<<4*En,Rn|=Ua<<4<<En,Sr|=(240&ur)<<En}_i.la=Rn,Jr.la=Sr,Hr.Hc=cr,Hr.Gc=ea,Hr.ia=43690&ea?0:un.ia,jr=!(cr|ea)}if(0<Lt.L&&(Lt.wa[Lt.Y+Lt.ja]=Lt.gd[Vi.$b][Vi.Za],Lt.wa[Lt.Y+Lt.ja].La|=!jr),zn.Ka)return xt(oa,7,"Premature end-of-file encountered.")}if(ji(oa),Lt=jn,zn=1,Vi=(Ht=oa).D,_i=0<Ht.L&&Ht.M>=Ht.zb&&Ht.M<=Ht.Va,Ht.Aa==0)t:{if(Vi.M=Ht.M,Vi.uc=_i,Kn(Ht,Vi),zn=1,Vi=(Ba=Ht.D).Nb,_i=(ea=Sl[Ht.L])*Ht.R,Da=ea/2*Ht.B,ja=16*Vi*Ht.R,tr=8*Vi*Ht.B,jr=Ht.sa,Hr=Ht.ta-_i+ja,un=Ht.qa,Wi=Ht.ra-Da+tr,dr=Ht.Ha,Jr=Ht.Ia-Da+tr,ur=(Ua=Ba.M)==0,cr=Ua>=Ht.Va-1,Ht.Aa==2&&Kn(Ht,Ba),Ba.uc)for(fr=(Sa=Ht).D.M,n(Sa.D.uc),Ba=Sa.yb;Ba<Sa.Hb;++Ba){Sr=Ba,Rn=fr;var tn=(ba=(pr=Sa).D).Nb;En=pr.R;var ba=ba.wa[ba.Y+Sr],Qr=pr.sa,Un=pr.ta+16*tn*En+16*Sr,mi=ba.dd,xi=ba.tc;if(xi!=0)if(n(3<=xi),pr.L==1)0<Sr&&Yl(Qr,Un,En,xi+4),ba.La&&yl(Qr,Un,En,xi),0<Rn&&xl(Qr,Un,En,xi+4),ba.La&&Qs(Qr,Un,En,xi);else{var Aa=pr.B,go=pr.qa,Io=pr.ra+8*tn*Aa+8*Sr,ro=pr.Ha,pr=pr.Ia+8*tn*Aa+8*Sr;tn=ba.ld,0<Sr&&(cn(Qr,Un,En,xi+4,mi,tn),Bo(go,Io,ro,pr,Aa,xi+4,mi,tn)),ba.La&&(Es(Qr,Un,En,xi,mi,tn),dd(go,Io,ro,pr,Aa,xi,mi,tn)),0<Rn&&(La(Qr,Un,En,xi+4,mi,tn),Oo(go,Io,ro,pr,Aa,xi+4,mi,tn)),ba.La&&(ys(Qr,Un,En,xi,mi,tn),Wl(go,Io,ro,pr,Aa,xi,mi,tn))}}if(Ht.ia&&alert("todo:DitherRow"),Lt.put!=null){if(Ba=16*Ua,Ua=16*(Ua+1),ur?(Lt.y=Ht.sa,Lt.O=Ht.ta+ja,Lt.f=Ht.qa,Lt.N=Ht.ra+tr,Lt.ea=Ht.Ha,Lt.W=Ht.Ia+tr):(Ba-=ea,Lt.y=jr,Lt.O=Hr,Lt.f=un,Lt.N=Wi,Lt.ea=dr,Lt.W=Jr),cr||(Ua-=ea),Ua>Lt.o&&(Ua=Lt.o),Lt.F=null,Lt.J=null,Ht.Fa!=null&&0<Ht.Fa.length&&Ba<Ua&&(Lt.J=Ga(Ht,Lt,Ba,Ua-Ba),Lt.F=Ht.mb,Lt.F==null&&Lt.F.length==0)){zn=xt(Ht,3,"Could not decode alpha data.");break t}Ba<Lt.j&&(ea=Lt.j-Ba,Ba=Lt.j,n(!(1&ea)),Lt.O+=Ht.R*ea,Lt.N+=Ht.B*(ea>>1),Lt.W+=Ht.B*(ea>>1),Lt.F!=null&&(Lt.J+=Lt.width*ea)),Ba<Ua&&(Lt.O+=Lt.v,Lt.N+=Lt.v>>1,Lt.W+=Lt.v>>1,Lt.F!=null&&(Lt.J+=Lt.v),Lt.ka=Ba-Lt.j,Lt.U=Lt.va-Lt.v,Lt.T=Ua-Ba,zn=Lt.put(Lt))}Vi+1!=Ht.Ic||cr||(l(Ht.sa,Ht.ta-_i,jr,Hr+16*Ht.R,_i),l(Ht.qa,Ht.ra-Da,un,Wi+8*Ht.B,Da),l(Ht.Ha,Ht.Ia-Da,dr,Jr+8*Ht.B,Da))}if(!zn)return xt(oa,6,"Output aborted.")}return 1})(ee,_e)),_e.bc!=null&&_e.bc(_e),Ee&=1}return Ee?(ee.cb=0,Ee):0})(c,w)||(p=c.a)}}else p=c.a}p==0&&I.Oa!=null&&I.Oa.fd&&(p=ms(I.ba))}I=p}E=I!=0?null:11>E?H.f.RGBA.eb:H.f.kb.y}else E=null;return E};var pd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function b(q,$){for(var B="",z=0;z<4;z++)B+=String.fromCharCode(q[$++]);return B}function j(q,$){return q[$+0]|q[$+1]<<8}function C(q,$){return(q[$+0]|q[$+1]<<8|q[$+2]<<16)>>>0}function M(q,$){return(q[$+0]|q[$+1]<<8|q[$+2]<<16|q[$+3]<<24)>>>0}new x;var A=[0],O=[0],V=[],J=new x,F=o,ge=(function(q,$){var B={},z=0,Q=!1,ae=0,me=0;if(B.frames=[],!(function(_,R){for(var U=0;U<4;U++)if(_[R+U]!="RIFF".charCodeAt(U))return!0;return!1})(q,$)){for(M(q,$+=4),$+=8;$<q.length;){var K=b(q,$),fe=M(q,$+=4);$+=4;var ce=fe+(1&fe);switch(K){case"VP8 ":case"VP8L":B.frames[z]===void 0&&(B.frames[z]={}),(P=B.frames[z]).src_off=Q?me:$-8,P.src_size=ae+fe+8,z++,Q&&(Q=!1,ae=0,me=0);break;case"VP8X":(P=B.header={}).feature_flags=q[$];var Le=$+4;P.canvas_width=1+C(q,Le),Le+=3,P.canvas_height=1+C(q,Le),Le+=3;break;case"ALPH":Q=!0,ae=ce+8,me=$-8;break;case"ANIM":(P=B.header).bgcolor=M(q,$),Le=$+4,P.loop_count=j(q,Le),Le+=2;break;case"ANMF":var ze,P;(P=B.frames[z]={}).offset_x=2*C(q,$),$+=3,P.offset_y=2*C(q,$),$+=3,P.width=1+C(q,$),$+=3,P.height=1+C(q,$),$+=3,P.duration=C(q,$),$+=3,ze=q[$++],P.dispose=1&ze,P.blend=ze>>1&1}K!="ANMF"&&($+=ce)}return B}})(F,0);ge.response=F,ge.rgbaoutput=!0,ge.dataurl=!1;var re=ge.header?ge.header:null,ne=ge.frames?ge.frames:null;if(re){re.loop_counter=re.loop_count,A=[re.canvas_height],O=[re.canvas_width];for(var ue=0;ue<ne.length&&ne[ue].blend!=0;ue++);}var Me=ne[0],he=J.WebPDecodeRGBA(F,Me.src_off,Me.src_size,O,A);Me.rgba=he,Me.imgwidth=O[0],Me.imgheight=A[0];for(var se=0;se<O[0]*A[0]*4;se++)V[se]=he[se];return this.width=O,this.height=A,this.data=V,this}(function(o){var n,r,l,d,u,y,m,x,b,j=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new x,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new y,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new y,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};o.events.push(["initialized",function(){this.context2d=new C(this),n=this.internal.f2,r=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getHorizontalCoordinate,u=this.internal.getVerticalCoordinate,y=this.internal.Point,m=this.internal.Rectangle,x=this.internal.Matrix,b=new j}]);var C=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=_;Object.defineProperty(this,"pdf",{get:function(){return R}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(X){U=!!X}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(X){Z=!!X}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(X){isNaN(X)||(le=X)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(X){isNaN(X)||(ye=X)}}),Object.defineProperty(this,"margin",{get:function(){return b.margin},set:function(X){var pt;typeof X=="number"?pt=[X,X,X,X]:((pt=new Array(4))[0]=X[0],pt[1]=X.length>=2?X[1]:pt[0],pt[2]=X.length>=3?X[2]:pt[0],pt[3]=X.length>=4?X[3]:pt[1]),b.margin=pt}});var qe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return qe},set:function(X){qe=X}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(X){Ie=X}});var Xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Xe},set:function(X){Xe=X}}),Object.defineProperty(this,"ctx",{get:function(){return b},set:function(X){X instanceof j&&(b=X)}}),Object.defineProperty(this,"path",{get:function(){return b.path},set:function(X){b.path=X}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(X){He=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var pt;pt=M(X),this.ctx.fillStyle=pt.style,this.ctx.isFillTransparent=pt.a===0,this.ctx.fillOpacity=pt.a,this.pdf.setFillColor(pt.r,pt.g,pt.b,{a:pt.a}),this.pdf.setTextColor(pt.r,pt.g,pt.b,{a:pt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var pt=M(X);this.ctx.strokeStyle=pt.style,this.ctx.isStrokeTransparent=pt.a===0,this.ctx.strokeOpacity=pt.a,pt.a===0?this.pdf.setDrawColor(255,255,255):(pt.a,this.pdf.setDrawColor(pt.r,pt.g,pt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var ut=null,jt=null,Ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ft},set:function(X){ut=null,jt=null,Ft=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var pt;if(this.ctx.font=X,(pt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var Tt=pt[1];pt[2];var Yt=pt[3],lt=pt[4];pt[5];var Kt=pt[6],zt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(lt)[2];lt=Math.floor(zt==="px"?parseFloat(lt)*this.pdf.internal.scaleFactor:zt==="em"?parseFloat(lt)*this.pdf.getFontSize():parseFloat(lt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(lt);var Mt=(function(It){var ta,$t,T=[],Ne=It.trim();if(Ne==="")return zp;if(Ne in Ig)return[Ig[Ne]];for(;Ne!=="";){switch($t=null,ta=(Ne=Vg(Ne)).charAt(0)){case'"':case"'":$t=M5(Ne.substring(1),ta);break;default:$t=G5(Ne)}if($t===null||(T.push($t[0]),(Ne=Vg($t[1]))!==""&&Ne.charAt(0)!==","))return zp;Ne=Ne.replace(/^,/,"")}return T})(Kt);if(this.fontFaces){var Ct=(function(It,ta){var $t=It.getFontList(),T=JSON.stringify($t);if(ut===null||jt!==T){var Ne=(function(nt){var Ke=[];return Object.keys(nt).forEach(function(_t){nt[_t].forEach(function(bt){var At=null;switch(bt){case"bold":At={family:_t,weight:"bold"};break;case"italic":At={family:_t,style:"italic"};break;case"bolditalic":At={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":At={family:_t}}At!==null&&(At.ref={name:_t,style:bt},Ke.push(At))})}),Ke})($t);ut=(function(nt){for(var Ke={},_t=0;_t<nt.length;++_t){var bt=Tp(nt[_t]),At=bt.family,bi=bt.stretch,Bt=bt.style,vt=bt.weight;Ke[At]=Ke[At]||{},Ke[At][bi]=Ke[At][bi]||{},Ke[At][bi][Bt]=Ke[At][bi][Bt]||{},Ke[At][bi][Bt][vt]=bt}return Ke})(Ne.concat(ta)),jt=T}return ut})(this.pdf,this.fontFaces),hi=Mt.map(function(It){return{family:It,stretch:"normal",weight:Yt,style:Tt}}),ki=(function(It,ta,$t){for(var T=($t=$t||{}).defaultFontFamily||"times",Ne=Object.assign({},k5,$t.genericFontFamilies||{}),nt=null,Ke=null,_t=0;_t<ta.length;++_t)if(Ne[(nt=Tp(ta[_t])).family]&&(nt.family=Ne[nt.family]),It.hasOwnProperty(nt.family)){Ke=It[nt.family];break}if(!(Ke=Ke||It[T]))throw new Error("Could not find a font-family for the rule '"+Fg(nt)+"' and default family '"+T+"'.");if(Ke=(function(bt,At){if(At[bt])return At[bt];var bi=e0[bt],Bt=bi<=e0.normal?-1:1,vt=qg(At,sb,bi,Bt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+bt);return vt})(nt.stretch,Ke),Ke=(function(bt,At){if(At[bt])return At[bt];for(var bi=ob[bt],Bt=0;Bt<bi.length;++Bt)if(At[bi[Bt]])return At[bi[Bt]];throw new Error("Could not find a matching font-style for "+bt)})(nt.style,Ke),!(Ke=(function(bt,At){if(At[bt])return At[bt];if(bt===400&&At[500])return At[500];if(bt===500&&At[400])return At[400];var bi=B5[bt],Bt=qg(At,lb,bi,bt<400?-1:1);if(!Bt)throw new Error("Could not find a matching font-weight for value "+bt);return Bt})(nt.weight,Ke)))throw new Error("Failed to resolve a font for the rule '"+Fg(nt)+"'.");return Ke})(Ct,hi);this.pdf.setFont(ki.ref.name,ki.ref.style)}else{var ai="";(Yt==="bold"||parseInt(Yt,10)>=700||Tt==="bold")&&(ai="bold"),Tt==="italic"&&(ai+="italic"),ai.length===0&&(ai="normal");for(var Oi="",ui={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<Mt.length;Rt++){if(this.pdf.internal.getFont(Mt[Rt],ai,{noFallback:!0,disableWarning:!0})!==void 0){Oi=Mt[Rt];break}if(ai==="bolditalic"&&this.pdf.internal.getFont(Mt[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oi=Mt[Rt],ai="bold";else if(this.pdf.internal.getFont(Mt[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oi=Mt[Rt],ai="normal";break}}if(Oi===""){for(var si=0;si<Mt.length;si++)if(ui[Mt[si]]){Oi=ui[Mt[si]];break}}Oi=Oi===""?"Times":Oi,this.pdf.setFont(Oi,ai)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};C.prototype.setLineDash=function(_){this.lineDash=_},C.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},C.prototype.fill=function(){ne.call(this,"fill",!1)},C.prototype.stroke=function(){ne.call(this,"stroke",!1)},C.prototype.beginPath=function(){this.path=[{type:"begin"}]},C.prototype.moveTo=function(_,R){if(isNaN(_)||isNaN(R))throw An.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new y(_,R));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new y(_,R)},C.prototype.closePath=function(){var _=new y(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&rn(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){_=new y(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new y(_.x,_.y)},C.prototype.lineTo=function(_,R){if(isNaN(_)||isNaN(R))throw An.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new y(_,R));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new y(U.x,U.y)},C.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ne.call(this,null,!0)},C.prototype.quadraticCurveTo=function(_,R,U,Z){if(isNaN(U)||isNaN(Z)||isNaN(_)||isNaN(R))throw An.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new y(U,Z)),ye=this.ctx.transform.applyToPoint(new y(_,R));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:le.x,y:le.y}),this.ctx.lastPoint=new y(le.x,le.y)},C.prototype.bezierCurveTo=function(_,R,U,Z,le,ye){if(isNaN(le)||isNaN(ye)||isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var qe=this.ctx.transform.applyToPoint(new y(le,ye)),Ie=this.ctx.transform.applyToPoint(new y(_,R)),Xe=this.ctx.transform.applyToPoint(new y(U,Z));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:Xe.x,y2:Xe.y,x:qe.x,y:qe.y}),this.ctx.lastPoint=new y(qe.x,qe.y)},C.prototype.arc=function(_,R,U,Z,le,ye){if(isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z)||isNaN(le))throw An.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var qe=this.ctx.transform.applyToPoint(new y(_,R));_=qe.x,R=qe.y;var Ie=this.ctx.transform.applyToPoint(new y(0,U)),Xe=this.ctx.transform.applyToPoint(new y(0,0));U=Math.sqrt(Math.pow(Ie.x-Xe.x,2)+Math.pow(Ie.y-Xe.y,2))}Math.abs(le-Z)>=2*Math.PI&&(Z=0,le=2*Math.PI),this.path.push({type:"arc",x:_,y:R,radius:U,startAngle:Z,endAngle:le,counterclockwise:ye})},C.prototype.arcTo=function(_,R,U,Z,le){throw new Error("arcTo not implemented.")},C.prototype.rect=function(_,R,U,Z){if(isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,R),this.lineTo(_+U,R),this.lineTo(_+U,R+Z),this.lineTo(_,R+Z),this.lineTo(_,R),this.lineTo(_+U,R),this.lineTo(_,R)},C.prototype.fillRect=function(_,R,U,Z){if(isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,R,U,Z),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},C.prototype.strokeRect=function(_,R,U,Z){if(isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");O.call(this)||(this.beginPath(),this.rect(_,R,U,Z),this.stroke())},C.prototype.clearRect=function(_,R,U,Z){if(isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z))throw An.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,R,U,Z))},C.prototype.save=function(_){_=typeof _!="boolean"||_;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new j(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},C.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(R),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},C.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var M=function(_){var R,U,Z,le;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))R=0,U=0,Z=0,le=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(ye!==null)R=parseInt(ye[1]),U=parseInt(ye[2]),Z=parseInt(ye[3]),le=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)R=parseInt(ye[1]),U=parseInt(ye[2]),Z=parseInt(ye[3]),le=parseFloat(ye[4]);else{if(le=1,typeof _=="string"&&_.charAt(0)!=="#"){var qe=new $m(_);_=qe.ok?qe.toHex():"#000000"}_.length===4?(R=_.substring(1,2),R+=R,U=_.substring(2,3),U+=U,Z=_.substring(3,4),Z+=Z):(R=_.substring(1,3),U=_.substring(3,5),Z=_.substring(5,7)),R=parseInt(R,16),U=parseInt(U,16),Z=parseInt(Z,16)}}return{r:R,g:U,b:Z,a:le,style:_}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},O=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};C.prototype.fillText=function(_,R,U,Z){if(isNaN(R)||isNaN(U)||typeof _!="string")throw An.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!A.call(this)){var le=ce(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;z.call(this,{text:_,x:R,y:U,scale:ye,angle:le,align:this.textAlign,maxWidth:Z})}},C.prototype.strokeText=function(_,R,U,Z){if(isNaN(R)||isNaN(U)||typeof _!="string")throw An.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!O.call(this)){Z=isNaN(Z)?void 0:Z;var le=ce(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;z.call(this,{text:_,x:R,y:U,scale:ye,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:Z})}},C.prototype.measureText=function(_){if(typeof _!="string")throw An.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,U=this.pdf.internal.scaleFactor,Z=R.internal.getFontSize(),le=R.getStringUnitWidth(_)*Z/R.internal.scaleFactor;return new function(ye){var qe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return qe}}),this}({width:le*=Math.round(96*U/72*1e4)/1e4})},C.prototype.scale=function(_,R){if(isNaN(_)||isNaN(R))throw An.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new x(_,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},C.prototype.rotate=function(_){if(isNaN(_))throw An.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new x(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},C.prototype.translate=function(_,R){if(isNaN(_)||isNaN(R))throw An.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new x(1,0,0,1,_,R);this.ctx.transform=this.ctx.transform.multiply(U)},C.prototype.transform=function(_,R,U,Z,le,ye){if(isNaN(_)||isNaN(R)||isNaN(U)||isNaN(Z)||isNaN(le)||isNaN(ye))throw An.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var qe=new x(_,R,U,Z,le,ye);this.ctx.transform=this.ctx.transform.multiply(qe)},C.prototype.setTransform=function(_,R,U,Z,le,ye){_=isNaN(_)?1:_,R=isNaN(R)?0:R,U=isNaN(U)?0:U,Z=isNaN(Z)?1:Z,le=isNaN(le)?0:le,ye=isNaN(ye)?0:ye,this.ctx.transform=new x(_,R,U,Z,le,ye)};var V=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};C.prototype.drawImage=function(_,R,U,Z,le,ye,qe,Ie,Xe){var He=this.pdf.getImageProperties(_),ut=1,jt=1,Ft=1,X=1;Z!==void 0&&Ie!==void 0&&(Ft=Ie/Z,X=Xe/le,ut=He.width/Z*Ie/Z,jt=He.height/le*Xe/le),ye===void 0&&(ye=R,qe=U,R=0,U=0),Z!==void 0&&Ie===void 0&&(Ie=Z,Xe=le),Z===void 0&&Ie===void 0&&(Ie=He.width,Xe=He.height);var pt=this.ctx.transform.decompose(),Tt=ce(pt.rotate.shx),Yt=new x,lt=(Yt=(Yt=(Yt=Yt.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new m(ye-R*Ft,qe-U*X,Z*ut,le*jt));if(this.autoPaging){for(var Kt,zt=J.call(this,lt),Mt=[],Ct=0;Ct<zt.length;Ct+=1)Mt.indexOf(zt[Ct])===-1&&Mt.push(zt[Ct]);re(Mt);for(var hi=Mt[0],ki=Mt[Mt.length-1],ai=hi;ai<ki+1;ai++){this.pdf.setPage(ai);var Oi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ui=ai===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],si=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=ai===1?0:Rt+(ai-2)*si;if(this.ctx.clip_path.length!==0){var ta=this.path;Kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ge(Kt,this.posX+this.margin[3],-It+ui+this.ctx.prevPageLastElemOffset),ue.call(this,"fill",!0),this.path=ta}var $t=JSON.parse(JSON.stringify(lt));$t=ge([$t],this.posX+this.margin[3],-It+ui+this.ctx.prevPageLastElemOffset)[0];var T=(ai>hi||ai<ki)&&V.call(this);T&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oi,si,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,Tt),T&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(_,"JPEG",lt.x,lt.y,lt.w,lt.h,null,null,Tt)};var J=function(_,R,U){var Z=[];R=R||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":Z.push(Math.floor((_.y+le)/U)+1);break;case"arc":Z.push(Math.floor((_.y+le-_.radius)/U)+1),Z.push(Math.floor((_.y+le+_.radius)/U)+1);break;case"qct":var ye=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);Z.push(Math.floor((ye.y+le)/U)+1),Z.push(Math.floor((ye.y+ye.h+le)/U)+1);break;case"bct":var qe=ze(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);Z.push(Math.floor((qe.y+le)/U)+1),Z.push(Math.floor((qe.y+qe.h+le)/U)+1);break;case"rect":Z.push(Math.floor((_.y+le)/U)+1),Z.push(Math.floor((_.y+_.h+le)/U)+1)}for(var Ie=0;Ie<Z.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Ie];)F.call(this);return Z},F=function(){var _=this.fillStyle,R=this.strokeStyle,U=this.font,Z=this.lineCap,le=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=R,this.font=U,this.lineCap=Z,this.lineWidth=le,this.lineJoin=ye},ge=function(_,R,U){for(var Z=0;Z<_.length;Z++)switch(_[Z].type){case"bct":_[Z].x2+=R,_[Z].y2+=U;case"qct":_[Z].x1+=R,_[Z].y1+=U;default:_[Z].x+=R,_[Z].y+=U}return _},re=function(_){return _.sort(function(R,U){return R-U})},ne=function(_,R){var U=this.fillStyle,Z=this.strokeStyle,le=this.lineCap,ye=this.lineWidth,qe=Math.abs(ye*this.ctx.transform.scaleX),Ie=this.lineJoin;if(this.autoPaging){for(var Xe,He,ut=JSON.parse(JSON.stringify(this.path)),jt=JSON.parse(JSON.stringify(this.path)),Ft=[],X=0;X<jt.length;X++)if(jt[X].x!==void 0)for(var pt=J.call(this,jt[X]),Tt=0;Tt<pt.length;Tt+=1)Ft.indexOf(pt[Tt])===-1&&Ft.push(pt[Tt]);for(var Yt=0;Yt<Ft.length;Yt++)for(;this.pdf.internal.getNumberOfPages()<Ft[Yt];)F.call(this);re(Ft);for(var lt=Ft[0],Kt=Ft[Ft.length-1],zt=lt;zt<Kt+1;zt++){this.pdf.setPage(zt),this.fillStyle=U,this.strokeStyle=Z,this.lineCap=le,this.lineWidth=qe,this.lineJoin=Ie;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=zt===1?this.posY+this.margin[0]:this.margin[0],hi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ki=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ai=zt===1?0:hi+(zt-2)*ki;if(this.ctx.clip_path.length!==0){var Oi=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ge(Xe,this.posX+this.margin[3],-ai+Ct+this.ctx.prevPageLastElemOffset),ue.call(this,_,!0),this.path=Oi}if(He=JSON.parse(JSON.stringify(ut)),this.path=ge(He,this.posX+this.margin[3],-ai+Ct+this.ctx.prevPageLastElemOffset),R===!1||zt===0){var ui=(zt>lt||zt<Kt)&&V.call(this);ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,ki,null).clip().discardPath()),ue.call(this,_,R),ui&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ut}else this.lineWidth=qe,ue.call(this,_,R),this.lineWidth=ye},ue=function(_,R){if((_!=="stroke"||R||!O.call(this))&&(_==="stroke"||R||!A.call(this))){for(var U,Z,le=[],ye=this.path,qe=0;qe<ye.length;qe++){var Ie=ye[qe];switch(Ie.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ie,deltas:[],abs:[]});break;case"lt":var Xe=le.length;if(ye[qe-1]&&!isNaN(ye[qe-1].x)&&(U=[Ie.x-ye[qe-1].x,Ie.y-ye[qe-1].y],Xe>0)){for(;Xe>=0;Xe--)if(le[Xe-1].close!==!0&&le[Xe-1].begin!==!0){le[Xe-1].deltas.push(U),le[Xe-1].abs.push(Ie);break}}break;case"bct":U=[Ie.x1-ye[qe-1].x,Ie.y1-ye[qe-1].y,Ie.x2-ye[qe-1].x,Ie.y2-ye[qe-1].y,Ie.x-ye[qe-1].x,Ie.y-ye[qe-1].y],le[le.length-1].deltas.push(U);break;case"qct":var He=ye[qe-1].x+2/3*(Ie.x1-ye[qe-1].x),ut=ye[qe-1].y+2/3*(Ie.y1-ye[qe-1].y),jt=Ie.x+2/3*(Ie.x1-Ie.x),Ft=Ie.y+2/3*(Ie.y1-Ie.y),X=Ie.x,pt=Ie.y;U=[He-ye[qe-1].x,ut-ye[qe-1].y,jt-ye[qe-1].x,Ft-ye[qe-1].y,X-ye[qe-1].x,pt-ye[qe-1].y],le[le.length-1].deltas.push(U);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ie)}}Z=R?null:_==="stroke"?"stroke":"fill";for(var Tt=!1,Yt=0;Yt<le.length;Yt++)if(le[Yt].arc)for(var lt=le[Yt].abs,Kt=0;Kt<lt.length;Kt++){var zt=lt[Kt];zt.type==="arc"?se.call(this,zt.x,zt.y,zt.radius,zt.startAngle,zt.endAngle,zt.counterclockwise,void 0,R,!Tt):Q.call(this,zt.x,zt.y),Tt=!0}else if(le[Yt].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(le[Yt].begin!==!0){var Mt=le[Yt].start.x,Ct=le[Yt].start.y;ae.call(this,le[Yt].deltas,Mt,Ct),Tt=!0}Z&&q.call(this,Z),R&&$.call(this)}},Me=function(_){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-U;case"top":return _+R-U;case"hanging":return _+R-2*U;case"middle":return _+R/2-U;default:return _}},he=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};C.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(R,U){this.colorStops.push([R,U])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},C.prototype.createPattern=function(){return this.createLinearGradient()},C.prototype.createRadialGradient=function(){return this.createLinearGradient()};var se=function(_,R,U,Z,le,ye,qe,Ie,Xe){for(var He=K.call(this,U,Z,le,ye),ut=0;ut<He.length;ut++){var jt=He[ut];ut===0&&(Xe?B.call(this,jt.x1+_,jt.y1+R):Q.call(this,jt.x1+_,jt.y1+R)),me.call(this,_,R,jt.x2,jt.y2,jt.x3,jt.y3,jt.x4,jt.y4)}Ie?$.call(this):q.call(this,qe)},q=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(_,R){this.pdf.internal.out(r(_)+" "+l(R)+" m")},z=function(_){var R;switch(_.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var U,Z,le,ye=this.pdf.getTextDimensions(_.text),qe=Me.call(this,_.y),Ie=he.call(this,qe)-ye.h,Xe=this.ctx.transform.applyToPoint(new y(_.x,qe));if(this.autoPaging){var He=this.ctx.transform.decompose(),ut=new x;ut=(ut=(ut=ut.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var jt=this.ctx.transform.applyToRectangle(new m(_.x,qe,ye.w,ye.h)),Ft=ut.applyToRectangle(new m(_.x,Ie,ye.w,ye.h)),X=J.call(this,Ft),pt=[],Tt=0;Tt<X.length;Tt+=1)pt.indexOf(X[Tt])===-1&&pt.push(X[Tt]);re(pt);for(var Yt=pt[0],lt=pt[pt.length-1],Kt=Yt;Kt<lt+1;Kt++){this.pdf.setPage(Kt);var zt=Kt===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],hi=Ct-this.margin[0],ki=this.pdf.internal.pageSize.width-this.margin[1],ai=ki-this.margin[3],Oi=Kt===1?0:Mt+(Kt-2)*hi;if(this.ctx.clip_path.length!==0){var ui=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ge(U,this.posX+this.margin[3],-1*Oi+zt),ue.call(this,"fill",!0),this.path=ui}var Rt=ge([JSON.parse(JSON.stringify(Ft))],this.posX+this.margin[3],-Oi+zt+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*_.scale),le=this.lineWidth,this.lineWidth=le*_.scale);var si=this.autoPaging!=="text";if(si||Rt.y+Rt.h<=Ct){if(si||Rt.y>=zt&&Rt.x<=ki){var It=si?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||ki-Rt.x)[0],ta=ge([JSON.parse(JSON.stringify(jt))],this.posX+this.margin[3],-Oi+zt+this.ctx.prevPageLastElemOffset)[0],$t=si&&(Kt>Yt||Kt<lt)&&V.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ai,hi,null).clip().discardPath()),this.pdf.text(It,ta.x,ta.y,{angle:_.angle,align:R,renderingMode:_.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else Rt.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-Rt.y);_.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=le)}}else _.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*_.scale),le=this.lineWidth,this.lineWidth=le*_.scale),this.pdf.text(_.text,Xe.x+this.posX,Xe.y+this.posY,{angle:_.angle,align:R,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=le)},Q=function(_,R,U,Z){U=U||0,Z=Z||0,this.pdf.internal.out(r(_+U)+" "+l(R+Z)+" l")},ae=function(_,R,U){return this.pdf.lines(_,R,U,null,null)},me=function(_,R,U,Z,le,ye,qe,Ie){this.pdf.internal.out([n(d(U+_)),n(u(Z+R)),n(d(le+_)),n(u(ye+R)),n(d(qe+_)),n(u(Ie+R)),"c"].join(" "))},K=function(_,R,U,Z){for(var le=2*Math.PI,ye=Math.PI/2;R>U;)R-=le;var qe=Math.abs(U-R);qe<le&&Z&&(qe=le-qe);for(var Ie=[],Xe=Z?-1:1,He=R;qe>1e-5;){var ut=He+Xe*Math.min(qe,ye);Ie.push(fe.call(this,_,He,ut)),qe-=Math.abs(ut-He),He=ut}return Ie},fe=function(_,R,U){var Z=(U-R)/2,le=_*Math.cos(Z),ye=_*Math.sin(Z),qe=le,Ie=-ye,Xe=qe*qe+Ie*Ie,He=Xe+qe*le+Ie*ye,ut=4/3*(Math.sqrt(2*Xe*He)-He)/(qe*ye-Ie*le),jt=qe-ut*Ie,Ft=Ie+ut*qe,X=jt,pt=-Ft,Tt=Z+R,Yt=Math.cos(Tt),lt=Math.sin(Tt);return{x1:_*Math.cos(R),y1:_*Math.sin(R),x2:jt*Yt-Ft*lt,y2:jt*lt+Ft*Yt,x3:X*Yt-pt*lt,y3:X*lt+pt*Yt,x4:_*Math.cos(U),y4:_*Math.sin(U)}},ce=function(_){return 180*_/Math.PI},Le=function(_,R,U,Z,le,ye){var qe=_+.5*(U-_),Ie=R+.5*(Z-R),Xe=le+.5*(U-le),He=ye+.5*(Z-ye),ut=Math.min(_,le,qe,Xe),jt=Math.max(_,le,qe,Xe),Ft=Math.min(R,ye,Ie,He),X=Math.max(R,ye,Ie,He);return new m(ut,Ft,jt-ut,X-Ft)},ze=function(_,R,U,Z,le,ye,qe,Ie){var Xe,He,ut,jt,Ft,X,pt,Tt,Yt,lt,Kt,zt,Mt,Ct,hi=U-_,ki=Z-R,ai=le-U,Oi=ye-Z,ui=qe-le,Rt=Ie-ye;for(He=0;He<41;He++)Yt=(pt=(ut=_+(Xe=He/40)*hi)+Xe*((Ft=U+Xe*ai)-ut))+Xe*(Ft+Xe*(le+Xe*ui-Ft)-pt),lt=(Tt=(jt=R+Xe*ki)+Xe*((X=Z+Xe*Oi)-jt))+Xe*(X+Xe*(ye+Xe*Rt-X)-Tt),He==0?(Kt=Yt,zt=lt,Mt=Yt,Ct=lt):(Kt=Math.min(Kt,Yt),zt=Math.min(zt,lt),Mt=Math.max(Mt,Yt),Ct=Math.max(Ct,lt));return new m(Math.round(Kt),Math.round(zt),Math.round(Mt-Kt),Math.round(Ct-zt))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,R,U=(_=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:R}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(pi.API),(function(o){var n=function(y){var m,x,b,j,C,M,A,O,V,J;for(x=[],b=0,j=(y+=m="\0\0\0\0".slice(y.length%4||4)).length;j>b;b+=4)(C=(y.charCodeAt(b)<<24)+(y.charCodeAt(b+1)<<16)+(y.charCodeAt(b+2)<<8)+y.charCodeAt(b+3))!==0?(M=(C=((C=((C=((C=(C-(J=C%85))/85)-(V=C%85))/85)-(O=C%85))/85)-(A=C%85))/85)%85,x.push(M+33,A+33,O+33,V+33,J+33)):x.push(122);return(function(F,ge){for(var re=ge;re>0;re--)F.pop()})(x,m.length),String.fromCharCode.apply(String,x)+"~>"},r=function(y){var m,x,b,j,C,M=String,A="length",O=255,V="charCodeAt",J="slice",F="replace";for(y[J](-2),y=y[J](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),b=[],j=0,C=(y+=m="uuuuu"[J](y[A]%5||5))[A];C>j;j+=5)x=52200625*(y[V](j)-33)+614125*(y[V](j+1)-33)+7225*(y[V](j+2)-33)+85*(y[V](j+3)-33)+(y[V](j+4)-33),b.push(O&x>>24,O&x>>16,O&x>>8,O&x);return(function(ge,re){for(var ne=re;ne>0;ne--)ge.pop()})(b,m[A]),M.fromCharCode.apply(M,b)},l=function(y){return y.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">"},d=function(y){var m=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((y=y.replace(/\s/g,"")).indexOf(">")!==-1&&(y=y.substr(0,y.indexOf(">"))),y.length%2&&(y+="0"),m.test(y)===!1)return"";for(var x="",b=0;b<y.length;b+=2)x+=String.fromCharCode("0x"+(y[b]+y[b+1]));return x},u=function(y){for(var m=new Uint8Array(y.length),x=y.length;x--;)m[x]=y.charCodeAt(x);return(m=Yp(m)).reduce(function(b,j){return b+String.fromCharCode(j)},"")};o.processDataByFilters=function(y,m){var x=0,b=y||"",j=[];for(typeof(m=m||[])=="string"&&(m=[m]),x=0;x<m.length;x+=1)switch(m[x]){case"ASCII85Decode":case"/ASCII85Decode":b=r(b),j.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":b=n(b),j.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":b=d(b),j.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":b=l(b),j.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":b=u(b),j.push("/FlateDecode");break;default:throw new Error('The filter: "'+m[x]+'" is not implemented')}return{data:b,reverseChain:j.reverse().join(" ")}}})(pi.API),(function(o){o.loadFile=function(n,r,l){return(function(d,u,y){u=u!==!1,y=typeof y=="function"?y:function(){};var m=void 0;try{m=(function(x,b,j){var C=new XMLHttpRequest,M=0,A=function(O){var V=O.length,J=[],F=String.fromCharCode;for(M=0;M<V;M+=1)J.push(F(255&O.charCodeAt(M)));return J.join("")};if(C.open("GET",x,!b),C.overrideMimeType("text/plain; charset=x-user-defined"),b===!1&&(C.onload=function(){C.status===200?j(A(this.responseText)):j(void 0)}),C.send(null),b&&C.status===200)return A(C.responseText)})(d,u,y)}catch{}return m})(n,r,l)},o.allowFsRead=void 0,o.loadImageFile=o.loadFile})(pi.API),(function(o){function n(){return(Ei.html2canvas?Promise.resolve(Ei.html2canvas):gp(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load html2canvas: "+m))}).then(function(m){return m.default?m.default:m})}function r(){return(Ei.DOMPurify?Promise.resolve(Ei.DOMPurify):gp(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load dompurify: "+m))}).then(function(m){return m.default?m.default:m})}var l=function(m){var x=rn(m);return x==="undefined"?"undefined":x==="string"||m instanceof String?"string":x==="number"||m instanceof Number?"number":x==="function"||m instanceof Function?"function":m&&m.constructor===Array?"array":m&&m.nodeType===1?"element":x==="object"?"object":"unknown"},d=function(m,x){var b=document.createElement(m);for(var j in x.className&&(b.className=x.className),x.innerHTML&&x.dompurify&&(b.innerHTML=x.dompurify.sanitize(x.innerHTML)),x.style)b.style[j]=x.style[j];return b},u=function m(x,b){for(var j=x.nodeType===3?document.createTextNode(x.nodeValue):x.cloneNode(!1),C=x.firstChild;C;C=C.nextSibling)b!==!0&&C.nodeType===1&&C.nodeName==="SCRIPT"||j.appendChild(m(C,b));return x.nodeType===1&&(x.nodeName==="CANVAS"?(j.width=x.width,j.height=x.height,j.getContext("2d").drawImage(x,0,0)):x.nodeName!=="TEXTAREA"&&x.nodeName!=="SELECT"||(j.value=x.value),j.addEventListener("load",function(){j.scrollTop=x.scrollTop,j.scrollLeft=x.scrollLeft},!0)),j},y=function m(x){var b=Object.assign(m.convert(Promise.resolve()),JSON.parse(JSON.stringify(m.template))),j=m.convert(Promise.resolve(),b);return(j=j.setProgress(1,m,1,[m])).set(x)};(y.prototype=Object.create(Promise.prototype)).constructor=y,y.convert=function(m,x){return m.__proto__=x||y.prototype,m},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},y.prototype.from=function(m,x){return this.then(function(){switch(x=x||(function(b){switch(l(b)){case"string":return"string";case"element":return b.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(m),x){case"string":return this.then(r).then(function(b){return this.set({src:d("div",{innerHTML:m,dompurify:b})})});case"element":return this.set({src:m});case"canvas":return this.set({canvas:m});case"img":return this.set({img:m});default:return this.error("Unknown source type.")}})},y.prototype.to=function(m){switch(m){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},y.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var m={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},x=u(this.prop.src,this.opt.html2canvas.javascriptEnabled);x.tagName==="BODY"&&(m.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=d("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=d("div",{className:"html2pdf__container",style:m}),this.prop.container.appendChild(x),this.prop.container.firstChild.appendChild(d("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},y.prototype.toCanvas=function(){var m=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(m).then(n).then(function(x){var b=Object.assign({},this.opt.html2canvas);return delete b.onrendered,x(this.prop.container,b)}).then(function(x){(this.opt.html2canvas.onrendered||function(){})(x),this.prop.canvas=x,document.body.removeChild(this.prop.overlay)})},y.prototype.toContext2d=function(){var m=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(m).then(n).then(function(x){var b=this.opt.jsPDF,j=this.opt.fontFaces,C=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,M=Object.assign({async:!0,allowTaint:!0,scale:C,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete M.onrendered,b.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,b.context2d.posX=this.opt.x,b.context2d.posY=this.opt.y,b.context2d.margin=this.opt.margin,b.context2d.fontFaces=j,j)for(var A=0;A<j.length;++A){var O=j[A],V=O.src.find(function(J){return J.format==="truetype"});V&&b.addFont(V.url,O.ref.name,O.ref.style)}return M.windowHeight=M.windowHeight||0,M.windowHeight=M.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):M.windowHeight,b.context2d.save(!0),x(this.prop.container,M)}).then(function(x){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(x),this.prop.canvas=x,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var m=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=m})},y.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},y.prototype.output=function(m,x,b){return(b=b||"pdf").toLowerCase()==="img"||b.toLowerCase()==="image"?this.outputImg(m,x):this.outputPdf(m,x)},y.prototype.outputPdf=function(m,x){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(m,x)})},y.prototype.outputImg=function(m){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(m){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+m+'" is not supported.'}})},y.prototype.save=function(m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(m?{filename:m}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},y.prototype.set=function(m){if(l(m)!=="object")return this;var x=Object.keys(m||{}).map(function(b){if(b in y.template.prop)return function(){this.prop[b]=m[b]};switch(b){case"margin":return this.setMargin.bind(this,m.margin);case"jsPDF":return function(){return this.opt.jsPDF=m.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,m.pageSize);default:return function(){this.opt[b]=m[b]}}},this);return this.then(function(){return this.thenList(x)})},y.prototype.get=function(m,x){return this.then(function(){var b=m in y.template.prop?this.prop[m]:this.opt[m];return x?x(b):b})},y.prototype.setMargin=function(m){return this.then(function(){switch(l(m)){case"number":m=[m,m,m,m];case"array":if(m.length===2&&(m=[m[0],m[1],m[0],m[1]]),m.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=m}).then(this.setPageSize)},y.prototype.setPageSize=function(m){function x(b,j){return Math.floor(b*j/72*96)}return this.then(function(){(m=m||pi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(m.inner={width:m.width-this.opt.margin[1]-this.opt.margin[3],height:m.height-this.opt.margin[0]-this.opt.margin[2]},m.inner.px={width:x(m.inner.width,m.k),height:x(m.inner.height,m.k)},m.inner.ratio=m.inner.height/m.inner.width),this.prop.pageSize=m})},y.prototype.setProgress=function(m,x,b,j){return m!=null&&(this.progress.val=m),x!=null&&(this.progress.state=x),b!=null&&(this.progress.n=b),j!=null&&(this.progress.stack=j),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(m,x,b,j){return this.setProgress(m?this.progress.val+m:null,x||null,b?this.progress.n+b:null,j?this.progress.stack.concat(j):null)},y.prototype.then=function(m,x){var b=this;return this.thenCore(m,x,function(j,C){return b.updateProgress(null,null,1,[j]),Promise.prototype.then.call(this,function(M){return b.updateProgress(null,j),M}).then(j,C).then(function(M){return b.updateProgress(1),M})})},y.prototype.thenCore=function(m,x,b){b=b||Promise.prototype.then;var j=this;m&&(m=m.bind(j)),x&&(x=x.bind(j));var C=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?j:y.convert(Object.assign({},j),Promise.prototype),M=b.call(C,m,x);return y.convert(M,j.__proto__)},y.prototype.thenExternal=function(m,x){return Promise.prototype.then.call(this,m,x)},y.prototype.thenList=function(m){var x=this;return m.forEach(function(b){x=x.thenCore(b)}),x},y.prototype.catch=function(m){m&&(m=m.bind(this));var x=Promise.prototype.catch.call(this,m);return y.convert(x,this)},y.prototype.catchExternal=function(m){return Promise.prototype.catch.call(this,m)},y.prototype.error=function(m){return this.then(function(){throw new Error(m)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,pi.getPageSize=function(m,x,b){if(rn(m)==="object"){var j=m;m=j.orientation,x=j.unit||x,b=j.format||b}x=x||"mm",b=b||"a4",m=(""+(m||"P")).toLowerCase();var C,M=(""+b).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":C=1;break;case"mm":C=72/25.4;break;case"cm":C=72/2.54;break;case"in":C=72;break;case"px":C=.75;break;case"pc":case"em":C=12;break;case"ex":C=6;break;default:throw"Invalid unit: "+x}var O,V=0,J=0;if(A.hasOwnProperty(M))V=A[M][1]/C,J=A[M][0]/C;else try{V=b[1],J=b[0]}catch{throw new Error("Invalid format: "+b)}if(m==="p"||m==="portrait")m="p",J>V&&(O=J,J=V,V=O);else{if(m!=="l"&&m!=="landscape")throw"Invalid orientation: "+m;m="l",V>J&&(O=J,J=V,V=O)}return{width:J,height:V,unit:x,k:C,orientation:m}},o.html=function(m,x){(x=x||{}).callback=x.callback||function(){},x.html2canvas=x.html2canvas||{},x.html2canvas.canvas=x.html2canvas.canvas||this.canvas,x.jsPDF=x.jsPDF||this,x.fontFaces=x.fontFaces?x.fontFaces.map(Tp):null;var b=new y(x);return x.worker?b:b.from(m).doCallback()}})(pi.API),pi.API.addJS=function(o){return Ug=o,this.internal.events.subscribe("postPutResources",function(){Gu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ug+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gu!==void 0&&Dg!==void 0&&this.internal.out("/Names <</JavaScript "+Gu+" 0 R>>")}),this},(function(o){var n;o.events.push(["postPutResources",function(){var r=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var d=r.outline.render().split(/\r\n/),u=0;u<d.length;u++){var y=d[u],m=l.exec(y);if(m!=null){var x=m[1];r.internal.newObjectDeferredBegin(x,!1)}r.internal.write(y)}if(this.outline.createNamedDestinations){var b=this.internal.pages.length,j=[];for(u=0;u<b;u++){var C=r.internal.newObject();j.push(C);var M=r.internal.getPageInfo(u+1);r.internal.write("<< /D["+M.objId+" 0 R /XYZ null null null]>> endobj")}var A=r.internal.newObject();for(r.internal.write("<< /Names [ "),u=0;u<j.length;u++)r.internal.write("(page_"+(u+1)+")"+j[u]+" 0 R");r.internal.write(" ] >>","endobj"),n=r.internal.newObject(),r.internal.write("<< /Dests "+A+" 0 R"),r.internal.write(">>","endobj")}}]),o.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+n+" 0 R"))}]),o.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(l,d,u){var y={title:d,options:u,children:[]};return l==null&&(l=this.root),l.children.push(y),y},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(l){l.id=r.internal.newObjectDeferred();for(var d=0;d<l.children.length;d++)this.genIds_r(l.children[d])},r.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},r.outline.renderItems=function(l){for(var d=this.ctx.pdf.internal.getVerticalCoordinateString,u=0;u<l.children.length;u++){var y=l.children[u];this.objStart(y),this.line("/Title "+this.makeString(y.title)),this.line("/Parent "+this.makeRef(l)),u>0&&this.line("/Prev "+this.makeRef(l.children[u-1])),u<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[u+1])),y.children.length>0&&(this.line("/First "+this.makeRef(y.children[0])),this.line("/Last "+this.makeRef(y.children[y.children.length-1])));var m=this.count=this.count_r({count:0},y);if(m>0&&this.line("/Count "+m),y.options&&y.options.pageNumber){var x=r.internal.getPageInfo(y.options.pageNumber);this.line("/Dest ["+x.objId+" 0 R /XYZ 0 "+d(0)+" 0]")}this.objEnd()}for(var b=0;b<l.children.length;b++)this.renderItems(l.children[b])},r.outline.line=function(l){this.ctx.val+=l+`\r
`},r.outline.makeRef=function(l){return l.id+" 0 R"},r.outline.makeString=function(l){return"("+r.internal.pdfEscape(l)+")"},r.outline.objStart=function(l){this.ctx.val+=`\r
`+l.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(l,d){for(var u=0;u<d.children.length;u++)l.count++,this.count_r(l,d.children[u]);return l.count}}])})(pi.API),(function(o){var n=[192,193,194,195,196,197,198,199];o.processJPEG=function(r,l,d,u,y,m){var x,b=this.decode.DCT_DECODE,j=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=y||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,x=(function(C){for(var M,A=256*C.charCodeAt(4)+C.charCodeAt(5),O=C.length,V={width:0,height:0,numcomponents:1},J=4;J<O;J+=2){if(J+=A,n.indexOf(C.charCodeAt(J+1))!==-1){M=256*C.charCodeAt(J+5)+C.charCodeAt(J+6),V={width:256*C.charCodeAt(J+7)+C.charCodeAt(J+8),height:M,numcomponents:C.charCodeAt(J+9)};break}A=256*C.charCodeAt(J+2)+C.charCodeAt(J+3)}return V})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),x.numcomponents){case 1:m=this.color_spaces.DEVICE_GRAY;break;case 4:m=this.color_spaces.DEVICE_CMYK;break;case 3:m=this.color_spaces.DEVICE_RGB}j={data:r,width:x.width,height:x.height,colorSpace:m,bitsPerComponent:8,filter:b,index:l,alias:d}}return j}})(pi.API),pi.API.processPNG=function(o,n,r,l){if(this.__addimage__.isArrayBuffer(o)&&(o=new Uint8Array(o)),this.__addimage__.isArrayBufferView(o)){var d,u=h5(o,{checkCrc:!0}),y=u.width,m=u.height,x=u.channels,b=u.palette,j=u.depth;d=b&&x===1?(function(se){for(var q=se.width,$=se.height,B=se.data,z=se.palette,Q=se.depth,ae=!1,me=[],K=[],fe=void 0,ce=!1,Le=0,ze=0;ze<z.length;ze++){var P=Y1(z[ze],4),_=P[0],R=P[1],U=P[2],Z=P[3];me.push(_,R,U),Z!=null&&(Z===0?(Le++,K.length<1&&K.push(ze)):Z<255&&(ce=!0))}if(ce||Le>1){ae=!0,K=void 0;var le=q*$;fe=new Uint8Array(le);for(var ye=new DataView(B.buffer),qe=0;qe<le;qe++){var Ie=Ep(ye,qe,Q),Xe=Y1(z[Ie],4)[3];fe[qe]=Xe}}else Le===0&&(K=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:B,alphaBytes:fe,needSMask:ae,palette:me,mask:K}})(u):x===2||x===4?(function(se){for(var q=se.data,$=se.width,B=se.height,z=se.channels,Q=se.depth,ae=z===2?"DeviceGray":"DeviceRGB",me=z-1,K=$*B,fe=me,ce=K*fe,Le=1*K,ze=Math.ceil(ce*Q/8),P=Math.ceil(Le*Q/8),_=new Uint8Array(ze),R=new Uint8Array(P),U=new DataView(q.buffer),Z=new DataView(_.buffer),le=new DataView(R.buffer),ye=!1,qe=0;qe<K;qe++){for(var Ie=qe*z,Xe=0;Xe<fe;Xe++)Qg(Z,Ep(U,Ie+Xe,Q),qe*fe+Xe,Q);var He=Ep(U,Ie+fe,Q);He<(1<<Q)-1&&(ye=!0),Qg(le,He,1*qe,Q)}return{colorSpace:ae,colorsPerPixel:me,sMaskBitsPerComponent:ye?Q:void 0,colorBytes:_,alphaBytes:R,needSMask:ye}})(u):(function(se){var q=se.data,$=se.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(B){for(var z=B.length,Q=new Uint8Array(2*z),ae=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),me=0;me<z;me++)ae.setUint16(2*me,B[me],!1);return Q})(q):q,needSMask:!1}})(u);var C,M,A,O=d,V=O.colorSpace,J=O.colorsPerPixel,F=O.sMaskBitsPerComponent,ge=O.colorBytes,re=O.alphaBytes,ne=O.needSMask,ue=O.palette,Me=O.mask,he=null;return l!==pi.API.image_compression.NONE&&typeof Yp=="function"?(he=(function(se){var q;switch(se){case pi.API.image_compression.FAST:q=11;break;case pi.API.image_compression.MEDIUM:q=13;break;case pi.API.image_compression.SLOW:q=14;break;default:q=12}return q})(l),C=this.decode.FLATE_DECODE,M="/Predictor ".concat(he," /Colors ").concat(J," /BitsPerComponent ").concat(j," /Columns ").concat(y),o=Yg(ge,Math.ceil(y*J*j/8),J,j,l),ne&&(A=Yg(re,Math.ceil(y*F/8),1,F,l))):(C=void 0,M=void 0,o=ge,ne&&(A=re)),(this.__addimage__.isArrayBuffer(o)||this.__addimage__.isArrayBufferView(o))&&(o=this.__addimage__.arrayBufferToBinaryString(o)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:r,data:o,index:n,filter:C,decodeParameters:M,transparency:Me,palette:ue,sMask:A,predictor:he,width:y,height:m,bitsPerComponent:j,sMaskBitsPerComponent:F,colorSpace:V}}},(function(o){o.processGIF89A=function(n,r,l,d){var u=new E5(n),y=u.width,m=u.height,x=[];u.decodeAndBlitFrameRGBA(0,x);var b={data:x,width:y,height:m},j=new Rp(100).encode(b,100);return o.processJPEG.call(this,j,r,l,d)},o.processGIF87A=o.processGIF89A})(pi.API),Bs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var o=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(o);for(var n=0;n<o;n++){var r=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:d,green:l,blue:r,quad:u}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bs.prototype.parseBGR=function(){this.pos=this.offset;try{var o="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[o]()}catch(r){An.log("bit decode error:"+r)}},Bs.prototype.bit1=function(){var o,n=Math.ceil(this.width/8),r=n%4;for(o=this.height-1;o>=0;o--){for(var l=this.bottom_up?o:this.height-1-o,d=0;d<n;d++)for(var u=this.datav.getUint8(this.pos++,!0),y=l*this.width*4+8*d*4,m=0;m<8&&8*d+m<this.width;m++){var x=this.palette[u>>7-m&1];this.data[y+4*m]=x.blue,this.data[y+4*m+1]=x.green,this.data[y+4*m+2]=x.red,this.data[y+4*m+3]=255}r!==0&&(this.pos+=4-r)}},Bs.prototype.bit4=function(){for(var o=Math.ceil(this.width/2),n=o%4,r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,d=0;d<o;d++){var u=this.datav.getUint8(this.pos++,!0),y=l*this.width*4+2*d*4,m=u>>4,x=15&u,b=this.palette[m];if(this.data[y]=b.blue,this.data[y+1]=b.green,this.data[y+2]=b.red,this.data[y+3]=255,2*d+1>=this.width)break;b=this.palette[x],this.data[y+4]=b.blue,this.data[y+4+1]=b.green,this.data[y+4+2]=b.red,this.data[y+4+3]=255}n!==0&&(this.pos+=4-n)}},Bs.prototype.bit8=function(){for(var o=this.width%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,l=0;l<this.width;l++){var d=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+4*l;if(d<this.palette.length){var y=this.palette[d];this.data[u]=y.red,this.data[u+1]=y.green,this.data[u+2]=y.blue,this.data[u+3]=255}else this.data[u]=255,this.data[u+1]=255,this.data[u+2]=255,this.data[u+3]=255}o!==0&&(this.pos+=4-o)}},Bs.prototype.bit15=function(){for(var o=this.width%3,n=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,d=0;d<this.width;d++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var y=(u&n)/n*255|0,m=(u>>5&n)/n*255|0,x=(u>>10&n)/n*255|0,b=u>>15?255:0,j=l*this.width*4+4*d;this.data[j]=x,this.data[j+1]=m,this.data[j+2]=y,this.data[j+3]=b}this.pos+=o}},Bs.prototype.bit16=function(){for(var o=this.width%3,n=parseInt("11111",2),r=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var d=this.bottom_up?l:this.height-1-l,u=0;u<this.width;u++){var y=this.datav.getUint16(this.pos,!0);this.pos+=2;var m=(y&n)/n*255|0,x=(y>>5&r)/r*255|0,b=(y>>11)/n*255|0,j=d*this.width*4+4*u;this.data[j]=b,this.data[j+1]=x,this.data[j+2]=m,this.data[j+3]=255}this.pos+=o}},Bs.prototype.bit24=function(){for(var o=this.height-1;o>=0;o--){for(var n=this.bottom_up?o:this.height-1-o,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),y=n*this.width*4+4*r;this.data[y]=u,this.data[y+1]=d,this.data[y+2]=l,this.data[y+3]=255}this.pos+=this.width%4}},Bs.prototype.bit32=function(){for(var o=this.height-1;o>=0;o--)for(var n=this.bottom_up?o:this.height-1-o,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),y=this.datav.getUint8(this.pos++,!0),m=n*this.width*4+4*r;this.data[m]=u,this.data[m+1]=d,this.data[m+2]=l,this.data[m+3]=y}},Bs.prototype.getData=function(){return this.data},(function(o){o.processBMP=function(n,r,l,d){var u=new Bs(n,!1),y=u.width,m=u.height,x={data:u.getData(),width:y,height:m},b=new Rp(100).encode(x,100);return o.processJPEG.call(this,b,r,l,d)}})(pi.API),em.prototype.getData=function(){return this.data},(function(o){o.processWEBP=function(n,r,l,d){var u=new em(n),y=u.width,m=u.height,x={data:u.getData(),width:y,height:m},b=new Rp(100).encode(x,100);return o.processJPEG.call(this,b,r,l,d)}})(pi.API),pi.API.processRGBA=function(o,n,r){for(var l=o.data,d=l.length,u=new Uint8Array(d/4*3),y=new Uint8Array(d/4),m=0,x=0,b=0;b<d;b+=4){var j=l[b],C=l[b+1],M=l[b+2],A=l[b+3];u[m++]=j,u[m++]=C,u[m++]=M,y[x++]=A}var O=this.__addimage__.arrayBufferToBinaryString(u);return{alpha:this.__addimage__.arrayBufferToBinaryString(y),data:O,index:n,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:o.width,height:o.height}},pi.API.setLanguage=function(o){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[o]!==void 0&&(this.internal.languageSettings.languageCode=o,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Od=pi.API,Lu=Od.getCharWidthsArray=function(o,n){var r,l,d=(n=n||{}).font||this.internal.getFont(),u=n.fontSize||this.internal.getFontSize(),y=n.charSpace||this.internal.getCharSpace(),m=n.widths?n.widths:d.metadata.Unicode.widths,x=m.fof?m.fof:1,b=n.kerning?n.kerning:d.metadata.Unicode.kerning,j=b.fof?b.fof:1,C=n.doKerning!==!1,M=0,A=o.length,O=0,V=m[0]||x,J=[];for(r=0;r<A;r++)l=o.charCodeAt(r),typeof d.metadata.widthOfString=="function"?J.push((d.metadata.widthOfGlyph(d.metadata.characterToGlyph(l))+y*(1e3/u)||0)/1e3):(M=C&&rn(b[l])==="object"&&!isNaN(parseInt(b[l][O],10))?b[l][O]/j:0,J.push((m[l]||V)/x+M)),O=l;return J},Pg=Od.getStringUnitWidth=function(o,n){var r=(n=n||{}).fontSize||this.internal.getFontSize(),l=n.font||this.internal.getFont(),d=n.charSpace||this.internal.getCharSpace();return Od.processArabic&&(o=Od.processArabic(o)),typeof l.metadata.widthOfString=="function"?l.metadata.widthOfString(o,r,d)/r:Lu.apply(this,arguments).reduce(function(u,y){return u+y},0)},Hg=function(o,n,r,l){for(var d=[],u=0,y=o.length,m=0;u!==y&&m+n[u]<r;)m+=n[u],u++;d.push(o.slice(0,u));var x=u;for(m=0;u!==y;)m+n[u]>l&&(d.push(o.slice(x,u)),m=0,x=u),m+=n[u],u++;return x!==u&&d.push(o.slice(x,u)),d},Wg=function(o,n,r){r||(r={});var l,d,u,y,m,x,b,j=[],C=[j],M=r.textIndent||0,A=0,O=0,V=o.split(" "),J=Lu.apply(this,[" ",r])[0];if(x=r.lineIndent===-1?V[0].length+2:r.lineIndent||0){var F=Array(x).join(" "),ge=[];V.map(function(ne){(ne=ne.split(/\s*\n/)).length>1?ge=ge.concat(ne.map(function(ue,Me){return(Me&&ue.length?`
`:"")+ue})):ge.push(ne[0])}),V=ge,x=Pg.apply(this,[F,r])}for(u=0,y=V.length;u<y;u++){var re=0;if(l=V[u],x&&l[0]==`
`&&(l=l.substr(1),re=1),M+A+(O=(d=Lu.apply(this,[l,r])).reduce(function(ne,ue){return ne+ue},0))>n||re){if(O>n){for(m=Hg.apply(this,[l,d,n-(M+A),n]),j.push(m.shift()),j=[m.pop()];m.length;)C.push([m.shift()]);O=d.slice(l.length-(j[0]?j[0].length:0)).reduce(function(ne,ue){return ne+ue},0)}else j=[l];C.push(j),M=O+x,A=J}else j.push(l),M+=A+O,A=J}return b=x?function(ne,ue){return(ue?F:"")+ne.join(" ")}:function(ne){return ne.join(" ")},C.map(b)},Od.splitTextToSize=function(o,n,r){var l,d=(r=r||{}).fontSize||this.internal.getFontSize(),u=(function(j){if(j.widths&&j.kerning)return{widths:j.widths,kerning:j.kerning};var C=this.internal.getFont(j.fontName,j.fontStyle),M="Unicode";return C.metadata[M]?{widths:C.metadata[M].widths||{0:1},kerning:C.metadata[M].kerning||{}}:{font:C.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);l=Array.isArray(o)?o:String(o).split(/\r?\n/);var y=1*this.internal.scaleFactor*n/d;u.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/d:0,u.lineIndent=r.lineIndent;var m,x,b=[];for(m=0,x=l.length;m<x;m++)b=b.concat(Wg.apply(this,[l[m],y,u]));return b},(function(o){o.__fontmetrics__=o.__fontmetrics__||{};for(var n="0123456789abcdef",r="klmnopqrstuvwxyz",l={},d={},u=0;u<16;u++)l[r[u]]=n[u],d[n[u]]=r[u];var y=function(M){return"0x"+parseInt(M,10).toString(16)},m=o.__fontmetrics__.compress=function(M){var A,O,V,J,F=["{"];for(var ge in M){if(A=M[ge],isNaN(parseInt(ge,10))?O="'"+ge+"'":(ge=parseInt(ge,10),O=(O=y(ge).slice(2)).slice(0,-1)+d[O.slice(-1)]),typeof A=="number")A<0?(V=y(A).slice(3),J="-"):(V=y(A).slice(2),J=""),V=J+V.slice(0,-1)+d[V.slice(-1)];else{if(rn(A)!=="object")throw new Error("Don't know what to do with value type "+rn(A)+".");V=m(A)}F.push(O+V)}return F.push("}"),F.join("")},x=o.__fontmetrics__.uncompress=function(M){if(typeof M!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,O,V,J,F={},ge=1,re=F,ne=[],ue="",Me="",he=M.length-1,se=1;se<he;se+=1)(J=M[se])=="'"?A?(V=A.join(""),A=void 0):A=[]:A?A.push(J):J=="{"?(ne.push([re,V]),re={},V=void 0):J=="}"?((O=ne.pop())[0][O[1]]=re,V=void 0,re=O[0]):J=="-"?ge=-1:V===void 0?l.hasOwnProperty(J)?(ue+=l[J],V=parseInt(ue,16)*ge,ge=1,ue=""):ue+=J:l.hasOwnProperty(J)?(Me+=l[J],re[V]=parseInt(Me,16)*ge,ge=1,V=void 0,Me=""):Me+=J;return F},b={codePages:["WinAnsiEncoding"],WinAnsiEncoding:x("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},j={Unicode:{Courier:b,"Courier-Bold":b,"Courier-BoldOblique":b,"Courier-Oblique":b,Helvetica:b,"Helvetica-Bold":b,"Helvetica-BoldOblique":b,"Helvetica-Oblique":b,"Times-Roman":b,"Times-Bold":b,"Times-BoldItalic":b,"Times-Italic":b}},C={Unicode:{"Courier-Oblique":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":x("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":x("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":x("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:x("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:x("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":x("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:x("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":x("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":x("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":x("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":x("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};o.events.push(["addFont",function(M){var A=M.font,O=C.Unicode[A.postScriptName];O&&(A.metadata.Unicode={},A.metadata.Unicode.widths=O.widths,A.metadata.Unicode.kerning=O.kerning);var V=j.Unicode[A.postScriptName];V&&(A.metadata.Unicode.encoding=V,A.encoding=V.codePages[0])}])})(pi.API),(function(o){var n=function(r){for(var l=r.length,d=new Uint8Array(l),u=0;u<l;u++)d[u]=r.charCodeAt(u);return d};o.API.events.push(["addFont",function(r){var l=void 0,d=r.font,u=r.instance;if(!d.isStandardFont){if(u===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");if(typeof(l=u.existsFileInVFS(d.postScriptName)===!1?u.loadFile(d.postScriptName):u.getFileFromVFS(d.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+d.postScriptName+"').");(function(y,m){m=/^\x00\x01\x00\x00/.test(m)?n(m):n(Ru(m)),y.metadata=o.API.TTFFont.open(m),y.metadata.Unicode=y.metadata.Unicode||{encoding:{},kerning:{},widths:[]},y.metadata.glyIdsUsed=[0]})(d,l)}}])})(pi),pi.API.addSvgAsImage=function(o,n,r,l,d,u,y,m){if(isNaN(n)||isNaN(r))throw An.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw An.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=l,x.height=d;var b=x.getContext("2d");b.fillStyle="#fff",b.fillRect(0,0,x.width,x.height);var j={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},C=this;return(Ei.canvg?Promise.resolve(Ei.canvg):gp(()=>import("./index.es-D7gN_SjI.js"),[])).catch(function(M){return Promise.reject(new Error("Could not load canvg: "+M))}).then(function(M){return M.default?M.default:M}).then(function(M){return M.fromString(b,o,j)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(M){return M.render(j)}).then(function(){C.addImage(x.toDataURL("image/jpeg",1),n,r,l,d,y,m)})},pi.API.putTotalPages=function(o){var n,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(o,"g"),r=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(o,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var d=0;d<this.internal.pages[l].length;d++)this.internal.pages[l][d]=this.internal.pages[l][d].replace(n,r);return this},pi.API.viewerPreferences=function(o,n){var r;o=o||{},n=n||!1;var l,d,u,y={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},m=Object.keys(y),x=[],b=0,j=0,C=0;function M(O,V){var J,F=!1;for(J=0;J<O.length;J+=1)O[J]===V&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(y)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,o==="reset"||n===!0){var A=m.length;for(C=0;C<A;C+=1)r[m[C]].value=r[m[C]].defaultValue,r[m[C]].explicitSet=!1}if(rn(o)==="object"){for(d in o)if(u=o[d],M(m,d)&&u!==void 0){if(r[d].type==="boolean"&&typeof u=="boolean")r[d].value=u;else if(r[d].type==="name"&&M(r[d].valueSet,u))r[d].value=u;else if(r[d].type==="integer"&&Number.isInteger(u))r[d].value=u;else if(r[d].type==="array"){for(b=0;b<u.length;b+=1)if(l=!0,u[b].length===1&&typeof u[b][0]=="number")x.push(String(u[b]-1));else if(u[b].length>1){for(j=0;j<u[b].length;j+=1)typeof u[b][j]!="number"&&(l=!1);l===!0&&x.push([u[b][0]-1,u[b][1]-1].join(" "))}r[d].value="["+x.join(" ")+"]"}else r[d].value=r[d].defaultValue;r[d].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var O,V=[];for(O in r)r[O].explicitSet===!0&&(r[O].type==="name"?V.push("/"+O+" /"+r[O].value):V.push("/"+O+" "+r[O].value));V.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+V.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(o){var n=function(){var l='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',d=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),u=unescape(encodeURIComponent(l)),y=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),m=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),x=unescape(encodeURIComponent("</x:xmpmeta>")),b=u.length+y.length+m.length+d.length+x.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+b+" >>"),this.internal.write("stream"),this.internal.write(d+u+y+m+x),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};o.addMetadata=function(l,d){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:l,namespaceuri:d||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",n)),this}})(pi.API),(function(o){var n=o.API,r=n.pdfEscape16=function(u,y){for(var m,x=y.metadata.Unicode.widths,b=["","0","00","000","0000"],j=[""],C=0,M=u.length;C<M;++C){if(m=y.metadata.characterToGlyph(u.charCodeAt(C)),y.metadata.glyIdsUsed.push(m),y.metadata.toUnicode[m]=u.charCodeAt(C),x.indexOf(m)==-1&&(x.push(m),x.push([parseInt(y.metadata.widthOfGlyph(m),10)])),m=="0")return j.join("");m=m.toString(16),j.push(b[4-m.length],m)}return j.join("")},l=function(u){var y,m,x,b,j,C,M;for(j=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,x=[],C=0,M=(m=Object.keys(u).sort(function(A,O){return A-O})).length;C<M;C++)y=m[C],x.length>=100&&(j+=`
`+x.length+` beginbfchar
`+x.join(`
`)+`
endbfchar`,x=[]),u[y]!==void 0&&u[y]!==null&&typeof u[y].toString=="function"&&(b=("0000"+u[y].toString(16)).slice(-4),y=("0000"+(+y).toString(16)).slice(-4),x.push("<"+y+"><"+b+">"));return x.length&&(j+=`
`+x.length+` beginbfchar
`+x.join(`
`)+`
endbfchar
`),j+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(u){(function(y){var m=y.font,x=y.out,b=y.newObject,j=y.putStream;if(m.metadata instanceof o.API.TTFFont&&m.encoding==="Identity-H"){for(var C=m.metadata.Unicode.widths,M=m.metadata.subset.encode(m.metadata.glyIdsUsed,1),A="",O=0;O<M.length;O++)A+=String.fromCharCode(M[O]);var V=b();j({data:A,addLength1:!0,objectId:V}),x("endobj");var J=b();j({data:l(m.metadata.toUnicode),addLength1:!0,objectId:J}),x("endobj");var F=b();x("<<"),x("/Type /FontDescriptor"),x("/FontName /"+Fd(m.fontName)),x("/FontFile2 "+V+" 0 R"),x("/FontBBox "+o.API.PDFObject.convert(m.metadata.bbox)),x("/Flags "+m.metadata.flags),x("/StemV "+m.metadata.stemV),x("/ItalicAngle "+m.metadata.italicAngle),x("/Ascent "+m.metadata.ascender),x("/Descent "+m.metadata.decender),x("/CapHeight "+m.metadata.capHeight),x(">>"),x("endobj");var ge=b();x("<<"),x("/Type /Font"),x("/BaseFont /"+Fd(m.fontName)),x("/FontDescriptor "+F+" 0 R"),x("/W "+o.API.PDFObject.convert(C)),x("/CIDToGIDMap /Identity"),x("/DW 1000"),x("/Subtype /CIDFontType2"),x("/CIDSystemInfo"),x("<<"),x("/Supplement 0"),x("/Registry (Adobe)"),x("/Ordering ("+m.encoding+")"),x(">>"),x(">>"),x("endobj"),m.objectNumber=b(),x("<<"),x("/Type /Font"),x("/Subtype /Type0"),x("/ToUnicode "+J+" 0 R"),x("/BaseFont /"+Fd(m.fontName)),x("/Encoding /"+m.encoding),x("/DescendantFonts ["+ge+" 0 R]"),x(">>"),x("endobj"),m.isAlreadyPutted=!0}})(u)}]),n.events.push(["putFont",function(u){(function(y){var m=y.font,x=y.out,b=y.newObject,j=y.putStream;if(m.metadata instanceof o.API.TTFFont&&m.encoding==="WinAnsiEncoding"){for(var C=m.metadata.rawData,M="",A=0;A<C.length;A++)M+=String.fromCharCode(C[A]);var O=b();j({data:M,addLength1:!0,objectId:O}),x("endobj");var V=b();j({data:l(m.metadata.toUnicode),addLength1:!0,objectId:V}),x("endobj");var J=b();x("<<"),x("/Descent "+m.metadata.decender),x("/CapHeight "+m.metadata.capHeight),x("/StemV "+m.metadata.stemV),x("/Type /FontDescriptor"),x("/FontFile2 "+O+" 0 R"),x("/Flags 96"),x("/FontBBox "+o.API.PDFObject.convert(m.metadata.bbox)),x("/FontName /"+Fd(m.fontName)),x("/ItalicAngle "+m.metadata.italicAngle),x("/Ascent "+m.metadata.ascender),x(">>"),x("endobj"),m.objectNumber=b();for(var F=0;F<m.metadata.hmtx.widths.length;F++)m.metadata.hmtx.widths[F]=parseInt(m.metadata.hmtx.widths[F]*(1e3/m.metadata.head.unitsPerEm));x("<</Subtype/TrueType/Type/Font/ToUnicode "+V+" 0 R/BaseFont/"+Fd(m.fontName)+"/FontDescriptor "+J+" 0 R/Encoding/"+m.encoding+" /FirstChar 29 /LastChar 255 /Widths "+o.API.PDFObject.convert(m.metadata.hmtx.widths)+">>"),x("endobj"),m.isAlreadyPutted=!0}})(u)}]);var d=function(u){var y,m=u.text||"",x=u.x,b=u.y,j=u.options||{},C=u.mutex||{},M=C.pdfEscape,A=C.activeFontKey,O=C.fonts,V=A,J="",F=0,ge="",re=O[V].encoding;if(O[V].encoding!=="Identity-H")return{text:m,x,y:b,options:j,mutex:C};for(ge=m,V=A,Array.isArray(m)&&(ge=m[0]),F=0;F<ge.length;F+=1)O[V].metadata.hasOwnProperty("cmap")&&(y=O[V].metadata.cmap.unicode.codeMap[ge[F].charCodeAt(0)]),y||ge[F].charCodeAt(0)<256&&O[V].metadata.hasOwnProperty("Unicode")?J+=ge[F]:J+="";var ne="";return parseInt(V.slice(1))<14||re==="WinAnsiEncoding"?ne=M(J,V).split("").map(function(ue){return ue.charCodeAt(0).toString(16)}).join(""):re==="Identity-H"&&(ne=r(J,O[V])),C.isHex=!0,{text:ne,x,y:b,options:j,mutex:C}};n.events.push(["postProcessText",function(u){var y=u.text||"",m=[],x={text:y,x:u.x,y:u.y,options:u.options,mutex:u.mutex};if(Array.isArray(y)){var b=0;for(b=0;b<y.length;b+=1)Array.isArray(y[b])&&y[b].length===3?m.push([d(Object.assign({},x,{text:y[b][0]})).text,y[b][1],y[b][2]]):m.push(d(Object.assign({},x,{text:y[b]})).text);u.text=m}else u.text=d(Object.assign({},x,{text:y})).text}])})(pi),(function(o){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};o.existsFileInVFS=function(r){return n.call(this),this.internal.vFS[r]!==void 0},o.addFileToVFS=function(r,l){return n.call(this),this.internal.vFS[r]=l,this},o.getFileFromVFS=function(r){return n.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(pi.API),(function(o){o.__bidiEngine__=o.prototype.__bidiEngine__=function(l){var d,u,y,m,x,b,j,C=n,M=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],O={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},V={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},J=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ge=!1,re=0;this.__bidiEngine__={};var ne=function(B){var z=B.charCodeAt(),Q=z>>8,ae=V[Q];return ae!==void 0?C[256*ae+(255&z)]:Q===252||Q===253?"AL":F.test(Q)?"L":Q===8?"R":"N"},ue=function(B){for(var z,Q=0;Q<B.length;Q++){if((z=ne(B.charAt(Q)))==="L")return!1;if(z==="R")return!0}return!1},Me=function(B,z,Q,ae){var me,K,fe,ce,Le=z[ae];switch(Le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ge=!1;break;case"N":case"AN":break;case"EN":ge&&(Le="AN");break;case"AL":ge=!0,Le="R";break;case"WS":case"BN":Le="N";break;case"CS":ae<1||ae+1>=z.length||(me=Q[ae-1])!=="EN"&&me!=="AN"||(K=z[ae+1])!=="EN"&&K!=="AN"?Le="N":ge&&(K="AN"),Le=K===me?K:"N";break;case"ES":Le=(me=ae>0?Q[ae-1]:"B")==="EN"&&ae+1<z.length&&z[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&Q[ae-1]==="EN"){Le="EN";break}if(ge){Le="N";break}for(fe=ae+1,ce=z.length;fe<ce&&z[fe]==="ET";)fe++;Le=fe<ce&&z[fe]==="EN"?"EN":"N";break;case"NSM":if(y&&!m){for(ce=z.length,fe=ae+1;fe<ce&&z[fe]==="NSM";)fe++;if(fe<ce){var ze=B[ae],P=ze>=1425&&ze<=2303||ze===64286;if(me=z[fe],P&&(me==="R"||me==="AL")){Le="R";break}}}Le=ae<1||(me=z[ae-1])==="B"?"N":Q[ae-1];break;case"B":ge=!1,d=!0,Le=re;break;case"S":u=!0,Le="N"}return Le},he=function(B,z,Q){var ae=B.split("");return Q&&se(ae,Q,{hiLevel:re}),ae.reverse(),z&&z.reverse(),ae.join("")},se=function(B,z,Q){var ae,me,K,fe,ce,Le=-1,ze=B.length,P=0,_=[],R=re?A:M,U=[];for(ge=!1,d=!1,u=!1,me=0;me<ze;me++)U[me]=ne(B[me]);for(K=0;K<ze;K++){if(ce=P,_[K]=Me(B,U,_,K),ae=240&(P=R[ce][O[_[K]]]),P&=15,z[K]=fe=R[P][5],ae>0)if(ae===16){for(me=Le;me<K;me++)z[me]=1;Le=-1}else Le=-1;if(R[P][6])Le===-1&&(Le=K);else if(Le>-1){for(me=Le;me<K;me++)z[me]=fe;Le=-1}U[K]==="B"&&(z[K]=0),Q.hiLevel|=fe}u&&(function(Z,le,ye){for(var qe=0;qe<ye;qe++)if(Z[qe]==="S"){le[qe]=re;for(var Ie=qe-1;Ie>=0&&Z[Ie]==="WS";Ie--)le[Ie]=re}})(U,z,ze)},q=function(B,z,Q,ae,me){if(!(me.hiLevel<B)){if(B===1&&re===1&&!d)return z.reverse(),void(Q&&Q.reverse());for(var K,fe,ce,Le,ze=z.length,P=0;P<ze;){if(ae[P]>=B){for(ce=P+1;ce<ze&&ae[ce]>=B;)ce++;for(Le=P,fe=ce-1;Le<fe;Le++,fe--)K=z[Le],z[Le]=z[fe],z[fe]=K,Q&&(K=Q[Le],Q[Le]=Q[fe],Q[fe]=K);P=ce}P++}}},$=function(B,z,Q){var ae=B.split(""),me={hiLevel:re};return Q||(Q=[]),se(ae,Q,me),(function(K,fe,ce){if(ce.hiLevel!==0&&j)for(var Le,ze=0;ze<K.length;ze++)fe[ze]===1&&(Le=J.indexOf(K[ze]))>=0&&(K[ze]=J[Le+1])})(ae,Q,me),q(2,ae,z,Q,me),q(1,ae,z,Q,me),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(B,z,Q){if((function(me,K){if(K)for(var fe=0;fe<me.length;fe++)K[fe]=fe;m===void 0&&(m=ue(me)),b===void 0&&(b=ue(me))})(B,z),y||!x||b)if(y&&x&&m^b)re=m?1:0,B=he(B,z,Q);else if(!y&&x&&b)re=m?1:0,B=$(B,z,Q),B=he(B,z);else if(!y||m||x||b){if(y&&!x&&m^b)B=he(B,z),m?(re=0,B=$(B,z,Q)):(re=1,B=$(B,z,Q),B=he(B,z));else if(y&&m&&!x&&b)re=1,B=$(B,z,Q),B=he(B,z);else if(!y&&!x&&m^b){var ae=j;m?(re=1,B=$(B,z,Q),re=0,j=!1,B=$(B,z,Q),j=ae):(re=0,B=$(B,z,Q),B=he(B,z),re=1,j=!1,B=$(B,z,Q),j=ae,B=he(B,z))}}else re=0,B=$(B,z,Q);else re=m?1:0,B=$(B,z,Q);return B},this.__bidiEngine__.setOptions=function(B){B&&(y=B.isInputVisual,x=B.isOutputVisual,m=B.isInputRtl,b=B.isOutputRtl,j=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new o.__bidiEngine__({isInputVisual:!0});o.API.events.push(["postProcessText",function(l){var d=l.text;l.x,l.y;var u=l.options||{};l.mutex,u.lang;var y=[];if(u.isInputVisual=typeof u.isInputVisual!="boolean"||u.isInputVisual,r.setOptions(u),Object.prototype.toString.call(d)==="[object Array]"){var m=0;for(y=[],m=0;m<d.length;m+=1)Object.prototype.toString.call(d[m])==="[object Array]"?y.push([r.doBidiReorder(d[m][0]),d[m][1],d[m][2]]):y.push([r.doBidiReorder(d[m])]);l.text=y}else l.text=r.doBidiReorder(d);r.setOptions({isInputVisual:!0})}])})(pi),pi.API.TTFFont=(function(){function o(n){var r;if(this.rawData=n,r=this.contents=new Pl(n),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new K5(this),this.registerTTF()}return o.open=function(n){return new o(n)},o.prototype.parse=function(){return this.directory=new R5(this.contents),this.head=new q5(this),this.name=new U5(this),this.cmap=new cb(this),this.toUnicode={},this.hhea=new I5(this),this.maxp=new P5(this),this.hmtx=new H5(this),this.post=new V5(this),this.os2=new F5(this),this.loca=new Z5(this),this.glyf=new W5(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},o.prototype.registerTTF=function(){var n,r,l,d,u;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var y,m,x,b;for(b=[],y=0,m=(x=this.bbox).length;y<m;y++)n=x[y],b.push(Math.round(n*this.scaleFactor));return b}).call(this),this.stemV=0,this.post.exists?(l=255&(d=this.post.italic_angle),32768&(r=d>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(u=this.familyClass)===1||u===2||u===3||u===4||u===5||u===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},o.prototype.characterToGlyph=function(n){var r;return((r=this.cmap.unicode)!=null?r.codeMap[n]:void 0)||0},o.prototype.widthOfGlyph=function(n){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*r},o.prototype.widthOfString=function(n,r,l){var d,u,y,m;for(y=0,u=0,m=(n=""+n).length;0<=m?u<m:u>m;u=0<=m?++u:--u)d=n.charCodeAt(u),y+=this.widthOfGlyph(this.characterToGlyph(d))+l*(1e3/r)||0;return y*(r/1e3)},o.prototype.lineHeight=function(n,r){var l;return r==null&&(r=!1),l=r?this.lineGap:0,(this.ascender+l-this.decender)/1e3*n},o})();var Gs,Pl=(function(){function o(n){this.data=n??[],this.pos=0,this.length=this.data.length}return o.prototype.readByte=function(){return this.data[this.pos++]},o.prototype.writeByte=function(n){return this.data[this.pos++]=n},o.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},o.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},o.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},o.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},o.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},o.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},o.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},o.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},o.prototype.readString=function(n){var r,l;for(l=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)l[r]=String.fromCharCode(this.readByte());return l.join("")},o.prototype.writeString=function(n){var r,l,d;for(d=[],r=0,l=n.length;0<=l?r<l:r>l;r=0<=l?++r:--r)d.push(this.writeByte(n.charCodeAt(r)));return d},o.prototype.readShort=function(){return this.readInt16()},o.prototype.writeShort=function(n){return this.writeInt16(n)},o.prototype.readLongLong=function(){var n,r,l,d,u,y,m,x;return n=this.readByte(),r=this.readByte(),l=this.readByte(),d=this.readByte(),u=this.readByte(),y=this.readByte(),m=this.readByte(),x=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^r)+1099511627776*(255^l)+4294967296*(255^d)+16777216*(255^u)+65536*(255^y)+256*(255^m)+(255^x)+1):72057594037927940*n+281474976710656*r+1099511627776*l+4294967296*d+16777216*u+65536*y+256*m+x},o.prototype.writeLongLong=function(n){var r,l;return r=Math.floor(n/4294967296),l=4294967295&n,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},o.prototype.readInt=function(){return this.readInt32()},o.prototype.writeInt=function(n){return this.writeInt32(n)},o.prototype.read=function(n){var r,l;for(r=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)r.push(this.readByte());return r},o.prototype.write=function(n){var r,l,d,u;for(u=[],l=0,d=n.length;l<d;l++)r=n[l],u.push(this.writeByte(r));return u},o})(),R5=(function(){var o;function n(r){var l,d,u;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},d=0,u=this.tableCount;0<=u?d<u:d>u;d=0<=u?++d:--d)l={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[l.tag]=l}return n.prototype.encode=function(r){var l,d,u,y,m,x,b,j,C,M,A,O,V;for(V in A=Object.keys(r).length,x=Math.log(2),C=16*Math.floor(Math.log(A)/x),y=Math.floor(C/x),j=16*A-C,(d=new Pl).writeInt(this.scalarType),d.writeShort(A),d.writeShort(C),d.writeShort(y),d.writeShort(j),u=16*A,b=d.pos+u,m=null,O=[],r)for(M=r[V],d.writeString(V),d.writeInt(o(M)),d.writeInt(b),d.writeInt(M.length),O=O.concat(M),V==="head"&&(m=b),b+=M.length;b%4;)O.push(0),b++;return d.write(O),l=2981146554-o(d.data),d.pos=m+8,d.writeUInt32(l),d.data},o=function(r){var l,d,u,y;for(r=ub.call(r);r.length%4;)r.push(0);for(u=new Pl(r),d=0,l=0,y=r.length;l<y;l=l+=4)d+=u.readUInt32();return 4294967295&d},n})(),O5={}.hasOwnProperty,Ks=function(o,n){for(var r in n)O5.call(n,r)&&(o[r]=n[r]);function l(){this.constructor=o}return l.prototype=n.prototype,o.prototype=new l,o.__super__=n.prototype,o};Gs=(function(){function o(n){var r;this.file=n,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return o.prototype.parse=function(){},o.prototype.encode=function(){},o.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},o})();var q5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="head",o.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},o.prototype.encode=function(n){var r;return(r=new Pl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},o})(),tm=(function(){function o(n,r){var l,d,u,y,m,x,b,j,C,M,A,O,V,J,F,ge,re;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=r+n.readInt(),C=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(x=0;x<256;++x)this.codeMap[x]=n.readByte();break;case 4:for(A=n.readUInt16(),M=A/2,n.pos+=6,u=(function(){var ne,ue;for(ue=[],x=ne=0;0<=M?ne<M:ne>M;x=0<=M?++ne:--ne)ue.push(n.readUInt16());return ue})(),n.pos+=2,V=(function(){var ne,ue;for(ue=[],x=ne=0;0<=M?ne<M:ne>M;x=0<=M?++ne:--ne)ue.push(n.readUInt16());return ue})(),b=(function(){var ne,ue;for(ue=[],x=ne=0;0<=M?ne<M:ne>M;x=0<=M?++ne:--ne)ue.push(n.readUInt16());return ue})(),j=(function(){var ne,ue;for(ue=[],x=ne=0;0<=M?ne<M:ne>M;x=0<=M?++ne:--ne)ue.push(n.readUInt16());return ue})(),d=(this.length-n.pos+this.offset)/2,m=(function(){var ne,ue;for(ue=[],x=ne=0;0<=d?ne<d:ne>d;x=0<=d?++ne:--ne)ue.push(n.readUInt16());return ue})(),x=F=0,re=u.length;F<re;x=++F)for(J=u[x],l=ge=O=V[x];O<=J?ge<=J:ge>=J;l=O<=J?++ge:--ge)j[x]===0?y=l+b[x]:(y=m[j[x]/2+(l-O)-(M-x)]||0)!==0&&(y+=b[x]),this.codeMap[l]=65535&y}n.pos=C}return o.encode=function(n,r){var l,d,u,y,m,x,b,j,C,M,A,O,V,J,F,ge,re,ne,ue,Me,he,se,q,$,B,z,Q,ae,me,K,fe,ce,Le,ze,P,_,R,U,Z,le,ye,qe,Ie,Xe,He,ut;switch(ae=new Pl,y=Object.keys(n).sort(function(jt,Ft){return jt-Ft}),r){case"macroman":for(V=0,J=(function(){var jt=[];for(O=0;O<256;++O)jt.push(0);return jt})(),ge={0:0},u={},me=0,Le=y.length;me<Le;me++)ge[Ie=n[d=y[me]]]==null&&(ge[Ie]=++V),u[d]={old:n[d],new:ge[n[d]]},J[d]=ge[n[d]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(J),{charMap:u,subtable:ae.data,maxGlyphID:V+1};case"unicode":for(z=[],C=[],re=0,ge={},l={},F=b=null,K=0,ze=y.length;K<ze;K++)ge[ue=n[d=y[K]]]==null&&(ge[ue]=++re),l[d]={old:ue,new:ge[ue]},m=ge[ue]-d,F!=null&&m===b||(F&&C.push(F),z.push(d),b=m),F=d;for(F&&C.push(F),C.push(65535),z.push(65535),$=2*(q=z.length),se=2*Math.pow(Math.log(q)/Math.LN2,2),M=Math.log(se/2)/Math.LN2,he=2*q-se,x=[],Me=[],A=[],O=fe=0,P=z.length;fe<P;O=++fe){if(B=z[O],j=C[O],B===65535){x.push(0),Me.push(0);break}if(B-(Q=l[B].new)>=32768)for(x.push(0),Me.push(2*(A.length+q-O)),d=ce=B;B<=j?ce<=j:ce>=j;d=B<=j?++ce:--ce)A.push(l[d].new);else x.push(Q-B),Me.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*q+2*A.length),ae.writeUInt16(0),ae.writeUInt16($),ae.writeUInt16(se),ae.writeUInt16(M),ae.writeUInt16(he),ye=0,_=C.length;ye<_;ye++)d=C[ye],ae.writeUInt16(d);for(ae.writeUInt16(0),qe=0,R=z.length;qe<R;qe++)d=z[qe],ae.writeUInt16(d);for(Xe=0,U=x.length;Xe<U;Xe++)m=x[Xe],ae.writeUInt16(m);for(He=0,Z=Me.length;He<Z;He++)ne=Me[He],ae.writeUInt16(ne);for(ut=0,le=A.length;ut<le;ut++)V=A[ut],ae.writeUInt16(V);return{charMap:l,subtable:ae.data,maxGlyphID:re+1}}},o})(),cb=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="cmap",o.prototype.parse=function(n){var r,l,d;for(n.pos=this.offset,this.version=n.readUInt16(),d=n.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=d?l<d:l>d;l=0<=d?++l:--l)r=new tm(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},o.encode=function(n,r){var l,d;return r==null&&(r="macroman"),l=tm.encode(n,r),(d=new Pl).writeUInt16(0),d.writeUInt16(1),l.table=d.data.concat(l.subtable),l},o})(),I5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="hhea",o.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},o})(),F5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="OS/2",o.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,l;for(l=[],r=0;r<10;++r)l.push(n.readByte());return l})(),this.charRange=(function(){var r,l;for(l=[],r=0;r<4;++r)l.push(n.readInt());return l})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,l;for(l=[],r=0;r<2;r=++r)l.push(n.readInt());return l})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},o})(),V5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="post",o.prototype.parse=function(n){var r,l,d;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:case 196608:break;case 131072:var u;for(l=n.readUInt16(),this.glyphNameIndex=[],u=0;0<=l?u<l:u>l;u=0<=l?++u:--u)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],d=[];n.pos<this.offset+this.length;)r=n.readByte(),d.push(this.names.push(n.readString(r)));return d;case 151552:return l=n.readUInt16(),this.offsets=n.read(l);case 262144:return this.map=(function(){var y,m,x;for(x=[],u=y=0,m=this.file.maxp.numGlyphs;0<=m?y<m:y>m;u=0<=m?++y:--y)x.push(n.readUInt32());return x}).call(this)}},o})(),D5=function(o,n){this.raw=o,this.length=o.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},U5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="name",o.prototype.parse=function(n){var r,l,d,u,y,m,x,b,j,C,M;for(n.pos=this.offset,n.readShort(),r=n.readShort(),m=n.readShort(),l=[],u=0;0<=r?u<r:u>r;u=0<=r?++u:--u)l.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+m+n.readShort()});for(x={},u=j=0,C=l.length;j<C;u=++j)d=l[u],n.pos=d.offset,b=n.readString(d.length),y=new D5(b,d),x[M=d.nameID]==null&&(x[M]=[]),x[d.nameID].push(y);this.strings=x,this.copyright=x[0],this.fontFamily=x[1],this.fontSubfamily=x[2],this.uniqueSubfamily=x[3],this.fontName=x[4],this.version=x[5];try{this.postscriptName=x[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=x[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=x[7],this.manufacturer=x[8],this.designer=x[9],this.description=x[10],this.vendorUrl=x[11],this.designerUrl=x[12],this.license=x[13],this.licenseUrl=x[14],this.preferredFamily=x[15],this.preferredSubfamily=x[17],this.compatibleFull=x[18],this.sampleText=x[19]},o})(),P5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="maxp",o.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},o})(),H5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="hmtx",o.prototype.parse=function(n){var r,l,d,u,y,m,x;for(n.pos=this.offset,this.metrics=[],r=0,m=this.file.hhea.numberOfMetrics;0<=m?r<m:r>m;r=0<=m?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(d=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var b,j;for(j=[],r=b=0;0<=d?b<d:b>d;r=0<=d?++b:--b)j.push(n.readInt16());return j})(),this.widths=(function(){var b,j,C,M;for(M=[],b=0,j=(C=this.metrics).length;b<j;b++)u=C[b],M.push(u.advance);return M}).call(this),l=this.widths[this.widths.length-1],x=[],r=y=0;0<=d?y<d:y>d;r=0<=d?++y:--y)x.push(this.widths.push(l));return x},o.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},o})(),ub=[].slice,W5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="glyf",o.prototype.parse=function(){return this.cache={}},o.prototype.glyphFor=function(n){var r,l,d,u,y,m,x,b,j,C;return n in this.cache?this.cache[n]:(u=this.file.loca,r=this.file.contents,l=u.indexOf(n),(d=u.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+l,y=(m=new Pl(r.read(d))).readShort(),b=m.readShort(),C=m.readShort(),x=m.readShort(),j=m.readShort(),this.cache[n]=y===-1?new X5(m,b,C,x,j):new Y5(m,y,b,C,x,j),this.cache[n]))},o.prototype.encode=function(n,r,l){var d,u,y,m,x;for(y=[],u=[],m=0,x=r.length;m<x;m++)d=n[r[m]],u.push(y.length),d&&(y=y.concat(d.encode(l)));return u.push(y.length),{table:y,offsets:u}},o})(),Y5=(function(){function o(n,r,l,d,u,y){this.raw=n,this.numberOfContours=r,this.xMin=l,this.yMin=d,this.xMax=u,this.yMax=y,this.compound=!1}return o.prototype.encode=function(){return this.raw.data},o})(),X5=(function(){function o(n,r,l,d,u){var y,m;for(this.raw=n,this.xMin=r,this.yMin=l,this.xMax=d,this.yMax=u,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],y=this.raw;m=y.readShort(),this.glyphOffsets.push(y.pos),this.glyphIDs.push(y.readUInt16()),32&m;)y.pos+=1&m?4:2,128&m?y.pos+=8:64&m?y.pos+=4:8&m&&(y.pos+=2)}return o.prototype.encode=function(){var n,r,l;for(r=new Pl(ub.call(this.raw.data)),n=0,l=this.glyphIDs.length;n<l;++n)r.pos=this.glyphOffsets[n];return r.data},o})(),Z5=(function(){function o(){return o.__super__.constructor.apply(this,arguments)}return Ks(o,Gs),o.prototype.tag="loca",o.prototype.parse=function(n){var r,l;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var d,u;for(u=[],l=0,d=this.length;l<d;l+=2)u.push(2*n.readUInt16());return u}).call(this):(function(){var d,u;for(u=[],l=0,d=this.length;l<d;l+=4)u.push(n.readUInt32());return u}).call(this)},o.prototype.indexOf=function(n){return this.offsets[n]},o.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},o.prototype.encode=function(n,r){for(var l=new Uint32Array(this.offsets.length),d=0,u=0,y=0;y<l.length;++y)if(l[y]=d,u<r.length&&r[u]==y){++u,l[y]=d;var m=this.offsets[y],x=this.offsets[y+1]-m;x>0&&(d+=x)}for(var b=new Array(4*l.length),j=0;j<l.length;++j)b[4*j+3]=255&l[j],b[4*j+2]=(65280&l[j])>>8,b[4*j+1]=(16711680&l[j])>>16,b[4*j]=(4278190080&l[j])>>24;return b},o})(),K5=(function(){function o(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return o.prototype.generateCmap=function(){var n,r,l,d,u;for(r in d=this.font.cmap.tables[0].codeMap,n={},u=this.subset)l=u[r],n[r]=d[l];return n},o.prototype.glyphsFor=function(n){var r,l,d,u,y,m,x;for(d={},y=0,m=n.length;y<m;y++)d[u=n[y]]=this.font.glyf.glyphFor(u);for(u in r=[],d)(l=d[u])!=null&&l.compound&&r.push.apply(r,l.glyphIDs);if(r.length>0)for(u in x=this.glyphsFor(r))l=x[u],d[u]=l;return d},o.prototype.encode=function(n,r){var l,d,u,y,m,x,b,j,C,M,A,O,V,J,F;for(d in l=cb.encode(this.generateCmap(),"unicode"),y=this.glyphsFor(n),A={0:0},F=l.charMap)A[(x=F[d]).old]=x.new;for(O in M=l.maxGlyphID,y)O in A||(A[O]=M++);return j=(function(ge){var re,ne;for(re in ne={},ge)ne[ge[re]]=re;return ne})(A),C=Object.keys(j).sort(function(ge,re){return ge-re}),V=(function(){var ge,re,ne;for(ne=[],ge=0,re=C.length;ge<re;ge++)m=C[ge],ne.push(j[m]);return ne})(),u=this.font.glyf.encode(y,V,A),b=this.font.loca.encode(u.offsets,V),J={cmap:this.font.cmap.raw(),glyf:u.table,loca:b,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(J["OS/2"]=this.font.os2.raw()),this.font.directory.encode(J)},o})();pi.API.PDFObject=(function(){var o;function n(){}return o=function(r,l){return(Array(l+1).join("0")+r).slice(-l)},n.convert=function(r){var l,d,u,y;if(Array.isArray(r))return"["+(function(){var m,x,b;for(b=[],m=0,x=r.length;m<x;m++)l=r[m],b.push(n.convert(l));return b})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+o(r.getUTCFullYear(),4)+o(r.getUTCMonth(),2)+o(r.getUTCDate(),2)+o(r.getUTCHours(),2)+o(r.getUTCMinutes(),2)+o(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(d in u=["<<"],r)y=r[d],u.push("/"+d+" "+n.convert(y));return u.push(">>"),u.join(`
`)}return""+r},n})();const Vu=["V8","V14","V15","V16","V22","V23"],J5=["V2","V3","V4","V5","V6","V8","V11","V12","V13","V14","V15","V16","V36","V37","V17","V18"],qd=Array.from(new Set([...Vu,...J5])),Op={1:"Escenario 1 - Mnimo operativo",2:"Escenario 2 - Intermedio verificado",3:"Escenario 3 - Completo robusto"},qp={1:"Solo los 5 criterios obligatorios estn listos; el resto de los insumos sigue pendiente.",2:"Las variables clave de la ruta metodolgica estn disponibles para este Escenario 2",3:"Todos los insumos estn registrados y listos para el anlisis completo del Escenario 3."},Ip=["Puntaje por criterios","Matriz de pesos AHP","Tabla combinacin lineal ponderada (WLC)","Podio idoneidad MAR"],Q5="Tabla combinacin lineal ponderada (WLC)",$5=["G1","G2","G3"],ev=["G1","G2","G3"],Fp=ev.flatMap(o=>[{key:`${o}-score`,label:`S_Ci^${o}`,type:"score",group:o},{key:`${o}-contrib`,label:`w_i x S_Ci^${o}`,type:"contribution",group:o}]),tv=[{id:"G1",label:"G1 - Intervencin de cauces"},{id:"G2",label:"G2 - Recarga por pozos"},{id:"G3",label:"G3 - Infiltracin superficial"}],im={1:140,2:110,3:95},am={1:"#bbf7d0",2:"#fed7aa",3:"#fecaca"},nm={1:"Primero",2:"Segundo",3:"Tercero"},rm=["C1","C2","C3","C4","C5"],Vp={C1:"Criterio C1 - Objetivo",C2:"Criterio C2 - Condiciones hidrogeolgicas",C3:"Criterio C3 - Fuente y calidad del agua",C4:"Criterio C4 - Viabilidad tcnica",C5:"Criterio C5 - Aspectos socioambientales"},iv="/images/hero-mountains.png";(()=>{const o=new Map;return(br.modules||[]).forEach(n=>{(n.maps||[]).forEach(r=>{r?.layerId&&o.set(r.layerId,{label:r.label,moduleId:n.id})})}),o})();const av={C1:["V1"],C2:["V2","V3","V4","V5","V6","V7","V8","V9","V11","V12","V24","V25"],C3:["V13","V14","V15","V16","V17","V18"],C4:["V19","V20","V21","V26","V28","V29","V32","V33"],C5:["V22","V23","V34","V35"]};async function om(o){if(typeof window>"u"||!o)return null;try{const n=await fetch(o);if(!n.ok)return null;const r=await n.blob();return await new Promise((l,d)=>{const u=new FileReader;u.onloadend=()=>l(u.result),u.onerror=d,u.readAsDataURL(r)})}catch{return null}}function sm(o){if(o==null)return!0;const n=String(o).trim();return!n||n==="No_reportado"||n==="No reportado"}function mr(o){return String(o??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g," ").trim()}function lm(o){if(!o)return null;if(o.icon)return o.icon;if(o.id&&dm[o.id])return dm[o.id];const n=mr(o.name);return{"presas de recarga":"/images/Presas_de_recarga.png","presas subterraneas":"/images/Presas_subterraneas.png","presas de arena":"/images/Presas_de_arena.png","filtracion de ribera":"/images/Filtracion_de_ribera.png",asr:"/images/ASR.png",astr:"/images/ASTR.png","pozos secos":"/images/Pozos_secos.png","estanques y cuencas de infiltracion":"/images/Estanque_infiltracion.png","tratamiento suelo-acuifero":"/images/SAT.png","galerias de infiltracion":"/images/Galerias_infiltracion.png","inundaciones controladas":"/images/Inundaciones_controladas.png","exceso de riego":"/images/Exceso_de_irrigacion.png","dunas de infiltracion":"/images/Dunas_de_infiltracion.png",lluvia:"/images/Lluvia.png"}[n]||null}function nv(o){if(!o)return"Sin informacin registrada";const n=[];if(Array.isArray(o.inputs)&&o.inputs.forEach(r=>{if(!r)return;const l=r.value;if(sm(l))return;const d=r.label||r.key||"Dato";n.push(`${d}: ${String(l)}`)}),Array.isArray(o.maps)){const r=o.maps.filter(l=>l?.hasFile).map(l=>l.label||l.layerId||"Mapa");r.length&&n.push(`Mapas: ${r.join(", ")}`)}return n.length?n.join(" | "):o.reason&&!sm(o.reason)?o.reason:"Sin datos visibles"}const dm={"1.1":"/images/Presas_de_recarga.png","1.2":"/images/Presas_subterraneas.png","1.3":"/images/Presas_de_arena.png","1.4":"/images/Filtracion_de_ribera.png","2.1":"/images/ASR.png","2.2":"/images/ASTR.png","2.3":"/images/Pozos_secos.png","3.1":"/images/Estanque_infiltracion.png","3.2":"/images/SAT.png","3.3":"/images/Galerias_infiltracion.png","3.4":"/images/Inundaciones_controladas.png","3.5":"/images/Exceso_de_irrigacion.png","3.6":"/images/Dunas_de_infiltracion.png","3.7":"/images/Lluvia.png"};function rv(o){if(!o||typeof o!="object")return"";try{return JSON.stringify({id:o.id,weights:o.weights,phase1:o.phase1,phase2:o.phase2,mapUploads:o.mapUploads,mapMeta:o.mapMeta})}catch{return""}}function ov(o,n){if(!o||typeof n!="function")return new Map;const r=new Map,l=(b,j,{round:C=!1,floor:M=!1}={})=>{if(!j)return;const A=(j.G1+j.G2+j.G3)/3;let O=A;C?O=Math.round(A):M&&(O=Math.floor(A)),r.set(b,{scoreByGroup:j,score04:O})},d=mr(n(o,"hidraulico","Tipo_unidad"));d.includes("libre")?l("V8",{G1:4,G2:3,G3:4},{round:!0}):(d.includes("confinado")||d.includes("semiconfinado"))&&l("V8",{G1:2,G2:4,G3:2},{round:!0});const u=mr(n(o,"fuente","tipo_de_fuente"));u.includes("superficial")?l("V14",{G1:4,G2:3,G3:3},{floor:!0}):u.includes("escorrentia")&&u.includes("estacional")?l("V14",{G1:2,G2:3,G3:4},{floor:!0}):u.includes("residual")?l("V14",{G1:1,G2:4,G3:4},{floor:!0}):u.includes("subterranea")?l("V14",{G1:0,G2:3,G3:2},{floor:!0}):u&&l("V14",{G1:4,G2:4,G3:4},{floor:!0});const y=mr(n(o,"fuente","categoria_calidad_mar"));y.includes("no apta")||y.includes("no evaluada")?l("V15",{G1:0,G2:0,G3:0},{floor:!0}):y.includes("apta con")||y.includes("pretratamiento")||y.includes("con tratamiento")?l("V15",{G1:3,G2:3,G3:4},{floor:!0}):y.includes("apta")&&l("V15",{G1:4,G2:4,G3:3},{floor:!0});const m=mr(n(o,"fuente","cumple_norma_para_uso"));m.includes("no evaluado")?l("V16",{G1:0,G2:0,G3:0},{floor:!0}):m.includes("parcial")?l("V16",{G1:2,G2:1,G3:2},{floor:!0}):m.includes("si")?l("V16",{G1:4,G2:4,G3:4},{floor:!0}):m.includes("no")&&l("V16",{G1:0,G2:0,G3:0},{floor:!0});const x=mr(n(o,"comunidad","uso_final_del_agua"));if(x.includes("domestico")?l("V23",{G1:4,G2:3,G3:2}):x.includes("industrial")?l("V23",{G1:2,G2:4,G3:3}):x.includes("ambiental")?l("V23",{G1:3,G2:2,G3:4}):x.includes("agricola")?l("V23",{G1:3,G2:3,G3:4}):x.includes("mixto")&&l("V23",{G1:4,G2:3,G3:4}),x&&l("V22",{G1:4,G2:4,G3:4}),u.includes("superficial")){const b=mr(n(o,"fuente","tipo_fuente_superficial"));b.includes("rio ganador")||b.includes("rio")&&b.includes("permanente")?l("V36",{G1:4,G2:3,G3:3}):b.includes("estacional")?l("V36",{G1:2,G2:3,G3:4}):b.includes("efimero")?l("V36",{G1:0,G2:3,G3:3}):(b.includes("lago")||b.includes("embalse"))&&l("V36",{G1:3,G2:3,G3:3});const j=mr(n(o,"fuente","conexion_hidraulica"));j.includes("ganador")?l("V37",{G1:4,G2:3,G3:3}):j.includes("perdedor")?l("V37",{G1:2,G2:2,G3:2}):j.includes("sin")&&l("V37",{G1:0,G2:3,G3:1})}return r}function sv(o,n,r){if(!o||!n||typeof r!="function")return new Map;const l=new Map,d=(B,z)=>{if(!z)return;const Q=(z.G1+z.G2+z.G3)/3;l.set(B,{scoreByGroup:z,score04:Q})},u=(B,z)=>{const Q=n.get(B);return(Array.isArray(Q?.inputs)?Q.inputs:[]).find(me=>me?.key===z)?.value??""},y=B=>{const z=P=>{if(P==null)return!1;const _=String(P).trim();return!(!_||_==="No_reportado"||_==="No reportado")};if(B==="V3"){const _=["nombre_unidad_geologica","descripcion_unidad_geologica","profundidad_unidad_geologica_m","escala_mapa_geologico"].filter(le=>z(r(o,"geologico",le))).length,R=n.get(B),Z=(Array.isArray(R?.maps)?R.maps:[]).filter(le=>le&&le.hasFile).length;return{present:_+(Z>0?1:0),total:5}}const Q=n.get(B),ae=Array.isArray(Q?.inputs)?Q.inputs:[],me=Array.isArray(Q?.maps)?Q.maps:[],K=ae.filter(P=>!P?.missing).length,fe=me.filter(P=>P&&P.hasFile).length,ce=B==="V4"?fe>0?1:0:B==="V5"?me.length&&fe===me.length?1:0:fe,Le=B==="V4"||B==="V5"?ae.length+(me.length?1:0):ae.length+me.length;return{present:B==="V4"||B==="V5"?K+ce:K+fe,total:Le}},x=mr(r(o,"fuente","tipo_de_fuente")).includes("superficial"),b=mr(r(o,"caracterizacion","clasificacion_hidrogeologica_uhg")),j=y("V2");let C=0;if(j.total>0)if(j.present===j.total)C=4;else{const B=j.present/j.total;B>=.75?C=3:B>=.5?C=2:j.present>0&&(C=1)}b.includes("acuifero")?d("V2",{G1:Math.min(4,C),G2:Math.min(4,C),G3:Math.min(4,C)}):b.includes("acuitardo")?d("V2",{G1:Math.min(1,C),G2:Math.min(3,C),G3:Math.min(2,C)}):(b.includes("acuicludo")||b.includes("acuifugo"))&&d("V2",{G1:0,G2:0,G3:0});const M=r(o,"volumen","cap_infiltracion_zona_no_saturada")||u("V9","cap_infiltracion_zona_no_saturada"),A=r(o,"volumen","cap_infiltracion_categoria")||u("V9","cap_infiltracion_categoria"),O=mr(M),V=mr(A);O.includes("si")?V.includes("muy alta")?d("V9",{G1:3,G2:0,G3:4}):V.includes("alta")?d("V9",{G1:4,G2:1,G3:4}):V.includes("media")||V.includes("moderad")?d("V9",{G1:3,G2:1,G3:3}):V.includes("baja")?d("V9",{G1:2,G2:1,G3:1}):(V.includes("no evaluado")||V.includes("no evaluada"))&&d("V9",{G1:0,G2:0,G3:0}):O.includes("no")&&d("V9",{G1:0,G2:0,G3:0});const J=y("V3");J.present>=5?d("V3",{G1:4,G2:4,G3:3}):J.present>=2?d("V3",{G1:3,G2:3,G3:2}):J.present>=1&&d("V3",{G1:1,G2:1,G3:1});const F=y("V5");let ge=null;F.present>=6?ge={G1:4,G2:4,G3:4}:F.present>=2?ge={G1:3,G2:3,G3:3}:F.present>=1&&(ge={G1:1,G2:1,G3:1});const re=mr(r(o,"hidraulico","porosidad")||r(o,"caracterizacion","porosidad")),ne=mr(r(o,"hidraulico","permeabilidad")||r(o,"caracterizacion","permeabilidad")),ue={"muy alta (>50%)":{G1:2,G2:3,G3:3},"alta (30-50%)":{G1:3,G2:4,G3:4},"regular (10-30%)":{G1:3,G2:3,G3:3},"mala (0-10%)":{G1:2,G2:2,G3:1}},Me={"muy alta (100<k)":{G1:4,G2:3,G3:4},"alta (10<k<100)":{G1:4,G2:4,G3:4},"media (1<k<10)":{G1:3,G2:3,G3:3},"baja (0.01<k<1)":{G1:1,G2:1,G3:1},"baja a muy baja (10^-2<k<1)":{G1:1,G2:1,G3:1}},he=ue[Object.keys(ue).find(B=>mr(B)===re)],se=Me[Object.keys(Me).find(B=>mr(B)===ne)];if(se&&d("V11",se),he&&d("V12",he),he||se){const B=he&&se?{G1:Math.min(he.G1,se.G1),G2:Math.min(he.G2,se.G2),G3:Math.min(he.G3,se.G3)}:he||se,z=ge?{G1:Math.min(ge.G1,B.G1),G2:Math.min(ge.G2,B.G2),G3:Math.min(ge.G3,B.G3)}:B;d("V5",z)}else ge&&d("V5",ge);const q=y("V4");q.present>=3?d("V4",{G1:4,G2:x?3:2,G3:4}):q.present>=2?d("V4",{G1:3,G2:2,G3:3}):q.present>=1&&d("V4",{G1:1,G2:1,G3:1});const $=y("V6");if($.present>=12?d("V6",{G1:4,G2:4,G3:3}):$.present>=9?d("V6",{G1:3,G2:2,G3:2}):$.present>=2&&d("V6",{G1:1,G2:1,G3:1}),x){const B=mr(r(o,"fuente","tipo_fuente_superficial"));B.includes("rio ganador")||B.includes("rio")&&B.includes("permanente")?d("V36",{G1:4,G2:3,G3:3}):B.includes("estacional")?d("V36",{G1:2,G2:3,G3:4}):B.includes("efimero")?d("V36",{G1:0,G2:3,G3:3}):(B.includes("lago")||B.includes("embalse"))&&d("V36",{G1:3,G2:3,G3:3});const z=mr(r(o,"fuente","conexion_hidraulica"));z.includes("ganador")?d("V37",{G1:4,G2:3,G3:3}):z.includes("perdedor")?d("V37",{G1:2,G2:2,G3:2}):z.includes("sin")&&d("V37",{G1:0,G2:3,G3:1})}return l}const lv={flex:1,padding:24,borderRadius:16,background:"#ffffff",boxShadow:"0 20px 45px rgba(15,23,42,0.08)"};function t0({ready:o=!1}){const{activeCase:n}=Hl();console.log("Datos AHP en Fase 3:",n?.phase2?.ahpResults),console.log("Datos AHP en Fase 3:",n?.phase2?.ahpResults);const r=n?.mapUploads||{},l=n?.mapMeta||{},d="Fase 3 - Resultados",u=o?"Resultados habilitados":"Fase 3 bloqueada",y=o?"Esta seccin resume y consolida la informacin definitiva del estudio; sala como tu ficha oficial de cierre.":"Solo se habilita la Fase 3 una vez se diligencien completamente las rutas metodolgicas de la Fase 2.",m=dt.useCallback((T,Ne)=>{if(!n)return"";const nt=n?.phase1?.modules?.[T]||n?.[T]||{};if(!nt||typeof nt!="object")return"";if(Ne in nt)return nt[Ne];const Ke=br.aliases||{};for(const[bt,At]of Object.entries(Ke))if(At===Ne&&bt in nt)return nt[bt];const _t=Ke[Ne];return _t&&_t in nt?nt[_t]:""},[n]),x=dt.useMemo(()=>{const T=n?.nombre||n?.caseName||"Sin ttulo",Ne=n?.id||n?.caseId||"N/A",nt=n?.usuario||n?.usuarioResponsable||"Anon.",Ke=n?.ubicacion||"No definida",_t=new Date().toLocaleString(void 0,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return[{label:"Nombre del caso",value:T},{label:"ID",value:Ne},{label:"Usuario",value:nt},{label:"Ubicacin",value:Ke},{label:"Fecha",value:_t}]},[n]),b=rv(n),j=n?.phase2?.computedScores,C=dt.useMemo(()=>j&&Array.isArray(j.variables)&&j.variables.length?j:!n||n?.id==="nuevo"?null:Du(n,n?.weights||{}),[n,b,j]),M=C?.variables||[],A=C?.criteria||{},O=dt.useMemo(()=>{if(!j?.scoreById)return null;const T=new Map;return Object.entries(j.scoreById).forEach(([Ne,nt])=>{T.set(Ne,nt)}),T},[j]),V=dt.useCallback(T=>Number.isFinite(T)?Number(T).toFixed(2):"-",[]),J=dt.useCallback(T=>Number.isFinite(T)?`${(Number(T)*100).toFixed(1)}%`:"-",[]),F=dt.useCallback((T,Ne=3)=>Number.isFinite(T)?Number(T).toFixed(Ne):"-",[]),ge=dt.useMemo(()=>{const T=new Map;return M.forEach(Ne=>{Ne?.id&&T.set(Ne.id,Ne)}),T},[M]),[re,ne]=dt.useState(Q5),ue=re==="Puntaje por criterios",Me=re==="Matriz de pesos AHP",he=re==="Tabla combinacin lineal ponderada (WLC)",se=re==="Podio idoneidad MAR",q=dt.useMemo(()=>n?.phase2?.ahpResults?n.phase2.ahpResults:null,[n]),$=dt.useMemo(()=>Array.isArray(q?.ids)?q.ids:[],[q]),B=dt.useMemo(()=>Array.isArray(q?.matrix)?q.matrix:[],[q]),z=dt.useMemo(()=>{const T=$.map((Ke,_t)=>({id:Ke,label:Vp[Ke]||Ke,weight:Number.isFinite(q?.weights?.[_t])?Number(q?.weights[_t]):0})),Ne=[...T].sort((Ke,_t)=>_t.weight-Ke.weight),nt=new Map(Ne.map((Ke,_t)=>[Ke.id,_t+1]));return T.map(Ke=>({...Ke,rank:nt.get(Ke.id)||"-"}))},[$,q]),Q=dt.useMemo(()=>n?.phase2?.wlcResults??null,[n]);dt.useEffect(()=>{console.log("Datos WLC recibidos:",n?.phase2?.wlcResults)},[n?.phase2?.wlcResults]),dt.useMemo(()=>{if(!Array.isArray(Q?.rows)||!Q.rows.length)return[];const T=Q.rows[0].scores||{};return Object.keys(T).filter(Ne=>String(Ne).trim().length).sort()},[Q]);const ae=()=>{if(!K.length)return null;const Ne=[2,1,3].map(nt=>K.find(Ke=>Ke.rank===nt)).filter(Boolean);return Ne.length?t.jsxs("div",{style:{marginTop:16,padding:16,borderRadius:16,background:"#f8fafc",border:"1px solid rgba(0,0,0,0.08)"},children:[t.jsx("div",{style:{fontWeight:800,fontSize:16},children:"Podio de Idoneidad"}),t.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Resultados ordenados por idoneidad (mayor a menor)."}),t.jsx("style",{children:`
@keyframes podiumGlow {
  0%, 100% {
    text-shadow: 0 1px 0 #ffffff, 0 2px 0 rgba(245, 158, 11, 0.45), 0 6px 12px rgba(0,0,0,0.3);
  }
  50% {
    text-shadow: 0 1px 0 #ffffff, 0 2px 0 rgba(245, 158, 11, 0.7), 0 8px 16px rgba(0,0,0,0.45);
  }
}
@keyframes podiumHalo {
  0%, 100% {
    transform: scale(1);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}
@keyframes podiumSparkle {
  0%, 70% {
    transform: translateY(0) scale(0.8) rotate(45deg);
    opacity: 0;
  }
  78% {
    transform: translateY(-4px) scale(1.3) rotate(45deg);
    opacity: 1;
  }
  86% {
    transform: translateY(-1px) scale(1.1) rotate(45deg);
    opacity: 0.8;
  }
  100% {
    transform: translateY(0) scale(0.8) rotate(45deg);
    opacity: 0;
  }
}
@keyframes podiumShine {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}
`}),t.jsx("div",{style:{marginTop:14,display:"flex",alignItems:"flex-end",justifyContent:"center",gap:14,flexWrap:"wrap"},children:Ne.map(nt=>t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:160},children:[t.jsxs("div",{style:{position:"relative",marginBottom:6,overflow:"visible"},children:[t.jsx("div",{style:{position:"absolute",inset:-12,borderRadius:999,background:"radial-gradient(circle, rgba(255,255,255,1), rgba(255,255,255,0))",filter:"blur(4px)",animation:"podiumHalo 2.4s ease-in-out infinite"}}),nt.rank===1?t.jsxs(t.Fragment,{children:[t.jsx("span",{style:{position:"absolute",left:-16,top:-14,width:12,height:12,background:"linear-gradient(135deg, #fff7ed, #f59e0b)",boxShadow:"0 0 10px rgba(245, 158, 11, 0.9)",transform:"rotate(45deg)",opacity:0,animation:"podiumSparkle 2.8s ease-in-out infinite",animationDelay:"0.2s",zIndex:3,pointerEvents:"none"}}),t.jsx("span",{style:{position:"absolute",right:-18,bottom:-12,width:10,height:10,background:"linear-gradient(135deg, #fff7ed, #f59e0b)",boxShadow:"0 0 10px rgba(245, 158, 11, 0.9)",transform:"rotate(45deg)",opacity:0,animation:"podiumSparkle 3.1s ease-in-out infinite",animationDelay:"0.8s",zIndex:3,pointerEvents:"none"}}),t.jsx("span",{style:{position:"absolute",right:-6,top:-18,width:9,height:9,background:"linear-gradient(135deg, #fff7ed, #f59e0b)",boxShadow:"0 0 10px rgba(245, 158, 11, 0.9)",transform:"rotate(45deg)",opacity:0,animation:"podiumSparkle 3.4s ease-in-out infinite",animationDelay:"1.3s",zIndex:3,pointerEvents:"none"}})]}):null,t.jsx("div",{style:{position:"relative",display:"inline-block",fontWeight:900,fontSize:14,letterSpacing:.3,padding:"3px 12px",borderRadius:999,background:"linear-gradient(120deg, #fff7ed, #fde68a, #fff7ed)",border:"1px solid rgba(245, 158, 11, 0.5)",color:"#7c2d12",textShadow:"0 1px 0 #ffffff, 0 2px 0 rgba(245, 158, 11, 0.6), 0 6px 12px rgba(0,0,0,0.35)",boxShadow:"0 6px 14px rgba(245, 158, 11, 0.25)",animation:"podiumGlow 2.2s ease-in-out infinite, podiumShine 3.4s ease-in-out infinite"},children:nm[nt.rank]||"Posicin"})]}),t.jsxs("div",{style:{width:160,height:im[nt.rank]||110,borderRadius:12,background:am[nt.rank]||"#e2e8f0",border:"1px solid rgba(0,0,0,0.1)",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,padding:"10px 8px",boxShadow:"0 10px 18px rgba(0,0,0,0.08)"},children:[t.jsx("div",{style:{fontSize:21,fontWeight:900,lineHeight:1.1},children:String(nt.id||"").replace("G","")}),t.jsx("div",{style:{fontWeight:400,fontSize:14,lineHeight:1.2,textAlign:"center"},children:nt.label}),t.jsx("div",{style:{fontSize:17,fontWeight:900,lineHeight:1.1},children:F(nt.total,3)})]})]},nt.id))}),fe?t.jsx("div",{style:{marginTop:10,fontSize:13,fontWeight:600},children:fe}):null]}):null},me=()=>ce?t.jsxs("div",{style:{marginTop:16,padding:14,borderRadius:14,border:"1px solid rgba(15, 23, 42, 0.08)",background:"#ffffff"},children:[t.jsxs("div",{style:{fontWeight:800,fontSize:16},children:["Tcnicas MAR recomendadas para ",ce.name]}),t.jsx("div",{style:{marginTop:6,fontSize:13,opacity:.85},children:ce.short}),t.jsx("div",{style:{marginTop:12,display:"grid",gap:12},children:ce.techniques.map(T=>{const Ne=lm(T);return t.jsxs("div",{style:{display:"grid",gridTemplateColumns:Ne?"120px 1fr":"1fr",gap:12,alignItems:"center",padding:12,borderRadius:12,background:"#f8fafc",border:"1px solid rgba(0,0,0,0.08)"},children:[Ne?t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx("img",{src:Ne,alt:T.name,style:{width:"100%",maxWidth:110,height:"auto",borderRadius:10}})}):null,t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:800,fontSize:14},children:[T.id," ",T.name]}),t.jsx("div",{style:{marginTop:T.id==="2.2"?18:6,fontSize:13,lineHeight:1.5},children:T.definition})]})]},T.id)})})]}):null,K=dt.useMemo(()=>{if(!Q?.commitTotals)return[];const T=Q.commitTotals||{};return[...tv.map(Ke=>({...Ke,total:Number(T[Ke.id]??0)}))].sort((Ke,_t)=>_t.total-Ke.total).map((Ke,_t)=>({...Ke,rank:_t+1}))},[Q]),fe=K.length?K.map(T=>T.id).join(" > "):"",ce=dt.useMemo(()=>{const T=K.find(nt=>nt.rank===1);if(!T)return null;const Ne=String(T.id||"").replace("G","");return kc.find(nt=>nt.id===Ne)||null},[K]),Le=()=>!Q||!Array.isArray(Q.rows)||!Q.rows.length?t.jsx("div",{style:{marginTop:16,borderRadius:14,border:"1px dashed rgba(113, 128, 150, 0.6)",padding:"18px 20px",fontSize:13,color:"#475569"},children:"Cargando datos o datos no encontrados. Verifica fase 2 para asegurar el clculo WLC."}):t.jsxs("div",{style:{marginTop:16,borderRadius:16,border:"1px solid rgba(15, 23, 42, 0.08)",background:"#ffffff",padding:"20px",width:"100%",boxShadow:"0 20px 45px rgba(15,23,42,0.08)"},children:[t.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#0f172a",marginBottom:10},children:"Combinacin Lineal Ponderada (WLC)"}),t.jsx("div",{style:{fontSize:13,color:"#475569",marginBottom:16},children:"Cada idoneidad se obtiene multiplicando el peso AHP (w_i) por el score del criterio (S_Ci^G) y sumando los aportes por criterio."}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:800},children:[t.jsx("thead",{children:t.jsx("tr",{children:["Criterio","w_i (AHP)",...Fp.map(T=>T.label)].map(T=>t.jsx("th",{style:{textAlign:"left",padding:"10px 14px",borderBottom:"2px solid rgba(148, 163, 184, 0.6)",fontSize:12,whiteSpace:"nowrap",minWidth:T==="Criterio"?180:110},children:T},`wlc-detail-header-${T}`))})}),t.jsx("tbody",{children:Q.rows.map((T,Ne)=>{const nt=T.id==="TOTAL_IDONEIDAD",Ke=nt?"#eef2ff":Ne%2===0?"#ffffff":"#f8fafc";return t.jsxs("tr",{style:{background:Ke},children:[t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontWeight:nt?800:600,fontSize:13},children:T.label||T.id}),t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",textAlign:"center",fontSize:13,fontWeight:nt?700:600},children:Number.isFinite(T.weight)?F(T.weight,3):"-"}),Fp.map(_t=>{const bt=_t.type==="score"?T.groupScores?.[_t.group]:T.scores?.[_t.group];return t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",textAlign:"center",fontWeight:_t.type==="contribution"?700:600,fontSize:13},children:F(bt,3)},`wlc-detail-cell-${T.id||Ne}-${_t.key}`)})]},`wlc-detail-row-${T.id||Ne}`)})})]})})]}),[ze,P]=dt.useState(()=>new Set([rm[0]])),R=dt.useMemo(()=>{const T=m("fuente","tipo_de_fuente");return mr(T)},[m]).includes("superficial"),U=dt.useMemo(()=>{const T=new Map;return M.forEach(Ne=>{Ne?.id&&T.set(Ne.id,Ne)}),T},[M]),Z=dt.useMemo(()=>{const T=new Map;return M.forEach(Ne=>{Ne?.id&&T.set(Ne.id,Ne.minInputsPresent)}),T},[M]),le=dt.useCallback(T=>T?typeof T.missing=="boolean"&&T.missing===!1?!0:Array.isArray(T.inputs)&&T.inputs.length?T.inputs.every(Ne=>Ne&&Ne.missing===!1):typeof T.missing=="boolean"?!T.missing:!0:!1,[]),ye=dt.useCallback(T=>{if(!T)return!1;if(Array.isArray(T.inputs)&&T.inputs.length){const Ne=bt=>{if(!bt)return!1;if(bt.missing===!1)return!0;const At=bt.value;if(At==null)return!1;const bi=String(At).trim();return!(!bi||bi==="No_reportado"||bi==="No reportado")};if(["V26","V28","V29","V32","V33"].includes(T.id)){const bt=T.inputs.find(bi=>bi?.key==="tipo_infraestructura"),At=mr(bt?.value);if(At.includes("no hay infraestructura")||At.includes("sin infraestructura"))return!0}const nt=T.inputs.filter(Ne).length,Ke=Z.get(T.id),_t=Number.isFinite(Ke)?Ke:Math.min(1,T.inputs.length);if(T.id==="V9"){const bt=T.inputs.find(Bt=>Bt?.key==="cap_infiltracion_zona_no_saturada"),At=T.inputs.find(Bt=>Bt?.key==="cap_infiltracion_categoria");return Ne(bt)?mr(bt?.value).includes("si")?Ne(At):!0:!1}return nt>=_t}return!0},[Z]),qe=dt.useCallback(T=>{if(!T)return!1;if(Array.isArray(T.inputs)&&T.inputs.length){const Ne=T.inputs.filter(_t=>_t&&_t.missing===!1).length,nt=Z.get(T.id);let Ke=Number.isFinite(nt)?nt:T.inputs.length;if(T.id==="V9"){const _t=T.inputs.find(At=>At?.key==="cap_infiltracion_zona_no_saturada");Ke=mr(_t?.value).includes("si")?2:1}return Ne>=Ke}return!0},[Z]),Ie=dt.useMemo(()=>xm(n),[n]),Xe=dt.useMemo(()=>Ie.ok&&Vu.every(T=>le(U.get(T))),[Ie,le,U]),He=dt.useMemo(()=>{const T=new Set(qd);return R||["V36","V37"].forEach(Ne=>T.delete(Ne)),Array.from(T).every(Ne=>ye(U.get(Ne)))},[ye,U,R]),ut=dt.useMemo(()=>M.length>0&&M.every(T=>qe(T)),[M,qe]),jt=dt.useMemo(()=>ut?3:He?2:Xe?1:0,[ut,He,Xe]),Ft=dt.useMemo(()=>qd.filter(T=>ye(U.get(T))).length,[ye,U]),X=dt.useMemo(()=>R?qd:qd.filter(T=>!["V36","V37"].includes(T)),[R]),pt=dt.useMemo(()=>new Set(X),[X]),Tt=Xe&&!He&&!ut,Yt=He&&!ut,lt=dt.useCallback(T=>T?Tt?!Vu.includes(T):Yt?!pt.has(T):!1:!1,[Tt,Yt,pt]),Kt=n?.phase2?.manualScores||{},zt=n?.phase2?.manualOverrides||{},Mt=n?.phase2?.useCustomInfluence??!1,Ct=n?.phase2?.customInfluenceByVar||{},hi=dt.useMemo(()=>new Set(["V11","V12"]),[]),ki=dt.useCallback(T=>{if(!Array.isArray(T))return{scores:[],denom:0,sc:null};const Ne=T.filter(bt=>bt&&bt.include&&Number.isFinite(bt.value)).map(bt=>Number(bt.value)),nt=Ne.length,Ke=Ne.reduce((bt,At)=>bt+At,0),_t=nt>0?Ke/nt:null;return{scores:Ne,denom:nt,sc:_t}},[]),ai=dt.useCallback(T=>{if(!T||hi.has(T)||zt?.[T]!==!0)return null;const Ne=Kt?.[T];if(Ne==null||Ne==="")return null;const nt=Number(Ne);return Number.isFinite(nt)?nt:null},[hi,zt,Kt]),Oi=dt.useCallback((T,Ne)=>{if(!Mt)return null;const nt=Ct?.[T]?.[Ne];return Number.isFinite(nt)?Number(nt):null},[Ct,Mt]),ui=dt.useCallback((T,Ne,nt)=>{if(lt(T))return 0;const Ke=Oi(T,Ne);return Number.isFinite(Ke)?Ke:Number.isFinite(nt)?Number(nt):nt},[Oi,lt]),Rt=dt.useMemo(()=>{if(O)return O;if(!ge.size)return ge;let T=null;if(Tt?T=ov(n,m):Yt&&(T=sv(n,ge,m)),!T||!T.size)return ge;const Ne=new Map(ge);for(const[nt,Ke]of T.entries()){const _t=ge.get(nt);_t&&Ne.set(nt,{..._t,...Ke})}return Ne},[O,n,ge,Tt,Yt]),si=dt.useMemo(()=>U.get("V1")||null,[U]);dt.useMemo(()=>lt("V1"),[lt]),dt.useMemo(()=>le(si),[si,le]),dt.useCallback((T,Ne)=>{if(!T)return null;const nt=Rt.get(T),Ke=nt?.scoreByGroup?.[Ne],_t=Number.isFinite(Ke)?Number(Ke):Number(nt?.score04||0);return ui(T,Ne,_t)},[ui,Rt]);const It=dt.useMemo(()=>rm.map(T=>{const Ne=av[T]||[],nt=Ne.map(bt=>({id:bt,isBlocked:lt(bt),isComplete:le(U.get(bt))})).filter(bt=>bt.id),Ke=$5.map(bt=>{const At={},bi=[],Bt=nt.filter(on=>!on.isBlocked&&!on.isComplete).length;nt.forEach(on=>{const ia=on.id,Oa=ai(ia),Li=Rt.get(ia),Ut=Li?.scoreByGroup?.[bt],gn=Number.isFinite(Ut)?Number(Ut):Number(Li?.score04||0),mt=Oa!==null?Oa:ui(ia,bt,gn),Ka=Number.isFinite(mt)?mt:null;At[ia]=Ka;const Ja=Number.isFinite(mt)&&mt!==0;Ja&&bi.push({value:mt,include:Ja})});const{sc:vt}=ki(bi),ci=Bt?`Confianza reducida (${Bt} faltantes)`:`Condiciones compatibles con ${bt}`;return{id:bt,scoresByVar:At,sc:vt??0,observation:ci}}),_t=Vp[T]||A[T]?.label||T;return{id:T,label:_t,varIds:Ne,groups:Ke}}),[ui,le,lt,A,Rt,ki,U,ai]),ta=dt.useMemo(()=>{let T=qp[jt]||"Completa los insumos para habilitar un escenario.";jt===0&&(T="An no hay un escenario definido; completa los insumos para continuar.");const Ne=jt===1?Vu:jt===2?X:jt===3?M.map(bt=>bt?.id).filter(Boolean):[],nt=bt=>{if(!bt)return!1;const At=String(bt).trim().toLowerCase();return!(!At||At.startsWith("sin ")||At.includes("sin datos visibles")||/^\d+\/\d+$/.test(At))},Ke=new Map;if(Ne.forEach(bt=>{const At=U.get(bt);if(!At)return;const bi=A[At.criterionId]?.label||At.criterionId;`${bi}${At.label}`;const Bt=nv(At),vt=jt===1?"Variable mnima del Escenario 1.":jt===2?"Variable necesaria para la ruta metodolgica.":"Variable incluida en el Escenario 3 completo.",ci=bi||"Variables";nt(Bt)&&(Ke.has(ci)||Ke.set(ci,{title:ci,entries:[]}),Ke.get(ci).entries.push({id:At.id,label:At.label,value:Bt,detail:vt}))}),jt===1&&Ke.size===0){const bt={title:"Variables mnimas",entries:[]};n0.forEach(At=>{const bi=m(At.moduleId,At.key);if(!nt(bi))return;const Bt=bi;bt.entries.push({id:`${At.moduleId}-${At.key}`,label:At.label,value:Bt,detail:"Variable del Escenario 1."})}),Ke.set(bt.title,bt)}return{tables:Array.from(Ke.values()),description:T,title:jt?`Insumos  ${Op[jt]}`:"Insumos  Escenario pendiente"}},[jt,Ie,M,A,U,ye,qe,X,m,r,l]),$t=dt.useCallback(async()=>{const T=new pi({orientation:"portrait",unit:"pt",format:"a4"}),Ne=40,nt=await om(iv),Ke=T.internal.pageSize.getWidth(),_t=140,bt=72,At=Ke-Ne-_t,bi=Ne-12;if(T.setDrawColor(226,232,240),T.setFillColor(255,255,255),T.roundedRect(At,bi,_t,bt,16,16,"FD"),T.setFontSize(9),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.text("SIGMMA-MAR",At+_t/2,bi+18,{align:"center"}),nt){const vi=At+(_t-84)/2,bn=bi+26;T.addImage(nt,"PNG",vi,bn,84,40)}T.setFont("Inter","bold"),T.setFontSize(22),T.text("Ficha MAR",Ne,Ne),T.setFont("Inter","normal"),T.setFontSize(18),T.text(d,Ne,Ne+32),T.setFontSize(12),T.setTextColor(o?"#0f172a":"#b91c1c"),T.text(u,Ne,Ne+54),T.setTextColor("#475569"),T.setFontSize(12),T.text(y,Ne,Ne+78,{maxWidth:500});let Bt=Ne+110;const vt=new Map;ce?.techniques?.length&&await Promise.all(ce.techniques.map(async Ze=>{const fi=lm(Ze);if(!fi)return;const vi=await om(fi);vi&&vt.set(Ze.id,vi)}));const ci=13;T.setFontSize(ci),T.setTextColor("#1e293b"),x.forEach(Ze=>{T.setFont(void 0,"bold"),T.text(Ze.label,Ne,Bt),T.setFont(void 0,"normal"),T.text(`${Ze.value}`,Ne+160,Bt),Bt+=ci+11}),Bt+=20;const on=Bt-10,ia=120,Oa=Ne-8,Li=460;T.setDrawColor(29,78,216),T.setFillColor(238,244,255),T.roundedRect(Oa,on,Li,ia,10,10,"FD");const Ut=Oa+14;let gn=on+28;if(T.setFontSize(14),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.text("Escenario de informacin",Ut,gn),gn+=20,T.setFontSize(12),T.setFont(void 0,"bold"),T.setTextColor("#1d4ed8"),T.text(Op[jt]||"Ruta metodolgica",Ut,gn),gn+=18,T.setFont(void 0,"normal"),T.setTextColor("#475569"),T.text(qp[jt]||"Esquema heredado de la Fase 2 que consolida las variables necesarias para definir el estudio final.",Ut,gn,{maxWidth:420}),gn+=36,T.setFontSize(12),T.setFont(void 0,"bold"),T.setTextColor("#1d4ed8"),T.text(`Variables diligenciadas ${Ft}/${qd.length}`,Ut,gn),Bt+=ia+20,ta.tables.length){Bt+=10,T.setFontSize(16),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.text(ta.title,Ne,Bt),Bt+=18,T.setFontSize(14),T.setFont(void 0,"normal"),T.setTextColor("#475569"),T.text(ta.description,Ne,Bt,{maxWidth:500}),Bt+=20;const Ze=Ne,fi=520,vi=230,bn=Ze+vi+14,Ya=fi-vi-14;ta.tables.forEach(de=>{Bt>720&&(T.addPage(),Bt=Ne),T.setFontSize(12),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.text(de.title,Ze,Bt),Bt+=16,T.setDrawColor(0,0,0,0);const Ae=13,be=14;T.setFontSize(Ae),T.setFont(void 0,"normal"),T.setTextColor("#1e293b"),de.entries.forEach(Oe=>{const ot=T.splitTextToSize(Oe.label,vi),$e=T.splitTextToSize(Oe.value,Ya),gi=Math.max(ot.length,$e.length)*be+8;Bt+gi>750&&(T.addPage(),Bt=Ne),ot.forEach((ni,Jt)=>{T.text(ni,Ze+4,Bt+Jt*be)}),$e.forEach((ni,Jt)=>{T.text(ni,bn,Bt+Jt*be)}),Bt+=gi}),Bt+=18})}let mt=Bt;const Ka=Ze=>{const fi=T.internal.pageSize.getHeight();mt+Ze>fi-Ne&&(T.addPage(),mt=Ne)},Ja=T.internal.pageSize.getWidth(),Yi=Ne,Qa=Ja-Ne*2,qa=18,mn=16,xa=72+Ip.length*(qa+4);Ka(xa+mn);const Xi=mt+mn,sa=xa;T.setDrawColor(148,163,184),T.setFillColor(236,244,255),T.roundedRect(Yi,Xi,Qa,sa,18,18,"FD"),T.setFontSize(16),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.text("Ruta ejecutada",Yi+16,Xi+28),T.setFontSize(18),T.text("Ruta A",Yi+16,Xi+52);let wa=Xi+sa;Ip.forEach((Ze,fi)=>{const vi=Xi+70+fi*(qa+4);wa=Math.max(wa,vi+qa);const bn=Ze===re;T.setFontSize(12),T.setFont(void 0,bn?"bold":"normal"),T.setTextColor("#0f172a"),T.text("",Yi+20,vi),T.text(Ze,Yi+30,vi)}),mt=wa+mn;const St=Ne;let gt="portrait",Yn=T.internal.pageSize.getWidth(),Ha=T.internal.pageSize.getHeight();const sn=jt===3,Wa=()=>{const vi=T.internal.pageSize.getWidth()-Ne*2;mt+=24,T.setFontSize(18),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.text("Puntaje por criterio",St,mt),mt+=24,T.setFontSize(12),T.setFont(void 0,"normal"),T.setTextColor("#475569"),T.text("Aqu se consolidan los puntajes y observaciones que luego se usan para ponderar cada criterio y priorizar la decisin final de ruta.",St,mt,{maxWidth:vi}),mt+=32,T.setFont(void 0,"bold"),T.setTextColor("#0f172a")},Xn=Ze=>gt===Ze?!1:(T.addPage("a4",Ze),gt=Ze,Yn=T.internal.pageSize.getWidth(),Ha=T.internal.pageSize.getHeight(),mt=Ne,!0),Cn=Ze=>gt===Ze?!1:(T.addPage("a4",Ze),gt=Ze,Yn=T.internal.pageSize.getWidth(),Ha=T.internal.pageSize.getHeight(),mt=Ne,!0),ya=Ze=>mt+Ze>Ha-Ne?(T.addPage("a4",gt),Yn=T.internal.pageSize.getWidth(),Ha=T.internal.pageSize.getHeight(),mt=Ne,!0):!1,_a=(Ze,fi)=>{const vi=Array.isArray(fi?.ids)?fi.ids:[];if(!vi.length)return;const bn=Array.isArray(fi?.matrix)?fi.matrix:[],Ya=Array.isArray(fi?.weights)?fi.weights:[],de=vi.map((Fe,di)=>({id:Fe,label:Vp[Fe]||Fe,weight:Number.isFinite(Ya[di])?Number(Ya[di]):0})),Ae=[...de].sort((Fe,di)=>di.weight-Fe.weight),be=new Map(Ae.map((Fe,di)=>[Fe.id,di+1]));de.forEach(Fe=>{Fe.rank=be.get(Fe.id)||"-"});const Oe=vi.length>5?"landscape":"portrait";Cn(Oe)?mt+=12:ya(32),mt+=12;const $e=Ze.internal.pageSize.getWidth()-Ne*2;Ze.setFontSize(18),Ze.setFont(void 0,"bold"),Ze.setTextColor("#0f172a"),Ze.text("Matriz de pesos AHP",St,mt),mt+=22,Ze.setFontSize(12),Ze.setFont(void 0,"normal"),Ze.setTextColor("#475569");const xt=Number.isFinite(fi.lambdaMax)?fi.lambdaMax.toFixed(3):"-",gi=Number.isFinite(fi.ci)?fi.ci.toFixed(3):"-",ni=Number.isFinite(fi.cr)?J(fi.cr):"-";Ze.text(`max: ${xt}  CI: ${gi}  CR: ${ni}`,St,mt,{maxWidth:$e}),mt+=16;const Jt=18,ji=16,Ni=Jt+vi.length*ji;ya(Ni+24);const We=mt,Vt=$e/(vi.length+1);Ze.setFontSize(12),Ze.setFont(void 0,"bold"),Ze.setTextColor("#0f172a"),Ze.setFillColor(229,231,235),Ze.rect(St,We,$e,Jt,"F"),Ze.setDrawColor(148,163,184),Ze.setLineWidth(.4),Ze.line(St,We,St+$e,We),Ze.line(St,We+Jt,St+$e,We+Jt),Ze.line(St,We+Ni,St+$e,We+Ni);for(let Fe=0;Fe<=vi.length;Fe+=1){const di=We+Jt+Fe*ji;Ze.line(St,di,St+$e,di)}for(let Fe=0;Fe<vi.length+2;Fe+=1){const di=St+Fe*Vt;Ze.line(di,We,di,We+Ni)}Ze.text("Criterio",St+4,We+Jt-4),vi.forEach((Fe,di)=>{Ze.text(Fe,St+(di+1)*Vt+Vt/2,We+Jt-4,{align:"center"})}),vi.forEach((Fe,di)=>{const Bn=We+Jt+di*ji;Ze.setFont(void 0,"bold"),Ze.text(Fe,St+4,Bn+ji-4),Ze.setFont(void 0,"normal");const Dt=Array.isArray(bn[di])?bn[di]:[];vi.forEach((_n,Ma)=>{const Ti=Dt[Ma],na=Number.isFinite(Ti)?Number(Ti).toFixed(2):"-",Qi=St+(Ma+1)*Vt;di===Ma&&(Ze.setFillColor(240,240,240),Ze.rect(Qi,Bn,Vt,ji,"F"),Ze.setFillColor(255,255,255)),Ze.setFontSize(12),Ze.text(na,Qi+Vt/2,Bn+ji-4,{align:"center"})})}),mt=We+Ni+16,Ze.setFontSize(14),Ze.setFont(void 0,"normal"),Ze.setTextColor("#475569"),Ze.text("CR  10% se considera aceptable segn Saaty.",St,mt),mt+=14,mt+=12;const Pi="Pesos (prioridades)";Ze.setFontSize(16),Ze.setFont(void 0,"bold"),Ze.setTextColor("#0f172a"),Ze.text(Pi,St,mt),mt+=18;const Ji=18,xn=16,fa=Ji+de.length*xn;ya(fa+20);const ln=mt;Ze.setFillColor(235,244,255),Ze.rect(St,ln,$e,Ji,"F"),Ze.setFontSize(12),Ze.setFont(void 0,"bold"),Ze.setTextColor("#0f172a");const Mi=[.45,.18,.18,.19].map(Fe=>$e*Fe),Gi=[];let Ot=St;Mi.forEach(Fe=>{Gi.push(Ot),Ot+=Fe}),["Criterio","Peso (%)","Peso (w_i)","Jerarqua"].forEach((Fe,di)=>{Ze.text(Fe,Gi[di]+4,ln+Ji-4)}),Ze.setDrawColor(148,163,184),Ze.setLineWidth(.4),Ze.line(St,ln,St+$e,ln);let Ia=ln+Ji;de.forEach((Fe,di)=>{di%2&&(Ze.setFillColor(248,250,255),Ze.rect(St,Ia,$e,xn,"F")),Ze.setFont(void 0,"bold"),Ze.setFontSize(11),Ze.text(`${Fe.id} - ${Fe.label}`,Gi[0]+4,Ia+xn-4),Ze.setFont(void 0,"normal"),Ze.setFontSize(12),Ze.text(J(Fe.weight),Gi[1]+4,Ia+xn-4),Ze.text(Number.isFinite(Fe.weight)?Fe.weight.toFixed(3):"-",Gi[2]+4,Ia+xn-4),Ze.text(`${Fe.rank}`,Gi[3]+4,Ia+xn-4),Ze.line(St,Ia,St+$e,Ia),Ia+=xn}),Ze.line(St,Ia,St+$e,Ia),Gi.forEach(Fe=>{Ze.line(Fe,ln,Fe,Ia)}),Ze.line(St+$e,ln,St+$e,Ia),mt=Ia+18;const hs=()=>{const Ma=38+z.length*22+24;ya(Ma),Ze.setFontSize(18),Ze.setFont(void 0,"bold"),Ze.setTextColor("#0f172a"),mt+=12,Ze.text("Grfico de prioridades",St,mt),mt+=18,Ze.setFontSize(12),Ze.setFont(void 0,"normal"),Ze.setTextColor("#475569"),Ze.text("Los pesos AHP alimentan la etapa WLC para priorizar la ruta final y asegurar coherencia metodolgica.",St,mt,{maxWidth:$e}),mt+=20;const Ti=$e-120,na=St+$e-18;z.forEach(Qi=>{const ra=Math.max(0,Math.min(100,Number(Qi.weight)*100));Ze.setFontSize(11),Ze.setFont(void 0,"bold"),Ze.setTextColor("#0f172a"),Ze.text(Qi.id,St,mt+12-2);const Fa=St+40;Ze.setFillColor(229,231,235),Ze.rect(Fa,mt,Ti,12,"F");const ma=ra/100*Ti;Ze.setFillColor(37,99,235),Ze.rect(Fa,mt,ma,12,"F"),Ze.setFont(void 0,"normal"),Ze.setFontSize(10),Ze.setTextColor("#0f172a"),Ze.text(`${ra.toFixed(1)}%`,na,mt+12-2,{align:"right"}),mt+=22})},Mo=(Fe,di)=>{const Bn=Array.isArray(di?.rows)?di.rows:[];if(!Bn.length)return;const Dt=Fp;Fe.addPage("a4","landscape"),gt="landscape",Yn=Fe.internal.pageSize.getWidth(),Ha=Fe.internal.pageSize.getHeight(),mt=Ne;const Ma=Fe.internal.pageSize.getWidth()-Ne*2,Ti=Ne;Fe.setFontSize(16),Fe.setFont(void 0,"bold"),Fe.setTextColor("#0f172a"),Fe.text("Combinacin Lineal Ponderada (WLC)",Ti,mt),mt+=22,Fe.setFontSize(12),Fe.setFont(void 0,"normal"),Fe.setTextColor("#475569"),Fe.text("Este resumen cruza los pesos AHP con los puntajes por grupo obtenidos en la Fase 2 para priorizar las rutas finales.",Ti,mt,{maxWidth:Ma}),mt+=28;const na=70;let Qi=Math.max(170,Ma*.22);const ra=90,Fa=Dt.length;let ma=Ma-Qi-ra;if(Fa>0&&ma<Fa*na){const Ci=Fa*na-ma;Qi=Math.max(130,Qi-Ci),ma=Ma-Qi-ra}const yn=Fa?Math.max(na,ma/Fa):0,Xa=[{key:"label",label:"Criterio",width:Qi},{key:"weight",label:"w_i (AHP)",width:ra},...Dt.map(Ci=>({...Ci,width:yn}))],$a=[];let kn=Ti;if(Xa.forEach(Ci=>{$a.push({...Ci,x:kn}),kn+=Ci.width}),$a.length){const Ci=$a[$a.length-1],Zn=Ti+Ma;Ci.width=Zn-Ci.x}const Mn=26,So=()=>{Fe.setFillColor(235,244,255),Fe.rect(Ti,mt-6,Ma,Mn,"F"),Fe.setDrawColor(148,163,184),Fe.setLineWidth(.4),Fe.line(Ti,mt-6,Ti+Ma,mt-6),Fe.line(Ti,mt+Mn-6,Ti+Ma,mt+Mn-6),Fe.setFontSize(12),Fe.setFont(void 0,"bold"),Fe.setTextColor("#0f172a"),$a.forEach(Ci=>{Fe.text(Ci.label,Ci.x+4,mt+Mn-12)}),mt+=Mn+8};So(),Bn.forEach((Ci,Zn)=>{const Er=Ci.label||Ci.id||"Criterio",Cr=Ci.id==="TOTAL_IDONEIDAD",vn=Fe.splitTextToSize(Er,Qi-10),ar=14,Br=Math.max(Mn,vn.length*ar+10);mt+Br+6>Ha-Ne&&(Fe.addPage("a4","landscape"),gt="landscape",Yn=Fe.internal.pageSize.getWidth(),Ha=Fe.internal.pageSize.getHeight(),mt=Ne,So());const Wo=Cr?"#eef2ff":Zn%2===0?"#ffffff":"#f8fafc";Fe.setFillColor(Wo),Fe.rect(Ti,mt,Ma,Br+2,"F"),Fe.setFontSize(12),Fe.setFont(void 0,Cr?"bold":"normal"),Fe.setTextColor("#0f172a"),vn.forEach((nr,Rr)=>{Fe.text(nr,Ti+4,mt+12+Rr*ar)}),$a.forEach(nr=>{if(nr.key==="label")return;const Rr=nr.x+nr.width/2;let Or="-";if(nr.key==="weight")Or=Number.isFinite(Ci.weight)?F(Ci.weight,3):"-";else{const Ao=nr.type==="score"?Ci.groupScores?.[nr.group]:Ci.scores?.[nr.group];Or=F(Ao,3)}Fe.setFontSize(12),Fe.setFont(void 0,Cr?"bold":"normal"),Fe.text(Or,Rr,mt+Br/2+4,{align:"center"})}),Fe.setDrawColor(225,232,240),Fe.line(Ti,mt+Br+2,Ti+Ma,mt+Br+2),mt+=Br+8}),Fe.addPage("a4","portrait"),gt="portrait",Yn=Fe.internal.pageSize.getWidth(),Ha=Fe.internal.pageSize.getHeight(),mt=Ne+12},wn=(Fe,di)=>{if(!Array.isArray(di)||!di.length)return;const Bn=Fe.internal.pageSize.getWidth()-Ne*2,Dt=270;ya(Dt+24);const _n=mt;Fe.setFillColor(248,250,252),Fe.setDrawColor(0,0,0),Fe.setLineWidth(.4),Fe.roundedRect(St,_n,Bn,Dt,16,16,"F"),Fe.setFontSize(16),Fe.setFont(void 0,"bold"),Fe.setTextColor("#0f172a"),Fe.text("Podio de Idoneidad",St+12,_n+26),Fe.setFontSize(12),Fe.setFont(void 0,"normal"),Fe.setTextColor("#475569"),Fe.text("Resultados ordenados por idoneidad (mayor a menor).",St+12,_n+40);const Ma=[2,1,3].map(yn=>di.find(Xa=>Xa.rank===yn)).filter(Boolean),Ti=140,na=16,Qi=Ma.length*Ti+(Ma.length-1)*na;let ra=St+(Bn-Qi)/2;const Fa=_n+96;Ma.forEach(yn=>{const Xa=am[yn.rank]||"#e2e8f0",$a=nm[yn.rank]||"Posicin";Fe.setFillColor(255,247,237),Fe.roundedRect(ra,Fa-30,Ti,28,14,14,"F"),Fe.setFontSize(12),Fe.setFont(void 0,"bold"),Fe.setTextColor("#7c2d12"),Fe.text($a,ra+Ti/2,Fa-12,{align:"center"});const kn=Xa.replace("#",""),Mn=parseInt(kn.slice(0,2),16),So=parseInt(kn.slice(2,4),16),Ci=parseInt(kn.slice(4,6),16);Fe.setFillColor(Mn,So,Ci),Fe.roundedRect(ra,Fa,Ti,im[yn.rank]||110,12,12,"F"),Fe.setFontSize(20),Fe.setFont(void 0,"bold"),Fe.setTextColor("#0f172a"),Fe.text(String(yn.id||"").replace("G",""),ra+Ti/2,Fa+34,{align:"center"}),Fe.setFontSize(12),Fe.setFont(void 0,"normal"),Fe.setTextColor("#0f172a"),Fe.text(yn.label,ra+Ti/2,Fa+54,{align:"center"}),Fe.setFontSize(16),Fe.setFont(void 0,"bold"),Fe.text(F(yn.total,3),ra+Ti/2,Fa+78,{align:"center"}),ra+=Ti+na});const ma=di.map(yn=>yn.id).join(" > ");ma&&(Fe.setFontSize(10),Fe.setFont(void 0,"bold"),Fe.setTextColor("#475569"),Fe.text(ma,St+12,_n+Dt-12)),mt=_n+Dt+18},io=(Fe,di,Bn)=>{if(!di)return;const Dt=Fe.internal.pageSize.getWidth()-Ne*2,_n=60+(di.techniques?.length||0)*90,Ma=di.id==="G3"?48:_n+12;ya(Ma);const Ti=mt;Fe.setFontSize(16),Fe.setFont(void 0,"bold"),Fe.setTextColor("#0f172a"),Fe.text(`Tcnicas MAR recomendadas para ${di.name}`,St,Ti),Fe.setFontSize(11),Fe.setFont(void 0,"normal"),Fe.setTextColor("#475569"),Fe.text(di.short,St,Ti+16,{maxWidth:Dt});let na=Ti+34;(di.techniques||[]).forEach(Qi=>{const ra=Bn.get(Qi.id),Fa=ra?St+12+58+12:St+12,ma=`${Qi.id} ${Qi.name}`.replace(/\s*\n\s*/g," "),yn=Fe.splitTextToSize(Qi.definition,Dt-(Fa-St)-16),Xa=Math.max(78,yn.length*12+32);ya(Xa+10),Fe.setFillColor(248,250,252),Fe.setDrawColor(0,0,0),Fe.setLineWidth(.4),Fe.roundedRect(St,na,Dt,Xa,12,12,"F"),ra&&Fe.addImage(ra,"PNG",St+12,na+10,58,58),Fe.setFontSize(13),Fe.setFont(void 0,"bold"),Fe.setTextColor("#0f172a"),Fe.text(ma,Fa,na+24),Fe.setFont(void 0,"normal"),Fe.setFontSize(11),Fe.setTextColor("#475569");let $a=na+40;yn.forEach(kn=>{Fe.text(kn,Fa,$a),$a+=12}),na+=Xa+10}),mt=na+10};hs(),ya(14),mt+=12,Mo(Ze,n?.phase2?.wlcResults),wn(Ze,K),io(Ze,ce,vt)};ya(24),Wa();const ka=(Ze,fi)=>fi.groups.some(vi=>Number(vi.scoresByVar[Ze])>0);It.forEach(Ze=>{const fi=Ze.varIds.filter(Pi=>ka(Pi,Ze));if(!fi.length)return;const vi=sn||fi.length>5;Xn(vi?"landscape":"portrait")&&Wa();const Ya=Yn-Ne*2,de=2,Ae=fi.map(Pi=>`Score(${Pi})G`);T.setFont(void 0,"bold"),T.setFontSize(10);const be=Math.max(T.getTextWidth("Grupo"),40)+de*2,Oe="Sc1G",ot=Math.max(T.getTextWidth(Oe),36)+de*2,$e=Ae.map(Pi=>Math.max(T.getTextWidth(Pi),T.getTextWidth("Score(VX)G"),30)+de*2),xt=$e.reduce((Pi,Ji)=>Pi+Ji,0),gi=140;let ni=Math.max(gi,Ya-be-ot-xt);const Jt=be+ot+xt+ni-Ya;Jt>0&&(ni=Math.max(gi,ni-Jt));const ji=Math.max(ni-de*2,60);T.setFont(void 0,"normal");const Ni=26;ya(Ni+8)&&Wa(),T.setDrawColor(148,163,184),T.setFillColor(224,235,255),T.roundedRect(St,mt,Ya,Ni,8,8,"FD"),T.setFontSize(12),T.setFont(void 0,"bold"),T.setTextColor("#1d4ed8"),T.text(Ze.label,St+10,mt+17),mt+=Ni+8;const We=20,Vt=()=>{ya(We+6)&&Wa(),T.setFontSize(10),T.setFont(void 0,"bold"),T.setTextColor("#0f172a"),T.setFillColor(255,255,255),T.rect(St,mt-2,Ya,We+4,"F");let Pi=St;T.text("Grupo",Pi+de,mt+12),Pi+=be,fi.forEach((Ji,xn)=>{T.text(Ae[xn],Pi+de,mt+12),Pi+=$e[xn]}),T.text(Oe,Pi+de,mt+12),Pi+=ot,T.text("Observaciones",Pi+de,mt+12),mt+=We+6};Vt(),Ze.groups.forEach((Pi,Ji)=>{const xn=T.splitTextToSize(Pi.observation||"",ji),fa=xn.length*9,ln=Math.max(18,fa+8);ya(ln+6)&&(Wa(),Vt()),T.setFontSize(12),T.setFont(void 0,"normal");const Si=Ji%2===0;T.setFillColor(Si?255:236,244,255),T.rect(St,mt-2,Ya,ln+4,"F");let Mi=St;T.setTextColor("#0f172a"),T.text(Pi.id,Mi+de,mt+12),Mi+=be,fi.forEach((Ot,ir)=>{T.text(`${V(Pi.scoresByVar[Ot])}`,Mi+de,mt+12),Mi+=$e[ir]}),T.setFont(void 0,"bold"),T.text(`${V(Pi.sc)}`,Mi+de,mt+12),T.setFont(void 0,"normal"),Mi+=ot;let Gi=mt+6;xn.forEach(Ot=>{T.text(Ot,Mi+de,Gi),Gi+=9}),mt+=ln+6}),mt+=12}),_a(T,n?.phase2?.ahpResults),T.save(`Ficha-MAR-${x[1]?.value||"caso"}.pdf`)},[re,x,It,y,V,ta,o,jt,u,d,Ft]);return dt.useEffect(()=>{if(!(typeof window>"u"))return window.sigmmaExportRouteA=$t,()=>{window.sigmmaExportRouteA===$t&&delete window.sigmmaExportRouteA}},[$t]),t.jsxs("section",{style:{width:"100%",padding:26,background:"#eef2f7",borderRadius:24,border:"1px solid rgba(37, 99, 235, 0.2)",display:"flex",flexDirection:"column",gap:20,boxShadow:"0 45px 80px rgba(15, 23, 42, 0.08)"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:8},children:t.jsxs("div",{style:{width:140,height:72,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,padding:"8px 0",borderRadius:16,background:"#ffffff",color:"#0f172a",border:"1px solid rgba(226, 232, 240, 0.9)",boxShadow:"0 6px 18px rgba(15, 23, 42, 0.08)"},children:[t.jsx("span",{style:{fontSize:11,fontWeight:700,letterSpacing:"0.18em",textAlign:"center"},children:"SIGMMA-MAR"}),t.jsx("img",{src:"/images/hero-mountains.png",alt:"Marca SIGMMA-MAR",style:{width:56,height:"auto",display:"block"}})]})}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:14,justifyContent:"space-between"},children:x.map(T=>t.jsxs("div",{style:{flex:"1 1 220px",minWidth:210,borderRadius:16,background:"#ffffff",border:"1px solid rgba(148, 163, 184, 0.35)",padding:"16px 20px",boxShadow:"0 10px 28px rgba(15,23,42,0.08)"},children:[t.jsx("div",{style:{fontSize:16,color:"#0f172a",marginBottom:6,fontWeight:800},children:T.label}),t.jsx("div",{style:{fontSize:20,fontWeight:600,color:"#4b5563"},children:T.value})]},T.label))}),t.jsxs("div",{style:{background:"#eef4ff",borderRadius:24,border:"2px solid #1d4ed8",padding:26,display:"flex",flexDirection:"column",gap:18,boxShadow:"0 25px 55px rgba(37, 99, 235, 0.25)"},children:[t.jsx("div",{style:{fontSize:22,fontWeight:700,color:"#0a1b43"},children:"Escenario de informacin"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:20,flexWrap:"wrap"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#1d4ed8"},children:Op[jt]||"Ruta metodolgica en construccin"}),t.jsx("div",{style:{fontSize:14,color:"#1f2937",maxWidth:520},children:qp[jt]||"Esquema heredado de la Fase 2, integra las variables necesarias para consolidar la informacin definitiva del estudio."})]}),t.jsxs("div",{style:{borderRadius:14,padding:"10px 18px",background:"#1d4ed8",color:"#fff",fontWeight:800,fontSize:14,display:"inline-flex",alignItems:"center",gap:6},children:[t.jsx("span",{children:"Variables diligenciadas"}),t.jsxs("strong",{children:[Ft,"/",qd.length]})]})]})]}),t.jsxs("div",{style:{background:"#ffffff",borderRadius:20,border:"1px solid rgba(15, 23, 42, 0.08)",padding:"24px 22px",display:"flex",flexDirection:"column",gap:16},children:[t.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#0f172a"},children:ta.title}),t.jsx("div",{style:{fontSize:14,color:"#475569"},children:ta.description}),ta.tables.length?t.jsx("div",{style:{borderRadius:16,background:"#f8fafc",border:"1px solid rgba(148, 163, 184, 0.35)",padding:"12px",display:"flex",flexDirection:"column",gap:16},children:ta.tables.map(T=>t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:16,fontWeight:700,color:"#1d4ed8",marginBottom:14},children:T.title}),t.jsx("table",{style:{width:"100%",borderCollapse:"collapse",borderSpacing:0,minWidth:480,border:"1px solid rgba(148, 163, 184, 0.35)"},children:t.jsx("tbody",{children:T.entries.map(Ne=>t.jsxs("tr",{style:{borderBottom:"1px solid rgba(148, 163, 184, 0.35)",paddingTop:4},children:[t.jsx("td",{style:{width:"60%",padding:"8px 12px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",borderRight:"1px solid rgba(148, 163, 184, 0.35)"},children:t.jsx("div",{style:{fontSize:16,fontWeight:700,color:"#0f172a"},children:Ne.label})}),t.jsx("td",{style:{padding:"8px 12px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)"},children:t.jsx("div",{style:{fontSize:16,fontWeight:600,color:"#0f172a"},children:Ne.value})})]},Ne.id))})})]},T.title))}):t.jsx("div",{style:{borderRadius:16,border:"1px dashed rgba(148, 163, 184, 0.45)",padding:"18px 20px",fontSize:13,color:"#64748b"},children:"Completa los insumos para que esta tabla refleje el nivel mnimo requerido en cada escenario."})]}),t.jsxs("div",{style:{background:"#0f172a",borderRadius:20,padding:"22px 24px",border:"1px solid rgba(15, 23, 42, 0.2)",display:"flex",flexDirection:"column",gap:12},children:[t.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#f8fafc"},children:"Ruta ejecutada"}),t.jsx("div",{style:{fontSize:20,fontWeight:800,color:"#ffffff"},children:"Ruta A"}),t.jsx("ul",{style:{margin:0,padding:0,listStyle:"none",display:"flex",flexDirection:"column",gap:8},children:Ip.map(T=>{const Ne=re===T;return t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>ne(T),style:{width:"100%",background:"transparent",border:"none",textAlign:"left",fontSize:14,fontWeight:Ne?700:600,color:Ne?"#ffffff":"#cbd5f5",padding:"6px 0",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer"},children:T})},T)})}),t.jsx("div",{style:{marginTop:18},children:ue?t.jsxs("div",{style:{background:"#ffffff",borderRadius:20,border:"1px solid rgba(37, 99, 235, 0.45)",padding:"24px 22px",display:"flex",flexDirection:"column",gap:0},children:[t.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#0f172a",padding:"16px 0"},children:"Puntaje por criterio"}),It.map(T=>{const Ne=ze.has(T.id);return t.jsxs("div",{style:{borderRadius:16,border:"1px solid rgba(148, 163, 184, 0.35)",background:"#f8fafc",overflow:"hidden",marginBottom:12},children:[t.jsxs("button",{type:"button",onClick:()=>P(nt=>{const Ke=new Set(nt);return Ke.has(T.id)?Ke.delete(T.id):Ke.add(T.id),Ke}),style:{width:"100%",padding:"12px 16px",background:Ne?"#e0e7ff":"#dbeafe",border:"none",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:16,fontWeight:700,color:"#1d4ed8",cursor:"pointer"},children:[t.jsx("span",{children:T.label}),t.jsx("span",{children:Ne?"":""})]}),Ne&&t.jsx("div",{style:{padding:"16px"},children:T.varIds.length?t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:16,minWidth:900},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:"10px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:16},children:"Grupo"}),T.varIds.map(nt=>t.jsx("th",{style:{textAlign:"center",padding:"10px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:16},children:t.jsxs("span",{children:["Score(",nt,")",t.jsx("sup",{children:"G"})]})},`header-${T.id}-${nt}`)),t.jsx("th",{style:{textAlign:"center",padding:"10px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:16},children:"Sc1G"}),t.jsx("th",{style:{textAlign:"left",padding:"8px 12px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)"},children:"Observaciones"})]})}),t.jsx("tbody",{children:T.groups.map((nt,Ke)=>t.jsxs("tr",{style:{background:Ke%2===0?"#ffffff":"#edf2ff"},children:[t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontWeight:700,fontSize:16},children:nt.id}),T.varIds.map(_t=>t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",textAlign:"center",fontSize:16},children:V(nt.scoresByVar[_t])},`${T.id}-${nt.id}-${_t}`)),t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",textAlign:"center",fontWeight:700,fontSize:16},children:V(nt.sc)}),t.jsx("td",{style:{padding:"12px 14px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:16},children:nt.observation})]},`${T.id}-${nt.id}`))})]})}):t.jsx("div",{style:{borderRadius:12,border:"1px dashed rgba(148, 163, 184, 0.45)",padding:"12px 14px",fontSize:13,color:"#64748b"},children:"A?n no hay variables configuradas para este criterio."})})]},T.id)})]}):Me?t.jsx("div",{style:{background:"#0f172a",borderRadius:20,border:"1px solid rgba(15, 23, 42, 0.2)",padding:"24px 22px",display:"flex",flexDirection:"column",gap:16},children:$.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#f8fafc"},children:"Matriz de pesos AHP"}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{style:{minWidth:160,fontSize:13,color:"#dbeafe"},children:["max: ",Number.isFinite(q.lambdaMax)?q.lambdaMax.toFixed(3):"-"]}),t.jsxs("div",{style:{minWidth:160,fontSize:13,color:"#dbeafe"},children:["CI: ",Number.isFinite(q.ci)?q.ci.toFixed(3):"-"]}),t.jsxs("div",{style:{minWidth:160,fontSize:13,color:"#dbeafe"},children:["CR: ",Number.isFinite(q.cr)?J(q.cr):"-"]})]}),t.jsxs("div",{style:{display:"grid",gap:16},children:[t.jsx("div",{style:{border:"1px solid rgba(248, 250, 255, 0.6)",borderRadius:14,padding:"12px",background:"#ffffff",color:"#0f172a",overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,minWidth:480},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{padding:"8px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.45)"},children:"Criterio"}),$.map(T=>t.jsx("th",{style:{padding:"8px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.45)",textAlign:"center"},children:T},`matrix-header-${T}`))]})}),t.jsx("tbody",{children:B.map((T,Ne)=>t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"6px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontWeight:700},children:$[Ne]}),$.map((nt,Ke)=>{const _t=Ne===Ke;return t.jsx("td",{style:{padding:"6px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",textAlign:"center",background:_t?"#f3f4f6":"transparent"},children:Number.isFinite(T?.[Ke])?Number(T[Ke]).toFixed(2):"-"},`matrix-cell-${Ne}-${Ke}`)})]},`matrix-row-${Ne}`))})]})}),t.jsx("div",{style:{border:"1px solid rgba(248, 250, 255, 0.6)",borderRadius:14,padding:"12px",background:"#ffffff",color:"#0f172a",overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:14,minWidth:360},children:[t.jsx("thead",{children:t.jsx("tr",{children:["Criterio","Peso (%)","Peso (w_i)","Jerarqua"].map(T=>t.jsx("th",{style:{padding:"8px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.45)",textAlign:"left"},children:T},`weight-header-${T}`))})}),t.jsx("tbody",{children:z.map((T,Ne)=>t.jsxs("tr",{style:{background:Ne%2===0?"#f8fafc":"#ffffff"},children:[t.jsxs("td",{style:{padding:"6px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:13},children:[T.id," - ",T.label]}),t.jsx("td",{style:{padding:"6px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:13},children:J(T.weight)}),t.jsx("td",{style:{padding:"6px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:13},children:Number.isFinite(T.weight)?T.weight.toFixed(3):"-"}),t.jsx("td",{style:{padding:"6px 10px",borderBottom:"1px solid rgba(148, 163, 184, 0.35)",fontSize:13},children:T.rank})]},`weight-row-${T.id}`))})]})}),t.jsx("div",{style:{borderRadius:14,padding:"12px",background:"#e0f2ff",color:"#0b1e40",fontSize:13,lineHeight:1.6},children:"Los pesos presentados aqu se usan directamente en la siguiente fase WLC para ponderar cada criterio y priorizar la ruta definitiva."})]})]}):t.jsx("div",{style:{borderRadius:12,border:"1px dashed rgba(248, 250, 255, 0.6)",padding:"18px 20px",fontSize:13,color:"#f8fafc"},children:"An no se han generado los pesos AHP de la Fase 2; completa esa ruta para verlos aqu."})}):he?t.jsxs("div",{style:{background:"#0f172a",borderRadius:20,border:"1px solid rgba(15, 23, 42, 0.2)",padding:"24px 22px",display:"flex",flexDirection:"column",gap:16},children:[t.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#f8fafc"},children:"Combinacin Lineal Ponderada (WLC)"}),Le()]}):se?t.jsxs("div",{style:{background:"#0f172a",borderRadius:20,border:"1px solid rgba(15, 23, 42, 0.2)",padding:"24px 22px",display:"flex",flexDirection:"column",gap:16},children:[t.jsx("div",{style:{fontSize:20,fontWeight:700,color:"#f8fafc"},children:"Podio idoneidad MAR"}),ae(),me()]}):t.jsx("div",{style:{background:"#f1f5f9",borderRadius:18,border:"1px solid rgba(148, 163, 184, 0.4)",padding:"18px 20px",fontSize:14,color:"#475569"},children:'Selecciona "Puntaje por criterios" en la Ruta A para ver los cuadros de diagnstico.'})})]}),t.jsxs("div",{style:{...lv,borderRadius:22,padding:32,border:"1px solid rgba(15, 23, 42, 0.08)",background:"#ffffff",display:"flex",flexWrap:"wrap",gap:28},children:[t.jsxs("div",{style:{flex:"1 1 320px",minWidth:260,display:"flex",flexDirection:"column",gap:10},children:[t.jsx("div",{style:{fontSize:28,fontWeight:800,color:"#0f172a"},children:d}),t.jsx("div",{style:{fontSize:15,color:o?"#0f172a":"#b91c1c",fontWeight:700},children:u}),t.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:"1 1 320px"},children:[t.jsx("p",{style:{fontSize:17,color:"#475569",lineHeight:1.8,margin:0},children:y}),t.jsx("div",{style:{fontSize:14,color:"#64748b",marginTop:10}})]}),t.jsx("button",{type:"button",onClick:()=>{$t()},style:{padding:"12px 20px",borderRadius:14,border:"none",background:"#0f172a",color:"#ffffff",fontWeight:700,fontSize:14,cursor:"pointer"},children:"Exportar ficha"})]})]}),t.jsx("div",{style:{flex:"0 0 320px",minWidth:260,borderRadius:16,overflow:"hidden",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:t.jsx("img",{src:"/images/Recarga_ejemplo.png",alt:"Visualizacin en construccin",style:{width:"100%",height:"auto",objectFit:"cover",borderRadius:12}})})]})]})}const cm={"1.1":"/images/Presas_de_recarga.png","1.2":"/images/Presas_subterraneas.png","1.3":"/images/Presas_de_arena.png","1.4":"/images/Filtracion_de_ribera.png","2.1":"/images/ASR.png","2.2":"/images/ASTR.png","2.3":"/images/Pozos_secos.png"},um={[fs("Estanques y cuencas de infiltracion")]:"/images/Estanque_infiltracion.png",[fs("Tratamiento suelo - acuifero")]:"/images/SAT.png",[fs("Tratamiento sueloacufero")]:"/images/SAT.png",[fs("Tratamiento sueloacuifero")]:"/images/SAT.png",[fs("Tratamiento suelo-acuifero")]:"/images/SAT.png",[fs("Tratamiento suelo-acuifero (SAT)")]:"/images/SAT.png",[fs("Galerias de infiltracion")]:"/images/Galerias_infiltracion.png",[fs("Inundaciones controladas")]:"/images/Inundaciones_controladas.png",[fs("Exceso de riego")]:"/images/Exceso_de_irrigacion.png",[fs("Filtracion de dunas")]:"/images/Dunas_de_infiltracion.png",[fs("Captacion de agua lluvia")]:"/images/Lluvia.png"};function fs(o){return String(o??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g," ").trim()}function fm(o){if(!o)return null;if(cm[o.id])return cm[o.id];const n=fs(o.name);return um[n]?um[n]:null}function pm({layer:o,upload:n,meta:r,marks:l,missing:d,isReadOnlyCase:u,previewSrc:y,canShow:m,moduleIdForSelection:x,onUpdateMeta:b,onUploadMap:j,onRemoveMap:C,ImageMarkerComponent:M}){return t.jsx("div",{className:"insumos-map-viewer",children:t.jsxs("div",{className:"insumos-map-viewer-inner",children:[t.jsxs("p",{className:"insumos-map-viewer-caption",children:["Vista previa de la capa: ",t.jsx("strong",{children:o?.label||""}),"."]}),o?n?.name?m?t.jsxs(t.Fragment,{children:[t.jsxs("label",{className:"insumos-map-check",style:{display:"block",marginBottom:10},children:[t.jsx("input",{type:"checkbox",checked:!!r?.confirmedLayer,disabled:u,onChange:A=>b({confirmedLayer:A.target.checked})}),"  ","Confirmo que este archivo corresponde a la capa: ",t.jsx("strong",{children:o.label})]}),t.jsxs("div",{className:"insumos-map-scale-row",style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[t.jsx("span",{style:{fontSize:12,opacity:.85},children:"Escala (texto):"}),t.jsx("input",{className:"insumos-map-scale-input",type:"text",placeholder:"Ej: 1:25.000",value:r?.scaleText||"",disabled:u,onChange:A=>b({scaleText:A.target.value}),style:{flex:1}})]}),M?t.jsx(M,{src:y,layerId:o.id,meta:r,disabled:u}):null]}):t.jsxs("div",{className:"insumos-map-empty",children:["Archivo cargado: ",t.jsx("strong",{children:n.name}),t.jsxs("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:["Este archivo no permite marcacion. Para validar y exportar, sube una version ",t.jsx("strong",{children:"PNG/JPG"}),"."]}),n.url&&t.jsx("div",{style:{marginTop:8},children:t.jsx("a",{href:n.url,target:"_blank",rel:"noreferrer",children:"Abrir archivo en nueva pestaa"})})]}):t.jsx("div",{className:"insumos-map-empty",children:"No hay archivo cargado para esta capa."}):t.jsx("p",{className:"text-muted",children:"No hay capa activa."}),o&&t.jsxs("div",{className:"insumos-map-upload-box",children:[t.jsx("div",{className:"insumos-map-upload-title",children:"Mapas relacionados"}),t.jsxs("div",{className:"insumos-map-upload-row",children:[t.jsx("input",{type:"file",accept:"image/*,application/pdf,.tif,.tiff,.zip",className:"insumos-map-file",disabled:u,onChange:A=>{const O=A.target.files?.[0];O&&j(o.id,O,x,o.label),A.target.value=""}}),t.jsx("div",{className:"insumos-map-upload-status",children:n?.name?t.jsxs(t.Fragment,{children:["Cargado: ",t.jsx("strong",{children:n.name}),n?.meta?.downscaled?t.jsxs("span",{style:{marginLeft:10,fontSize:12,opacity:.85},children:[" Optimizado (",n.meta.origW,"x",n.meta.origH,"  ",n.meta.outW,"x",n.meta.outH,")"]}):null]}):t.jsx(t.Fragment,{children:"Sin archivo cargado"})}),n?.name&&t.jsx("button",{type:"button",className:"insumos-map-remove-btn",disabled:u,onClick:()=>C(o.id),children:"Quitar"})]}),o&&n?.name&&d?.length>0&&t.jsxs("div",{className:"insumos-map-missing",style:{marginTop:10},children:["Falta completar: ",t.jsx("strong",{children:d.join(", ")})]})]})]})})}const ko=[{id:"geologico",label:"Modelo Geolgico",icon:"",colorClass:"mod-geologico",phase:"Fase 1 (Insumos)",definition:"Representacin espacial 2D/3D del subsuelo que integra la distribucin y espesor de unidades geolgicas, estructuras (fallas, pliegues) y propiedades petrofsicas que controlan el comportamiento hidrogeolgico, mediante interpretacin integrada de correlaciones estratigrficas, ambientes de depsito, anlisis estructural y estudios geofsicos."},{id:"hidraulico",label:"Modelo Hidrulico",icon:"",colorClass:"mod-hidraulico",phase:"Fase 1 (Insumos)",definition:"Representacin cuantitativa del comportamiento hidrulico del acufero, basada en la estimacin de parmetros como conductividad hidrulica (K), transmisividad (T), coeficiente de almacenamiento (S) y porosidad, asignados a unidades geolgicas o zonas del acufero a partir de ensayos de campo, laboratorio y/o literatura."},{id:"hidrologico",label:"Modelo Hidrolgico",icon:"",colorClass:"mod-hidrologico",phase:"Fase 1 (Insumos)",definition:"Representacin cuantitativa (modelo o anlisis de balance) de procesos del ciclo hidrolgico en la cuenca (precipitacin, evapotranspiracin, escorrenta, infiltracin) que transforma lluvia en caudales y genera series temporales en puntos de control relevantes (ros, quebradas, canales)."},{id:"hidrogeoquimico",label:"Modelo Hidrogeoqumico",icon:"",colorClass:"mod-hidrogeoquimico",phase:"Fase 1 (Insumos)",definition:"Caracterizacin hidrogeoqumica del agua subterrnea y de fuentes potenciales de recarga mediante anlisis fisicoqumicos y microbiolgicos bsicos, clasificacin de tipos de agua (Piper/Stiff) e identificacin de procesos dominantes; opcionalmente se complementa con modelos de especiacin y mezcla."},{id:"caracterizacion",label:"Caracterizacin del acufero",icon:"",colorClass:"mod-caracterizacion",phase:"Fase 1 (Insumos)",definition:"Sntesis integrada del sistema acufero a partir de los modelos geolgico, hidrulico, hidrolgico e hidrogeoqumico, que define ubicacin y extensin, geometra y espesores saturados, lmites hidrogeolgicos, tipo de acufero (libre/semiconfinado/confinado) y parmetros representativos (T, K, S)."},{id:"fuente",label:"Fuente de agua",icon:"",colorClass:"mod-fuente",phase:"Fase 1 (Insumos)",definition:"Cuerpos de agua o corrientes superficiales, aguas residuales tratadas o aguas subterrneas potenciales para recarga, integrando disponibilidad (volumen/caudal bsico) y calidad relevante. Incluye evaluacin fisicoqumica y microbiolgica bsica (pH, CE, TDS, iones mayores, coliformes, E. coli) y sntesis normativa aplicable para la calidad del agua a recargar."},{id:"volumen",label:"Volumen - capacidad",icon:"",colorClass:"mod-volumen",phase:"Fase 1 (Insumos)",definition:"Cuantificacin del volumen disponible en las fuentes identificadas considerando variabilidad temporal (secohmedonormal) y de la capacidad volumtrica del acufero para almacenar agua sin impactos negativos, estimada con geometra del sistema, niveles freticos y parmetros de almacenamiento."},{id:"infraestructura",label:"Infraestructura",icon:"",colorClass:"mod-infraestructura",phase:"Fase 1 (Insumos)",definition:"Inventario y sntesis de la infraestructura hidrulica presente (pozos, embalses, canales, estanques, zanjas, plantas de tratamiento de agua potable y residual), registrando ubicacin, uso actual y estado."},{id:"comunidad",label:"Comunidad - uso final",icon:"",colorClass:"mod-comunidad",phase:"Fase 1 (Insumos)",definition:"Caracterizacin sociodemogrfica y de usos del agua en el rea de influencia (asentamientos, poblacin, actividades econmicas, tipos de usuarios, percepcin del proyecto) y definicin del uso final del agua (domstico, agrcola, industrial, ambiental o combinaciones)."},{id:"relieve",label:"Relieve - clima",icon:"",colorClass:"mod-relieve",phase:"Fase 1 (Insumos)",definition:"Caracterizacin del relieve segn forma del terreno (altitud relativa, pendiente, diseccin) para clasificar el entorno en Llanura, Valle, Colina/meseta o Montaa, y caracterizacin climtica (Kppen) identificando tipo dominante y rgimen bsico de lluvias relevante para MAR."}],fb={geologico:[{id:"mapa-geologico",label:"Geolgico",preview:"/images/mapa_geologico.png"},{id:"estructuras-lineamientos",label:"Estructuras / lineamientos",preview:"/images/mapa_estructuras_lineamientos.png"},{id:"uso-suelo-cobertura",label:"Uso del suelo y cobertura",preview:"/images/mapa_uso_suelo_cobertura.png"}],hidraulico:[{id:"drenajes",label:"Drenajes",preview:"/images/mapa_drenajes.png"},{id:"nivel-freatico",label:"Nivel fretico",preview:"/images/mapa_nivel_freatico.png"}],hidrologico:[{id:"recarga",label:"Recarga",preview:"/images/mapa_recarga.png"},{id:"precipitacion",label:"Precipitacin",preview:"/images/mapa_precipitacion.png"}],hidrogeoquimico:[],caracterizacion:[{id:"unidades-hidrogeologicas",label:"Unidades hidrogeolgicas",preview:"/images/mapa_unidades_hidrogeologicas.png"}],fuente:[],volumen:[],infraestructura:[],comunidad:[],relieve:[{id:"pendiente",label:"Pendiente",preview:"/images/mapa_pendiente.png"}]};function dv(o,n){const r=o?.mapCustomLayersByModule?.[n];return Array.isArray(r)?r:[]}function Yd(o,n){const r=fb[n]||[],l=dv(o,n);return[...r,...l]}const Vd={geologico:[{name:"nombre_unidad_geologica",label:"Nombre (Formacin / Miembro / Grupo / Unidad)",help:"Indique el nombre oficial de la unidad litoestratigrfica dominante donde se localiza el sistema acufero evaluado (p. ej., Formacin Tilata)"},{name:"descripcion_unidad_geologica",label:"Descripcin (Formacin / Miembro / Grupo / Unidad)",type:"textarea",help:"Elabore un resumen de mximo 200 palabras que sintetice la litologa, edad, ambiente de depsito y un elemento complementario"},{name:"espesor_unidad_geologica_m",label:"Espesor (m)",help:"Indique el espesor de la unidad geolgica en metros (m) dentro del rea de estudio. Si se reportan techo y base, calcule el espesor como (base  techo) y regstrelo. En caso de no contar con ambos valores, registre el espesor estimado o el valor reportado por la fuente."},{name:"escala_mapa_geologico",label:"Escala del mapa geologico",help:"Escala cartogrfica del mapa usado como referencia (p. ej., 1:25.000, 1:50.000, 1:100.000)."},{name:"fuente_mapa_geologico",label:"Fuente",help:"Referencia del documento base, mapa geolgico o estudio de procedencia (p. ej., Yepes, 2025)."}],hidraulico:[{name:"unidad_referida",label:"Unidad referida",help:"Nombre de la unidad litoestratigrfica (Formacin, Miembro o Grupo) o sector especfico (p. ej., Zona saturada profunda o Formacin Guayabo) al cual se le adjudican los parmetros hidrulicos obtenidos."},{name:"Tipo_unidad",label:"Tipo unidad",type:"select",options:["Libre","Semiconfinado - confinado"],help:"Clasificacin del acufero segn su comportamiento hidrulico y la presin a la que se encuentra el agua en su interior. Seleccione la categora que mejor describa la unidad evaluada."},{name:"conductividad_hidraulica_k",label:"Conductividad hidrulica K (m/da)",help:"Es la capacidad del medio para dejar pasar el agua (m/da)."},{name:"transmisividad_t",label:"Transmisividad T (m2/dia)",help:"Indica cunta agua puede transmitir el acufero en todo su espesor saturado (T = K * b). Se mide en m/da"},{name:"coeficiente_almacenamiento_s",label:"Coeficiente de almacenamiento S (S o Sy)",help:"Define el volumen de agua que el acufero libera o incorpora por unidad de rea y variacin de nivel."},{name:"porosidad",label:"Porosidad",type:"select",options:["Muy alta (>50%)","Alta (30-50%)","Regular (10-30%)","Mala (0-10%)"],help:"Fraccin de vacos en la roca (%). La porosidad efectiva es la que realmente permite el flujo de agua y determina la capacidad de almacenamiento real del sistema."},{name:"permeabilidad",label:"Permeabilidad",type:"select",options:["Muy alta (100<K)","Alta (10<K<100)","Media (1<K<10)","Baja a muy baja (10^-2<K<1)"],help:"Es la propiedad que describe la facilidad con la que el agua fluye a travs de los poros o grietas del suelo y las rocas. Indica qu tan interconectados estn los espacios vacos, permitiendo que el agua se mueva de un punto a otro."},{name:"fuente_parametros",label:"Fuente de los parametros",help:"Registro de la referencia (autor, ao) que otorga validez tcnica y trazabilidad a los datos ingresados (p. ej. Yepes, 2025)."}],hidrologico:[{name:"cuenca",label:"Cuenca",help:"Registre el nombre de la cuenca hidrogrfica principal o macrocuenca donde se localiza el punto de control (entendido como el sitio de clausura, estacin de medicin o punto de inters donde se cierra el balance hdrico), utilizando la denominacin oficial (p. ej., Cuenca del Ro Magdalena)."},{name:"subcuenca_o_rio",label:"Subcuenca o ro",help:"Indique el nombre especfico de la unidad hdrica menor o del cuerpo de agua superficial que drena directamente hacia el punto de monitoreo (p. ej., Ro Aburr o Quebrada La Presidenta)"},{name:"area_cuenca_km2",label:"rea cuenca (km2)",help:"Escriba el valor numrico de la superficie de drenaje total que aporta agua al punto de control, obtenida segn la delimitacin cartogrfica o el modelo hidrolgico del estudio (p. ej., 125.4)"},{name:"periodo_analisis",label:"Periodo anlisis",help:"Especifique el rango de aos consecutivos de la serie histrica utilizada para los clculos hidrolgicos, asegurando que sea el mismo para todas las variables climticas (p. ej., 19912021)"},{name:"p_med_anual_mm",label:"Precipitacin media anual (mm)",help:"Ingrese el promedio de lluvia total acumulada anualmente sobre la cuenca aportante para el periodo de anlisis definido, expresado en milmetros (p. ej., 2100)"},{name:"q_med_anual_m3s",label:"Volumen medio anual (m3/s)",help:"Reporte el volumen de agua promedio que circula por el punto de control por unidad de tiempo, calculado rigurosamente sobre el mismo periodo de anlisis (p. ej., 5.8)."}],hidrogeoquimico:[{name:"unidad_acuifero_asociada",label:"Unidad acufero asociada",help:"Registre el nombre oficial de la formacin geolgica o la unidad hidrogeolgica especfica a la que pertenece la muestra de agua recolectada, asegurando la concordancia con el modelo geolgico previamente definido (p. ej., Acufero Formacin Tilat)."},{name:"facies_hidroquimica_descriptiva",label:"Facie hidroqumica",help:"Indique la clasificacin qumica del agua obtenida mediante el diagrama de Piper, mencionando los iones dominantes tanto en cationes como en aniones (p. ej., Bicarbonatada clcica y/o magnsica)"},{name:"proceso_hidrogeoquimico_dominante",label:"Proceso hidrogeoqumico dominante",type:"textarea",help:"Describa la interpretacin tcnica de los fenmenos fsicos o qumicos que explican la composicin del agua, tales como la interaccin roca-agua, procesos de mezcla o impactos externos (p. ej., disolucin de carbonatos, recarga meterica reciente o influencia antrpica por nitratos)."},{name:"ph",label:"pH",help:"Reporte el valor medido del potencial de hidrgeno en la muestra, el cual indica el grado de acidez o alcalinidad del agua, o especifique el rango representativo si se analizan mltiples muestras (p. ej., 7.2 o rango 6.87.5)."},{name:"ce_uScm",label:"CE (uS/cm)",help:"Registre la conductividad elctrica medida en microsiemens por centmetro, parmetro que acta como un indicador directo de la mineralizacin y el contenido inico del agua (p. ej., 450)."},{name:"tds_mgL",label:"TDS (mg/L)",help:"Escriba la concentracin de Slidos Disueltos Totales o el residuo seco expresado en miligramos por litro, que representa la suma de todos los componentes minerales disueltos (p. ej., 320)."},{name:"ca_mgL",label:"Ca (mg/L)",help:"Ingrese la concentracin del ion Calcio (Ca) determinada en el anlisis de laboratorio, fundamental para definir la dureza y las facies del agua (p. ej., 45)."},{name:"mg_mgL",label:"Mg (mg/L)",help:"Reporte la concentracin de Magnesio (Mg) presente en la muestra, componente clave en la caracterizacin hidroqumica de acuferos sedimentarios (p. ej., 12)."},{name:"na_mgL",label:"Na (mg/L)",help:"Registre la concentracin de Sodio (Na), til para identificar procesos de intercambio catinico o influencias de aguas antiguas y salinas (p. ej., 25)."},{name:"k_mgL",label:"K (mg/L)",help:"Indique la concentracin de Potasio (K), ion que suele encontrarse en menores proporciones y cuya presencia puede estar ligada a la alteracin de silicatos o uso de fertilizantes (p. ej., 2.1)."},{name:"hco3_mgL",label:"HCO3 (mg/L)",help:"Escriba el valor de Bicarbonatos o la alcalinidad total expresada como HCO, que refleja el sistema de equilibrio del carbono en el acufero (p. ej., 180)."},{name:"cl_mgL",label:"Cl (mg/L)",help:"Reporte la concentracin de Cloruros (Cl), parmetro esencial para detectar procesos de salinizacin o contaminacin (p. ej., 15)."},{name:"so4_mgL",label:"SO4 (mg/L)",help:"Registre la concentracin de Sulfatos (SO), la cual puede indicar disolucin de yesos o presencia de minerales oxidados (p. ej., 30)."},{name:"no3_mgL",label:"NO3 (mg/L)",help:"Ingrese la concentracin de Nitratos (NO), parmetro crtico para evaluar la calidad del agua y posibles impactos por actividades agrcolas o vertimientos (p. ej., 5)."},{name:"fuente_datos_analiticos",label:"Fuente de datos analticos",help:"Proporcione una referencia corta y precisa que permita rastrear el origen de la informacin qumica, incluyendo el autor y el ao del estudio o informe tcnico (p. ej., Yepes, 2025)."}],caracterizacion:[{name:"uhg_codigo",label:"Unidad hidrogeolgica (UHG)",help:"Asigne un cdigo nico y secuencial que identifique la Unidad Hidrogeolgica dentro del estudio, permitiendo agrupar capas geolgicas con comportamientos hidrulicos similares bajo una misma denominacin (p. ej., UHG-1, UHG-2)"},{name:"unidad_geologica_asociada",label:"Unidad geolgica asociada",help:"Indique la formacin, miembro o tipo de litologa especfica que compone fsicamente a la UHG, manteniendo total coherencia con el modelo geolgico regional y local definido previamente (p. ej., Formacin Tilat o Depsitos Aluviales)"},{name:"clasificacion_hidrogeologica_uhg",label:"Comportamiento hidrogeolgico de la UHG",type:"select",options:["Acufero","Acuitardo","Acuicludo","Acufugo"],help:"Defina la funcin de la unidad dentro del sistema segn su capacidad de transmitir y almacenar agua, clasificndola como acufero, acuitardo, acuicludo o acufugo"},{name:"porosidad",label:"Porosidad",type:"select",options:["Muy alta (>50%)","Alta (30-50%)","Regular (10-30%)","Mala (0-10%)"],help:"Fraccin de vacos en la roca (%). La porosidad efectiva es la que realmente permite el flujo de agua y determina la capacidad de almacenamiento real del sistema."},{name:"permeabilidad",label:"Permeabilidad",type:"select",options:["Muy alta (100<K)","Alta (10<K<100)","Media (1<K<10)","Baja a muy baja (10^-2<K<1)"],help:"Es la propiedad que describe la facilidad con la que el agua fluye a travs de los poros o grietas del suelo y las rocas. Indica qu tan interconectados estn los espacios vacos, permitiendo que el agua se mueva de un punto a otro."},{name:"descripcion_comportamiento_hidrogeologico",label:"Descripcin del comportamiento hidrogeolgico",type:"textarea",help:"Redacte un resumen breve que explique el rol operativo de la unidad en el sistema, detallando cmo su naturaleza fsica influye en el flujo del agua (p. ej., Acta como un acufero libre con flujo eficiente por su alta permeabilidad; su composicin de arenas favorece la infiltracin y el almacenamiento)"}],fuente:[{name:"tipo_de_fuente",label:"Tipo de fuente de agua",type:"select",options:["Superficial","Escorrenta estacional","Residual tratada","Subterrnea","Otra"],help:"Seleccione el origen fsico del recurso hdrico destinado a la recarga"},{name:"tipo_fuente_superficial",label:"Tipo de fuente de agua superficial",type:"select",options:["Ro permanente","Ro estacional","Ro efmero","Lago/Embalse"],help:"Solo aplica si la fuente es superficial; ayuda a diferenciar G1 y G3."},{name:"conexion_hidraulica",label:"Conexin hidrulica con el ro",type:"select",options:["Ro ganador","Ro perdedor","Sin conexin"],help:"Indique si hay conexion hidraulica con el rio (ganador/perdedor) o si no existe."},{name:"categoria_calidad_mar",label:"Categora calidad del agua para MAR ",type:"select",options:["Apta","Apta con pretratamiento","No apta","No evaluada"],help:"Clasificacin de la calidad del agua para la recarga."},{name:"coliformes_totales",label:"Coliformes totales",help:"Registre la concentracin de estos indicadores microbiolgicos en las unidades reportadas por el laboratorio (NMP/100 mL o UFC/100 mL), ya que son los parmetros crticos para evaluar el riesgo sanitario y la seguridad del proceso de recarga"},{name:"coliformes_fecales",label:"Coliformes fecales",help:"Registre la concentracin de estos indicadores microbiolgicos en las unidades reportadas por el laboratorio (NMP/100 mL o UFC/100 mL), ya que son los parmetros crticos para evaluar el riesgo sanitario y la seguridad del proceso de recarga"},{name:"e_coli",label:"E coli",help:"Registre la concentracin de estos indicadores microbiolgicos en las unidades reportadas por el laboratorio ($NMP/100 mL$ o $UFC/100 mL$), ya que son los parmetros crticos para evaluar el riesgo sanitario y la seguridad del proceso de recarga"},{name:"observacion_calidad_clave",label:"Observacion calidad clave",help:"Redacte un comentario breve y especfico sobre el factor principal que limita o favorece el uso de esta fuente, como la alta turbiedad, presencia de metales o baja mineralizacin"},{name:"norma_aplicable",label:"Norma aplicable",help:"Indique la resolucin o decreto vigente utilizado para la evaluacin (p. ej., Decreto 1076 de 2015 en Colombia) y especifique bajo qu categora de uso se est evaluando el agua (p. ej., uso agrcola, industrial o recarga directa)"},{name:"categoria_uso_norma",label:"Categoria uso norma",help:"Indique la resolucin o decreto vigente utilizado para la evaluacin (p. ej., Decreto 1076 de 2015 en Colombia) y especifique bajo qu categora de uso se est evaluando el agua (p. ej., uso agrcola, industrial o recarga directa)"},{name:"cumple_norma_para_uso",label:"Cumple norma para uso",type:"select",options:["S","No","Parcial","No evaluado"],help:"Determine de forma global si la fuente satisface los requisitos legales, marcando S, No, o Parcial si requiere ajustes menores de calidad"},{name:"parametro_lim_critico",label:"Parmetro limte crtico",help:"Identifique el componente especfico (p. ej., nitratos, coliformes o slidos suspendidos) que causa el incumplimiento de la norma o que obliga a realizar un tratamiento previo antes de iniciar la recarga"}],volumen:[{name:"conoce_capacidad_almacenamiento",label:"Conoce la capacidad de almacenamiento del acuifero?",type:"select",options:["Si","No"],help:"Confirme si dispone de una estimacin tcnica de la capacidad de almacenamiento del acufero (volumen disponible) y del volumen total de agua proveniente de la fuente que se pretende inyectar; esta informacin es la base para asegurar que el sistema pueda recibir el recurso sin saturarse."},{name:"conoce_volumen_recarga",label:"Conoce el volumen de agua a recargar?",type:"select",options:["Si","No"],help:"Esta informacion permite conocer cuanta agua puede recibir el acuifero en una posible inyeccion."},{name:"cap_infiltracion_zona_no_saturada",label:"Se estudio la capacidad de infiltracion en la zona no saturada?",type:"select",options:["Si","No"],help:"Tasa a la que el agua entra al suelo (mm/h, medida en superficie)."},{name:"cap_infiltracion_categoria",label:"Categoria de capacidad de infiltracion (mm/h)",type:"select",options:["Muy alta (>30)","Alta (20-30)","Media (10-20)","Baja (<10)","No evaluado"],help:"Clasificacion segun tasa de infiltracion."},{name:"volumen_menor_capacidad",label:"El volumen de agua a recargar es < que la capacidad de almacenamiento del acuifero?",type:"select",options:["Si","No"],help:"Determina si el acuifero tiene espacio fisico suficiente para albergar el volumen de recarga proyectado."},{name:"zona_o_uhg_receptora",label:"Zona o UHG receptora",help:"Registre el nombre o cdigo de la Unidad Hidrogeolgica especfica que ha sido identificada para recibir el agua, asegurando que sus propiedades hidrulicas sean aptas para la infiltracin o inyeccin (p. ej., UHG-1 o Zona Aluvial Norte)."},{name:"periodo_referencia",label:"Periodo de referencia",help:"Indique el intervalo de tiempo o la serie de datos climticos e hidrolgicos utilizada para calcular tanto la oferta de la fuente como la capacidad de acogida del acufero (p. ej., Promedio anual serie 20002020)."},{name:"v_fuente_disponible_anual_m3",label:"V fuente disponible anual (m3)",help:"Reporte el volumen total anual de agua que la fuente seleccionada (superficial, residual, etc.) puede entregar efectivamente para el proyecto, considerando su rgimen hidrolgico y la disponibilidad concesionable (p. ej., 1.500.000)."},{name:"v_capacidad_almacenamiento_m3",label:"V capacidad almacenamiento (m3)",help:"Indique el volumen vaco o espacio disponible dentro del acufero que ha sido calculado como apto para albergar agua nueva, basndose en la porosidad drenable y el espesor saturado disponible (p. ej., 850.000)."},{name:"v_max_recarga_segura_m3",label:"Volumen maxmo de recarga segura (m3)",help:"Registre el volumen mximo recomendado para recargar anualmente sin generar riesgos de inundacin, afloramientos o cambios qumicos no deseados; este valor suele ser menor o igual a la capacidad fsica del acufero (p. ej., 600.000)."},{name:"criterio_definicion_vmax",label:"Criterio definicin Vmax",type:"textarea",help:"Describa la regla tcnica o el mtodo utilizado para fijar el volumen mximo de recarga segura, como puede ser un porcentaje de la porosidad eficaz, el mantenimiento de un nivel piezomtrico crtico o un lmite basado en el balance hdrico (p. ej.,No exceder el 15% de la porosidad eficaz o Mantener el nivel fretico a 2 metros bajo la superficie)"}],infraestructura:[{name:"id_infraestructura",label:"ID infraestructura",help:"Asigne un cdigo nico y alfanumrico que permita identificar de forma inequvoca cada elemento fsico en la base de datos y en la cartografa del proyecto (p. ej., INF_01, POZO_A1 o PTAR_SUR)."},{name:"tipo_infraestructura",label:"Tipo de infraestructura",type:"select",options:["Pozo","Canal","Embalse","Estanque","Zanja","PTAP","PTAR","Red de distribucin","Drenaje","Obras en cauce","No hay infraestructura existente"],help:"Seleccione la categora tcnica que mejor describa la obra hidrulica existente, diferenciando entre captaciones (pozos), sistemas de conduccin (canales, redes), almacenamiento (embalses) o plantas de tratamiento (PTAP, PTAR)."},{name:"uso_actual",label:"Uso actual",help:"Describa la funcin o actividad principal que desempea la infraestructura al momento de la evaluacin, especificando si es para consumo humano, riego, vertimiento o uso industrial."},{name:"estado",label:"Estado",type:"select",options:["Bueno","Regular","Malo","En desuso","No evaluado"],help:"Evale la condicin fsica y operativa del elemento."},{name:"coordenadas_x",label:"Coordenadas x",help:"Ubicacin geogrfica (X o lat/long) para representarlo en el mapa."},{name:"coordenadas_y",label:"Coordenadas y",help:"Ubicacin geogrfica (Y) para representarlo en el mapa."},{name:"relacion_con_mar",label:"Relaci con MAR",type:"select",options:["Aprovechable","Potencialmente afectada","Sin relacin directa","Por evaluar"],help:"Relevancia cualitativa para MAR."}],comunidad:[{name:"nombre_comunidad",label:"Nombre de la comunidad",help:"Registre el nombre oficial de la localidad, vereda, barrio o corregimiento que se encuentra dentro del rea de influencia directa del proyecto (p. ej., Vereda La Clarita)."},{name:"tipo_asentamiento",label:"Tipo de asentamiento",type:"select",options:["Urbano","Rural","Mixto","NA","No evaluado"],help:"Clasifique el rea donde habita la comunidad segn su densidad y caractersticas territoriales en Urbano, Rural o Mixto, lo cual ayuda a prever el tipo de demanda y la infraestructura necesaria."},{name:"poblacion_total",label:"Poblacin total",help:"Ingrese el nmero total de habitantes del asentamiento basndose en los datos ms recientes de fuentes oficiales, como censos nacionales o registros municipales (p. ej., 1.250 habitantes)."},{name:"actividad_economica_principal",label:"Actividad econmica principal",help:"Identifique la fuente de ingresos o labor predominante de los habitantes, como agricultura, ganadera, comercio o industria, para entender el impacto socioeconmico del recurso hdrico (p. ej., Cultivo de hortalizas a pequea escala)."},{name:"uso_final_del_agua",label:"Uso final del agua",type:"select",options:["Domstico","Industrial","Ambiental","Agrcola","Mixto"],help:"Defina el propsito especfico que tendr el agua tras su recuperacin del acufero."},{name:"condicion_beneficio",label:"Condicin beneficio",type:"select",options:["Beneficio directo","Beneficio indirecto","Potencial beneficiario","No evaluado"],help:"Determine la relacin esperada entre la comunidad y el proyecto."},{name:"percepcion_proyecto_mar",label:"Percepcin proyecto MAR",type:"select",options:["Favorable","Neutra","Contraria","No evaluada"],help:"Describa el nivel de aceptacin, dudas o inters manifestado por la comunidad tras las socializaciones iniciales, lo cual es clave para gestionar la viabilidad social del proyecto (p. ej., Alta aceptacin con dudas sobre la calidad del agua de recarga)."}],relieve:[{name:"relieve_dominante",label:"Relieve",type:"select",options:["Llanura","Valle","Colina o meseta","Montaa","No evaluado"],help:"Seleccione la forma de terreno que predomina en el rea del proyecto, lo cual determina la velocidad de la escorrenta y la capacidad de infiltracin."},{name:"Clima",label:"Clima",type:"select",options:["rido o semirido (Seco)","Clido (Seco)","Hmedo  semihmedo (Templado)","Tropical"],help:"Selecciona el tipo climtico dominante del rea de estudio."}]},Dl={Tipo_de_fuente:{Superficial:"Agua captada en ros, quebradas, lagos, humedales o embalses.","Escorrenta estacional":"Flujos generados principalmente en temporadas lluviosas o eventos de lluvia; suelen ser variables en el tiempo.","Residual tratada":"Aguas residuales tratadas (PTAR) con calidad evaluada para recarga segn uso final y norma aplicable.",Subterrnea:"Agua proveniente del acufero (bombeada o recirculada) para gestin de niveles/almacenamiento.",Otra:"Cualquier fuente distinta a las anteriores (p. ej., mezcla, importacin, desalinizada), indicando cul es."},Categoria_calidad_mar:{Apta:"Cumple los criterios mnimos de calidad definidos para recarga (segn norma/uso) sin tratamiento adicional relevante.","Apta con pretratamiento":"Puede usarse para recarga, pero requiere tratamiento previo (p. ej., filtracin, desinfeccin, remocin de slidos/organismos).","No apta":"No cumple criterios de calidad para recarga (alto riesgo de colmatacin/contaminacin o incumplimiento normativo).","No evaluada":"No existe informacin suficiente para clasificar la calidad de la fuente."},Cumple_norma_para_uso:{S:"Cumple la norma para el uso definido (segn parmetros evaluados).",No:"No cumple la norma para el uso definido.",Parcial:"Cumple algunos parmetros, pero hay incumplimientos o incertidumbre que requiere ajuste/tratamiento/validacin adicional.","No evaluado":"No se evalu con una norma o no hay datos suficientes."},Tipo_infraestructura:{Pozo:"Estructura de captacin/inyeccin (pozo de extraccin, monitoreo o recarga).",Canal:"Conduccin superficial para transportar agua hacia/desde la zona de recarga.",Embalse:"Almacenamiento superficial (represa/laguna) para regulacin y disponibilidad.",Estanque:"Estructura para almacenamiento/infiltracin controlada (p. ej., estanques/lagunas de infiltracin).",Zanja:"Obra lineal somera para infiltrar o conducir agua (zanjas de infiltracin/drenaje).",PTAP:"Planta de Tratamiento de Agua Potable (mejora calidad para consumo/uso).",PTAR:"Planta de Tratamiento de Aguas Residuales (mejora calidad para reso/recarga).","Red de distribucin":"Sistema de tuberas/infraestructura para transportar agua entre puntos del sistema.",Drenaje:"Obras para evacuar/controlar escorrenta o niveles de agua (superficiales o subterrneos).",Otra:"Infraestructura no incluida arriba (describir cul es)."},Estado:{Bueno:"Operativa, en condiciones adecuadas; no requiere intervencin mayor.",Regular:"Funciona, pero requiere mantenimiento/ajustes para operar de forma confiable.",Malo:"No es confiable u operativa; requiere reparacin mayor o reemplazo.","En desuso":"Existe fsicamente, pero no se utiliza actualmente.","No evaluado":"No hay informacin para calificar su condicin."},Relacion_con_mar:{Aprovechable:"Puede usarse directamente o con ajustes menores como parte del esquema MAR.","Potencialmente afectada":"Puede verse impactada por el proyecto (o impactarlo) y requiere revisin de riesgos/compatibilidad.","Sin relacin directa":"No influye en MAR ni es til para el esquema propuesto.","Por evaluar":"An no se tiene informacin suficiente para clasificarla."},Tipo_asentamiento:{Urbano:"Asentamiento con predominio de infraestructura/servicios urbanos y mayor densidad poblacional.",Rural:"Asentamiento disperso, con predominio de actividades agropecuarias y baja densidad.",Mixto:"Combina caractersticas urbanas y rurales en el rea de influencia.","No evaluado":"No hay informacin suficiente para clasificar el asentamiento."},Condicion_beneficio:{"Beneficio directo":"Recibe el agua/servicio de forma directa (p. ej., abastecimiento, riego, reduccin de dficit).","Beneficio indirecto":"Se beneficia por efectos secundarios (p. ej., mejora ambiental, reduccin de conflictos, estabilidad de niveles).","Potencial beneficiario":"Podra beneficiarse, pero depende del diseo final/operacin/permisos.","No evaluado":"No hay informacin suficiente para determinar el tipo de beneficio."},Percepcion_proyecto_mar:{Favorable:"Existe aceptacin o apoyo general hacia el proyecto MAR.",Neutra:"No hay postura clara o no se identifica apoyo/rechazo significativo.",Contraria:"Existe oposicin o preocupaciones relevantes frente al proyecto.","No evaluada":"No se levant informacin social o no se reporta percepcin."},Relieve_dominante:{Llanura:"Terreno plano o suavemente ondulado; pendientes bajas.",Valle:"Depresin alargada asociada a un ro/quebrada, con laderas laterales.","Colina o meseta":"Relieve intermedio: colinas suaves o superficies relativamente planas en altura (mesetas).",Montaa:"Relieve abrupto con pendientes altas y diferencias de elevacin marcadas.","No evaluado":"No hay informacin suficiente para clasificar el relieve."},Permeabilidad:{"Muy alta (100<K)":"K muy alta: el acufero permite flujo/infiltracin con facilidad.","Alta (10<K<100)":"K alta: condiciones favorables para infiltracin/recarga.","Media (1<K<10)":"K media: puede funcionar, pero requiere validar diseo/tasas.","Baja a muy baja (10^-2<K<1)":"K baja: alto riesgo de baja infiltracin/colmatacin; revisar alternativas."},Porosidad:{"Muy alta (>50%)":"Alta capacidad de almacenamiento en poros (muy favorable).","Alta (30-50%)":"Buena capacidad de almacenamiento (favorable).","Regular (10-30%)":"Capacidad moderada (depende del diseo y del medio).","Mala (0-10%)":"Muy poca capacidad de almacenamiento; limita la recarga efectiva."},Tipo_unidad:{Libre:"Fetter (2018). Acuiferos libres: la superficie de saturacion esta en contacto con la atmosfera y la presion es atmosferica, permitiendo flujo mas libre.","Semiconfinado - confinado":"Fetter (2018). Acuiferos confinados: separados de la atmosfera por capas impermeables (acuicludos) con presion superior a la atmosferica. Acuiferos semiconfinados: cubiertos por una capa de baja permeabilidad (acuitardo) que restringe el paso del agua sin impedirlo por completo."},Clima:{"rido o semirido (Seco)":"Kppen: Grupo B (BW/BS). Clima con dficit hdrico: la evaporacin potencial suele superar la precipitacin. Ejemplos de cdigos: BWh, BWk, BSh, BSk.","Clido (Seco)":"Kppen: suele reflejar climas clidos con estacin seca marcada. En Kppen aparece tpicamente con 'w' (invierno seco) o 's' (verano seco), segn el caso. Ejemplos: Aw/As (tropical con estacin seca) o Cwa/Csa (segn regin).","Hmedo  semihmedo (Templado)":"Kppen: Grupo C (templado). Precipitacin moderada a alta; puede ser sin estacin seca fuerte (f) o con estacionalidad (s/w). Ejemplos: Cfa, Cfb, Cwa, Csa.",Tropical:"Kppen: Grupo A (tropical). Temperaturas altas todo el ao. Subtipos: Af (tropical hmedo), Am (monznico), Aw/As (sabana con estacin seca)."},Uso_final_del_agua:{Domstico:"Agua recuperada para el abastecimiento de ncleos urbanos y rurales. Se destina principalmente al consumo humano, higiene personal y labores del hogar, cumpliendo con estndares de potabilidad",Industrial:"Agua recuperada para procesos productivos o de manufactura. Se utiliza en sistemas de refrigeracin, lavado de maquinaria, minera o como insumo directo en la fabricacin de bienes.",Ambiental:"Uso del recurso para la conservacin de la naturaleza. Se enfoca en mantener caudales ecolgicos, proteger humedales, crear barreras contra la intrusin salina y estabilizar el suelo para prevenir hundimientos (subsidencia).",Agrcola:"Agua destinada a la produccin de alimentos y materias primas. Incluye principalmente el riego de cultivos, la preparacin de suelos y el mantenimiento de la actividad pecuaria (ganadera), entre otras.",Mixto:"Se aplica cuando el agua almacenada en el acufero se recupera para satisfacer dos o ms de las necesidades anteriores simultneamente (ej. un mismo proyecto de recarga abastece a una zona residencial y a un distrito de riego cercano)."}},Tu=o=>String(o??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().toLowerCase(),zu=(o,n)=>{if(!o||!n)return"";const r=Tu(o),l=Object.keys(Dl).find(m=>Tu(m)===r),d=l?Dl[l]:null;if(!d)return"";const u=Tu(n),y=Object.keys(d).find(m=>Tu(m)===u);return y?d[y]:""};function cv(){const[o,n]=dt.useState(!0);return o?t.jsx(uv,{onEnter:()=>n(!1)}):t.jsx(fv,{onBackToLanding:()=>n(!0)})}function uv({onEnter:o}){return t.jsx("div",{className:"landing",children:t.jsxs("div",{className:"landing-card",children:[t.jsxs("header",{className:"landing-header",children:[t.jsx("h1",{className:"landing-title",children:"SIGMMA - MAR"}),t.jsx("p",{className:"landing-subtitle-descr",children:t.jsx("em",{children:"Sistema de Informacin Geogrfica (SIG), Decisin Multicriterio (M) y Modelacin Automatizada (MA) en la Recarga Gestionada de Acuferos"})})]}),t.jsxs("div",{className:"landing-main",children:[t.jsx("p",{className:"landing-lema",children:"Del dato a la decisin: evala contexto, pondera criterios y selecciona la alternativa ptima de recarga."}),t.jsx("button",{className:"landing-button",onClick:o,children:"Entrar a la plataforma"})]}),t.jsx("img",{src:"/images/hero-mountains.png",alt:"Decoracin SIGMMA-MAR",className:"landing-graphic"}),t.jsx("img",{src:"/images/eafit-logo.png",alt:"Universidad EAFIT",className:"landing-logo"})]})})}function fv({onBackToLanding:o}){const[n,r]=dt.useState("home"),[l,d]=dt.useState("insumos"),{activeCaseId:u,activeCase:y}=Hl(),m=!!(y&&u&&u!=="nuevo");return t.jsxs("div",{className:"app-layout",children:[t.jsxs("aside",{className:"sidebar",children:[t.jsx("h2",{className:"logo",children:"SIGMMA-MAR"}),t.jsx("p",{className:"sidebar-subtitle",children:"Plataforma para la seleccin de tcnicas de recarga gestionada de acuferos (MAR)"}),t.jsxs("nav",{className:"main-nav",children:[t.jsxs("button",{className:n==="home"?"nav-btn active":"nav-btn",onClick:()=>r("home"),children:[t.jsx("span",{className:"nav-label",children:"Introduccin"}),t.jsx("span",{className:"nav-icon","aria-hidden":"true",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",children:t.jsx("path",{d:"M4 10.5L12 4l8 6.5V20a1 1 0 0 1-1 1h-4.5v-6h-5v6H5A1 1 0 0 1 4 20v-9.5z",fill:"currentColor"})})})]}),t.jsxs("button",{className:n==="metodo"?"nav-btn active":"nav-btn",onClick:()=>r("metodo"),children:[t.jsx("span",{className:"nav-label",children:"Metodologa"}),t.jsx("span",{className:"nav-icon","aria-hidden":"true",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",children:t.jsx("path",{d:"M4 20h16v-1.5H4V20zm2-3h2.5V9H6v8zm4.75 0h2.5V5.5h-2.5V17zm4.75 0H18V11h-2.5v6z",fill:"currentColor"})})})]}),t.jsxs("button",{className:n==="resultados"?"nav-btn active":"nav-btn",onClick:()=>r("resultados"),children:[t.jsx("span",{className:"nav-label",children:"Resultados"}),t.jsx("span",{className:"nav-icon","aria-hidden":"true",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",children:t.jsx("path",{d:"M3.5 6.75A1.75 1.75 0 0 1 5.25 5h4.086c.46 0 .9.184 1.225.51L12.5 7H18.75A1.75 1.75 0 0 1 20.5 8.75v8.5A1.75 1.75 0 0 1 18.75 19H5.25A1.75 1.75 0 0 1 3.5 17.25v-10.5z",fill:"currentColor"})})})]}),t.jsxs("button",{className:n==="dashboard"?"nav-btn active":"nav-btn",onClick:()=>r("dashboard"),children:[t.jsx("span",{className:"nav-label",children:"Resumen de casos MAR"}),t.jsx("span",{className:"nav-icon","aria-hidden":"true",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",children:t.jsx("path",{d:"M4 4h16v7H4V4zm0 9.5h7V20H4v-6.5zm9 0h7V20h-7v-6.5z",fill:"currentColor"})})})]})]}),t.jsx("div",{className:"sidebar-footer",children:t.jsx("button",{className:"back-home-btn",onClick:o,children:" Volver al inicio"})})]}),t.jsxs("main",{className:"content",children:[n==="home"&&t.jsx(pv,{onGoToMetodo:()=>r("metodo")}),n==="metodo"&&t.jsx(hv,{currentMetodoView:l,setCurrentMetodoView:d}),n==="resultados"&&t.jsx(t0,{ready:m}),n==="dashboard"&&t.jsx(Sv,{}),n!=="resultados"&&t.jsx("div",{"aria-hidden":"true",style:{position:"absolute",width:0,height:0,overflow:"hidden",pointerEvents:"none"},children:t.jsx(t0,{ready:m})})]})]})}function pv({onGoToMetodo:o}){const[n,r]=dt.useState("1"),[l,d]=dt.useState("1.1"),[u,y]=dt.useState(null),m=kc.find(j=>j.id===n)||kc[0],x=m.techniques.find(j=>j.id===l)||m.techniques[0],b=fm(x);return t.jsxs("section",{className:"intro-section",children:[t.jsx("h1",{className:"intro-title",children:"Introduccin"}),t.jsxs("div",{className:"intro-mar-block",children:[t.jsx("h2",{className:"intro-mar-main",children:"Recarga Gestionada de Acuferos"}),t.jsx("p",{className:"intro-text",children:"Es la recarga intencionada de agua a los acuferos con el propsito de garantizar su disponibilidad futura, as como de promover beneficios ambientales significativos (Dillon et al., 2022; IAH, 2022). Esta prctica forma parte de una estrategia de gestin sostenible del recurso hdrico, que busca equilibrar la extraccin con la reposicin, mejorar la calidad del agua, mitigar los efectos de la sobreexplotacin y fortalecer la resiliencia frente a eventos climticos extremos. Su implementacin requiere planificacin, monitoreo y un enfoque integrado que considere tanto los aspectos tcnicos como los socioambientales."}),t.jsx("p",{className:"intro-text",children:"La Figura 1 ilustra de manera general el ciclo del agua en un paisaje donde interactan procesos naturales y actividades humanas. En ella se destacan elementos como la recarga natural y la recarga gestionada de acuferos, junto con el uso agrcola, industrial y urbano del agua. Este esquema permite visualizar cmo la recarga gestionada se integra en un sistema ms amplio de gestin hdrica, mostrando su papel como puente entre la conservacin del recurso y su aprovechamiento responsable."}),t.jsxs("div",{className:"intro-image-placeholder",children:[t.jsx("img",{src:"/images/esquema_recarga.png",alt:"Esquema conceptual de tipos de recarga gestionada de acuferos",className:"intro-image intro-image-small",onClick:()=>y("/images/esquema_recarga.png")}),t.jsx("p",{className:"intro-image-caption",children:"Figura 1. Esquema conceptual de tipos de recarga gestionada de acuferos.Fuente: INOWAS, 2018."})]})]}),t.jsxs("section",{className:"intro-block intro-tech-explorer",children:[t.jsx("h2",{className:"intro-heading",children:"Clasificacin de tcnicas MAR"}),t.jsx("p",{className:"intro-text",children:"La implementacin efectiva de MAR exige asegurar que la tcnica seleccionada encaje perfectamente con su entorno. Por ello, este catlogo organiza 14 tcnicas en una estructura jerrquica que considera el mtodo de recarga, la infraestructura y la presin aplicada. Estas variables permiten agrupar las soluciones en tres grandes dominios: intervencin de corrientes, recarga mediante pozos e infiltracin superficial. A continuacin, explore los grupos y seleccione una tcnica especfica para acceder a su definicin tcnica y las referencias acadmicas que la sustentan."}),t.jsx("p",{className:"intro-tech-caption",children:"Clasificacin de tcnicas MAR. Fuente: elaboracin propia."}),t.jsx("div",{className:"tech-groups-row",children:kc.map(j=>{const C=j.id===n;return t.jsxs("button",{className:"tech-group-card group-"+j.id+(C?" active":""),onClick:()=>{r(j.id),d(j.techniques[0].id)},children:[t.jsxs("div",{className:"tech-group-card-top",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"tech-group-tag",children:["Grupo ",j.id]}),t.jsx("h3",{className:"tech-group-title",children:j.name})]}),j.icon&&t.jsx("img",{src:j.icon,alt:j.name,className:"tech-group-icon"})]}),t.jsx("p",{className:"tech-group-text",children:j.short})]},j.id)})}),t.jsxs("div",{className:"tech-layout",children:[t.jsx("div",{className:"tech-list",children:m.techniques.map(j=>{const C=fm(j),M=j.id===l;return t.jsxs("button",{className:"tech-item group-"+m.id+(M?" active":""),onClick:()=>d(j.id),children:[t.jsx("div",{className:"tech-icon-placeholder group-"+m.id,children:C?t.jsx("img",{src:C,alt:j.name,className:"tech-icon-mini"}):t.jsx("span",{children:j.id})}),t.jsxs("div",{className:"tech-text-wrapper",children:[t.jsx("div",{className:"tech-name",style:{whiteSpace:"pre-line"},children:j.name}),t.jsx("div",{className:"tech-group-label",children:m.name})]})]},j.id)})}),t.jsxs("article",{className:"tech-detail group-"+m.id,children:[t.jsxs("div",{className:"tech-detail-header",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"tech-detail-title",children:[x.id," ",x.name]}),t.jsx("p",{className:"tech-detail-group-label",children:m.name})]}),b&&t.jsx("button",{type:"button",className:"tech-detail-icon-button",onClick:()=>y(b),children:t.jsx("img",{src:b,alt:x.name,className:"tech-detail-icon"})})]}),t.jsx("p",{className:"tech-detail-text",children:x.definition}),t.jsxs("p",{className:"tech-detail-refs",children:[t.jsx("strong",{children:"Autores asociados: "}),x.refs]})]})]})]}),t.jsxs("div",{className:"intro-block intro-water-sources",children:[t.jsx("h2",{className:"intro-heading",children:"Fuentes de agua para MAR"}),t.jsxs("div",{className:"intro-water-layout",children:[t.jsxs("div",{className:"intro-water-text",children:[t.jsx("p",{className:"intro-text",children:"La recarga gestionada puede utilizar distintas fuentes de agua (IGRAC, 2007; Dillon et al., 2009; Sprenger et al., 2017; Bonilla Valverde et al., 2018; Zheng et al., 2020; Sarfaraz Alam et al., 2021; Dillon et al., 2022). En esta plataforma se consideran cuatro tipos principales:"}),t.jsxs("ul",{className:"intro-list",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Superficial:"})," agua en ros, quebradas, lagos, humedales o embalses captada desde superficie."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Escorrenta estacional:"})," flujos durante eventos de lluvia/temporadas hmedas, conducidos y almacenados temporalmente."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Residual:"})," aguas residuales tratadas con criterios de calidad compatibles con la recarga y el uso previsto."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Subterrnea y Otras fuentes:"})," agua extrada y recirculada para gestionar niveles piezomtricos o almacenar excedentes o agua de mezclas, desalinizada/importada u otras no convencionales tras acondicionamiento"]})]})]}),t.jsxs("div",{className:"intro-image-placeholder intro-water-image-box",children:[t.jsx("img",{src:"/images/Fuente_De_Recarga.png",alt:"Esquema de fuentes de agua para MAR",className:"intro-image",onClick:()=>y("/images/Fuente_De_Recarga.png")}),t.jsx("p",{className:"intro-image-caption",children:"Figura 3. Fuentes de agua utilizadas en proyectos MAR. Fuente: elaboracin propia."})]})]})]}),t.jsxs("div",{className:"intro-block",children:[t.jsx("h2",{className:"intro-heading",children:"Objetivos de MAR"}),t.jsx("p",{className:"intro-text",children:"Los proyectos MAR pueden disearse con distintos propsitos, segn el problema hdrico a resolver o la necesidad del proyecto y el uso final del agua recuperada. En general, buscan aumentar la disponibilidad mediante almacenamiento subterrneo en pocas de excedente, mejorar la confiabilidad del suministro en periodos secos, recuperar niveles piezomtricos en acuferos sobreexplotados, reducir impactos de eventos extremos, entre otros. (Dillon et al., 2022). En SIGMMA-MAR, el objetivo acta como el eje estratgico que complementa y aporta coherencia a la seleccin de la tcnica ptima."}),t.jsxs("ul",{className:"intro-list",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Almacenamiento de excedentes / aumento de disponibilidad:"})," capturar volmenes estacionales para reforzar reservas subterrneas."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Mitigacin de la sobreexplotacin:"})," compensar extracciones intensivas mediante recarga asistida."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Control de intrusin salina:"})," barreras hidrulicas o elevacin de niveles en zonas costeras."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Mejorar la calidad del agua:"})," atenuacin natural (filtracin, adsorcin, biodegradacin) durante el paso por suelo/acufero."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Otros objetivos integrados:"})," mitigacin de inundaciones, caudales ecolgicos, soporte a ecosistemas, reso seguro."]})]})]}),t.jsxs("div",{className:"intro-block",children:[t.jsx("h2",{className:"intro-heading",children:"Criterios evaluados para proyectos MAR"}),t.jsx("p",{className:"intro-text",children:"La seleccin de tcnicas de recarga no depende de un nico factor, sino de un conjunto de criterios que condicionan su viabilidad y desempeo. La literatura coincide en que, antes de elegir un mtodo, se debe definir el objetivo del proyecto y el uso final del agua, y evaluar las condiciones del sistema (hidrogeologa, hidrologa, topografa/uso del suelo), la fuente disponible y su calidad (Dillon et al., 2009; Sherif et al., 2023). Otros marcos amplan el anlisis incorporando la cadena operativa completa (captacin, pretratamiento, recarga, almacenamiento, recuperacin, postratamiento) y factores transversales como regulacin, monitoreo, mantenimiento, impactos socioambientales y costos (Yuan & Michele, 2016; Zhang et al., 2020; NRMMC, 2009; ASCE, 2020; Maliva, 2020; IGRAC, 2007). En SIGMMA-MAR, estos enfoques se integran y se contrastan con el anlisis de 169 casos MAR reportados en el portal IGRAC, para consolidar los criterios que guan la ruta jerrquica (SIG-MCDA/AHP) y la ruta automatizada (modelos supervisados)."}),t.jsxs("div",{className:"criteria-table-wrap",children:[t.jsx("div",{style:{fontWeight:600,marginBottom:10,marginLeft:10},children:"Tabla 1. Criterios para la seleccin de tcnicas de recarga MAR"}),t.jsxs("table",{className:"criteria-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{background:"#f3f4f6"},children:"Criterio"}),t.jsx("th",{style:{background:"#f3f4f6"},children:"Subcriterio"}),t.jsx("th",{style:{background:"#f3f4f6"},children:"Qu asegura en la seleccin?"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{rowSpan:1,children:"1. Objetivo"}),t.jsx("td",{children:"1.1 Definicin del objetivo"}),t.jsx("td",{children:"Alinea la tcnica MAR con el propsito del proyecto y el uso final del agua."})]}),t.jsxs("tr",{children:[t.jsx("td",{rowSpan:4,children:"2. Condiciones hidrogeolgicas"}),t.jsx("td",{children:"2.1 Modelo geolgico"}),t.jsx("td",{children:"Verifica la arquitectura del subsuelo y el marco estructural donde ocurrir la recarga."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{children:"2.2 Modelo hidrolgico"}),t.jsx("td",{children:"Comprueba el balance hdrico y la relacin superficiesubsuelo que controla entradas/salidas."})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"2.3 Modelo numrico"}),t.jsx("td",{children:"Reduce incertidumbre estimando niveles, flujos, almacenamiento y respuesta del sistema."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{children:"2.4 Propiedades del acufero"}),t.jsx("td",{children:"Soporta la capacidad de infiltracin/almacenamiento (porosidad, K, T, S) y el desempeo esperado."})]}),t.jsxs("tr",{children:[t.jsx("td",{rowSpan:5,children:"3. Fuente y calidad del agua"}),t.jsx("td",{children:"3.1 Fuente de recarga identificada"}),t.jsx("td",{children:"Garantiza disponibilidad y tipo de fuente (superficial, residual tratada, etc.) compatible con la tcnica."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{children:"3.2 Calidad del agua a recarga"}),t.jsx("td",{children:"Controla riesgos de colmatacin, contaminacin y requisitos de pretratamiento."})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"3.3 Calidad del agua del acufero"}),t.jsx("td",{children:"Define condiciones de base y sensibilidad del acufero frente a cambios por la recarga."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{children:"3.4 Calidad del agua de mezcla"}),t.jsx("td",{children:"Anticipa reacciones geoqumicas al mezclar fuente y acufero."})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"3.5 Calidad del agua post-mezcla"}),t.jsx("td",{children:"Verifica que el agua final cumpla el uso objetivo y estndares aplicables."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{rowSpan:2,children:"4. Viabilidad tcnica"}),t.jsx("td",{children:"4.1 Infraestructura documentada"}),t.jsx("td",{children:"Confirma factibilidad constructiva/operativa (pozos, filtros, plantas, presas, obras en cauce, etc.)."})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"4.2 Evaluacin costobeneficio"}),t.jsx("td",{children:"Justifica la alternativa con criterios tcnicoeconmicos y sostenibilidad operativa."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{rowSpan:3,children:"5. Aspectos socioambientales"}),t.jsx("td",{children:"5.1 Impacto ambiental"}),t.jsx("td",{children:"Reduce afectaciones y prioriza compatibilidad con ecosistemas/SbN, biodiversidad y hbitats."})]}),t.jsxs("tr",{children:[t.jsx("td",{children:"5.2 Regulacin y permisos"}),t.jsx("td",{children:"Asegura cumplimiento legal y viabilidad administrativa del proyecto."})]}),t.jsxs("tr",{style:{background:"#f8fafc"},children:[t.jsx("td",{children:"5.3 Servicios ecosistmicos y comunidad"}),t.jsx("td",{children:"Verifica aceptacin social, beneficios y coherencia con necesidades del territorio."})]})]})]}),t.jsx("div",{style:{marginTop:6,fontSize:15,opacity:.75,marginLeft:10},children:t.jsx("em",{children:"Fuente: elaboracin propia."})})]})]}),t.jsxs("div",{className:"intro-block intro-concept-scheme",children:[t.jsx("h2",{className:"intro-heading",children:"Esquema conceptual de seleccin de tcnicas MAR"}),t.jsx("p",{className:"intro-text",children:"El esquema conceptual de seleccin constituye el ncleo lgico de SIGMMA-MAR, articulando una ruta de decisin diseada para reducir la incertidumbre en proyectos de recarga. Este marco evala de forma integrada cinco dimensiones: parte del objetivo estratgico y la caracterizacin hidrogeolgica del acufero, avanza hacia el anlisis de compatibilidad fsica y qumica de la fuente de agua, y cruza variables de entorno como el relieve y el clima. Finalmente, el modelo integra la factibilidad tcnica mediante la infraestructura disponible y el componente socioambiental, asegurando que el grupo de tcnicas MAR identificado (G1 (Intervencin de corrientes superficiales), G2(Recarga mediante pozos y perforaciones) o G3(Infiltracin superficial)) no solo sea tcnicamente viable, sino tambin sostenible y coherente con las necesidades del territorio. A continuacin, se detalla la ruta metodolgica. Haga clic sobre la imagen para ampliarla y visualizar los detalles con mayor claridad."}),t.jsxs("div",{className:"concept-grid",children:[t.jsxs("article",{className:"concept-step",children:[t.jsx("h3",{className:"concept-step-title",children:"1. Objetivo y condiciones hidrogeolgicas"}),t.jsx("p",{className:"concept-step-text",children:"La ruta inicia definiendo el objetivo y verificando la existencia de estudios bsicos: caracterizacin del acufero y modelos relevantes."}),t.jsx("button",{type:"button",className:"concept-image-button",onClick:()=>y("/images/figura-6a-esquema-conceptual-de-seleccion_300.jpg"),children:t.jsx("img",{src:"/images/figura-6a-esquema-conceptual-de-seleccion_300.jpg",alt:"Ruta de seleccin: objetivos y primeros estudios hidrogeolgicos",className:"intro-image concept-image"})}),t.jsx("p",{className:"concept-caption",children:"Figura 4a. Inicio de la ruta y evaluacin inicial de las condiciones del acufero. Fuente: elaboracin propia."})]}),t.jsxs("article",{className:"concept-step",children:[t.jsx("h3",{className:"concept-step-title",children:"2. Tipo de acufero y propiedades clave"}),t.jsx("p",{className:"concept-step-text",children:"Se analiza si el acufero es libre, semiconfinado o confinado y se evalan parmetros clave para viabilidad de tcnicas."}),t.jsx("button",{type:"button",className:"concept-image-button",onClick:()=>y("/images/figura-6b-esquema-conceptual-de-seleccion_300.jpg"),children:t.jsx("img",{src:"/images/figura-6b-esquema-conceptual-de-seleccion_300.jpg",alt:"Evaluacin del tipo de acufero, permeabilidad y porosidad",className:"intro-image concept-image"})}),t.jsx("p",{className:"concept-caption",children:"Figura 4b. Evaluacin del tipo de acufero, la permeabilidad y la porosidad. Fuente: elaboracin propia."})]}),t.jsxs("article",{className:"concept-step",children:[t.jsx("h3",{className:"concept-step-title",children:"3. Fuente de agua, calidad y capacidad"}),t.jsx("p",{className:"concept-step-text",children:"Se identifica la fuente, su calidad y compatibilidad normativa, y se contrasta volumen con almacenamiento."}),t.jsx("button",{type:"button",className:"concept-image-button",onClick:()=>y("/images/figura-6c-esquema-conceptual-de-seleccion_300.jpg"),children:t.jsx("img",{src:"/images/figura-6c-esquema-conceptual-de-seleccion_300.jpg",alt:"Evaluacin de fuente, calidad del agua y capacidad de almacenamiento",className:"intro-image concept-image"})}),t.jsx("p",{className:"concept-caption",children:"Figura 4c. Evaluacin de la fuente de agua, la calidad y la capacidad de almacenamiento. Fuente: elaboracin propia."})]}),t.jsxs("article",{className:"concept-step",children:[t.jsx("h3",{className:"concept-step-title",children:"4. Uso final, relieve y clima"}),t.jsx("p",{className:"concept-step-text",children:"Se define el uso final del agua y se caracterizan relieve y clima que condicionan operacin e infraestructura."}),t.jsx("button",{type:"button",className:"concept-image-button",onClick:()=>y("/images/figura-6d-esquema-conceptual-de-seleccion_300.jpg"),children:t.jsx("img",{src:"/images/figura-6d-esquema-conceptual-de-seleccion_300.jpg",alt:"Evaluacin del uso final del agua, relieve y clima",className:"intro-image concept-image"})}),t.jsx("p",{className:"concept-caption",children:"Figura 4d. Evaluacin del uso final del agua, relieve y clima. Fuente: elaboracin propia."})]}),t.jsxs("article",{className:"concept-step",children:[t.jsx("h3",{className:"concept-step-title",children:"5. Infraestructura y componente social"}),t.jsx("p",{className:"concept-step-text",children:"Se revisa infraestructura y contexto social para priorizar el grupo de tcnicas a analizar."}),t.jsx("button",{type:"button",className:"concept-image-button",onClick:()=>y("/images/figura-6e-esquema-conceptual-de-seleccion_300.jpg"),children:t.jsx("img",{src:"/images/figura-6e-esquema-conceptual-de-seleccion_300.jpg",alt:"Evaluacin de infraestructura y componente social",className:"intro-image concept-image"})}),t.jsx("p",{className:"concept-caption",children:"Figura 4e. Integracin de infraestructura y componente social para priorizar el grupo de tcnicas MAR. Fuente: elaboracin propia."})]})]})]}),t.jsx("div",{className:"intro-block intro-metodo-cta",children:t.jsxs("div",{className:"intro-metodo-cta-inner",children:[t.jsxs("div",{className:"intro-metodo-text",children:[t.jsx("h3",{className:"intro-metodo-title",children:"Metodologa SIGMMA-MAR"}),t.jsx("p",{className:"intro-metodo-copy",children:"Descubra la estructura completa del sistema, explore el enfoque en tres fases y revise los resultados esperados."})]}),t.jsx("button",{type:"button",className:"intro-metodo-button",onClick:o,children:"Ir a la Metodologa "})]})}),u&&t.jsxs("div",{className:"image-zoom-overlay",onClick:()=>y(null),children:[t.jsx("div",{className:"image-zoom-backdrop"}),t.jsxs("div",{className:"image-zoom-content",onClick:j=>j.stopPropagation(),children:[t.jsx("button",{type:"button",className:"image-zoom-close",onClick:()=>y(null),children:" Cerrar"}),t.jsx("img",{src:u,alt:"Esquema ampliado",className:"image-zoom-img"})]})]})]})}function hv({currentMetodoView:o,setCurrentMetodoView:n}){const[r,l]=dt.useState(null),[d,u]=dt.useState(null),{cases:y,activeCaseId:m}=Hl(),b=y&&y[m||"nuevo"]||y&&y.nuevo||{};function j(O){const V=String(O??"").trim();return V?V.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\s-]+/g,"_")!=="no_reportado":!1}const C=dt.useMemo(()=>{const O=b?.hidraulico?.Tipo_unidad,V=b?.fuente?.tipo_de_fuente??b?.fuente?.Tipo_de_fuente,J=b?.fuente?.categoria_calidad_mar??b?.fuente?.Categoria_calidad_MAR,F=b?.fuente?.cumple_norma_para_uso??b?.fuente?.Cumple_norma_para_uso,ge=b?.comunidad?.uso_final_del_agua??b?.comunidad?.Uso_final_del_agua;return j(O)&&j(V)&&j(J)&&j(F)&&j(ge)},[b?.hidraulico?.Tipo_unidad,b?.fuente?.tipo_de_fuente,b?.fuente?.Tipo_de_fuente,b?.fuente?.categoria_calidad_mar,b?.fuente?.Categoria_calidad_MAR,b?.fuente?.cumple_norma_para_uso,b?.fuente?.Cumple_norma_para_uso,b?.comunidad?.uso_final_del_agua,b?.comunidad?.Uso_final_del_agua]);dt.useEffect(()=>{!C&&(o==="ahp"||o==="rf")&&n("insumos")},[C,o,n]),dt.useEffect(()=>{!d||!C||(n(d),u(null))},[d,C,n]),dt.useEffect(()=>{const O=V=>{const J=V?.detail?.to;J==="insumos"&&n("insumos"),J==="fase2"&&n("ahp")};return window.addEventListener("sigmma:navigate",O),()=>window.removeEventListener("sigmma:navigate",O)},[n]);const M=dt.useCallback(()=>{if(C){n("ahp");return}u("ahp")},[C,n]),A="Completa los 5 campos obligatorios (*) en Fase 1 para habilitar Fase 2 y Fase 3.";return t.jsxs("section",{className:"metodo-section",children:[t.jsx("h1",{className:"metodo-title",children:"Metodologa SIGMMA-MAR"}),t.jsx("p",{className:"metodo-text-main",children:"La metodologa SIGMMA-MAR organiza la seleccin del grupo de tcnicas MAR en tres fases articuladas, iniciando con la Fase 1, donde se consolida el panel de insumos y la caracterizacin integral del sistema mediante modelos conceptuales, unidades hidrogeolgicas, anlisis de fuente y calidad, volumen-capacidad y el contexto socioambiental. Posteriormente, la Fase 2 constituye el ncleo operativo al presentar las rutas metodolgicas que el usuario puede elegir: la ruta jerrquica, que desarrolla el proceso jerrquico analtico (AHP integrado con SIG-MCDA) para ponderar criterios o la ruta automatizada, que aplica modelos de aprendizaje automtico como rboles de decisin y bosques aleatorios entrenados con casos histricos para estimar la factibilidad tcnica. Finalmente, la Fase 3 comprende la sntesis de resultados y la validacin comparativa entre ambas rutas cuando el usuario as lo solicite, permitiendo contrastar la convergencia de las soluciones conforme al flujo representado en la Figura 5, donde la informacin base de la primera etapa alimenta sistemticamente tanto el anlisis jerrquico como la modelacin avanzada."}),t.jsxs("div",{className:"metodo-hero",children:[t.jsx("img",{src:"/images/Metodologia_SIGMMA-MAR.png",alt:"Metodologa general SIGMMA-MAR",className:"metodo-image",onClick:()=>l("/images/Metodologia_SIGMMA-MAR.png")}),t.jsx("p",{className:"metodo-caption",children:"Figura 5. Metodologa general SIGMMA-MAR para la seleccin del grupo de tcnicas de recarga gestionada de acuferos. Fuente: elaboracin propia."})]}),t.jsxs("div",{className:"tabs",children:[t.jsxs("button",{className:o==="insumos"?"tab active":"tab",onClick:()=>n("insumos"),type:"button",children:[t.jsx("span",{className:"tab-phase-icon",children:"Fase 1"})," Panel de insumos"]}),t.jsxs("button",{className:o==="ahp"?"tab active":"tab",type:"button",disabled:!C,title:C?"Ir a Fase 2":A,onClick:()=>{C&&n("ahp")},children:[t.jsx("span",{className:"tab-phase-icon",children:"Fase 2"})," Rutas metodolgicas"]}),t.jsxs("button",{className:o==="rf"?"tab active":"tab",type:"button",disabled:!C,title:C?"Ir a Fase 3":A,onClick:()=>{C&&n("rf")},children:[t.jsx("span",{className:"tab-phase-icon",children:"Fase 3"})," Resultados"]})]}),o==="insumos"&&t.jsx(mv,{onContinueToPhase2:M}),o==="ahp"&&t.jsx(bv,{onGoPhase3:()=>n("rf")}),o==="rf"&&t.jsx(xv,{}),r&&t.jsxs("div",{className:"image-zoom-overlay",onClick:()=>l(null),children:[t.jsx("div",{className:"image-zoom-backdrop"}),t.jsxs("div",{className:"image-zoom-content",onClick:O=>O.stopPropagation(),children:[t.jsx("button",{type:"button",className:"image-zoom-close",onClick:()=>l(null),children:" Cerrar"}),t.jsx("img",{src:r,alt:"Metodologa ampliada",className:"image-zoom-img"})]})]})]})}const Yu="sigmma_state_v1";function hm(o){const n=Object.keys(o||{}).filter(l=>/^MAR_\d+$/i.test(l));let r=0;for(const l of n){const d=parseInt(String(l).split("_")[1],10);Number.isFinite(d)&&(r=Math.max(r,d))}return r+1||1}function gm(o,n){const r=n&&typeof n=="object"?n:{},d={...r,...o&&typeof o=="object"?o:{}};return(!d.nuevo||typeof d.nuevo!="object")&&(d.nuevo=r.nuevo||{}),d}function i0(o){const n={cases:gm(null,o),activeCaseId:"nuevo",nextId:hm(o)};try{const r=localStorage.getItem(Yu);if(!r)return n;const l=JSON.parse(r);if(!l||typeof l!="object")return n;const d=l.cases?l:{cases:l},u=gm(d.cases,o),y=u[d.activeCaseId]?d.activeCaseId:"nuevo",m=Number.isFinite(d.nextId)&&d.nextId>0?d.nextId:hm(u);return{cases:u,activeCaseId:y,nextId:m}}catch{return n}}function gv({cases:o,activeCaseId:n,nextId:r}){try{localStorage.setItem(Yu,JSON.stringify({v:1,cases:o,activeCaseId:n,nextId:r}))}catch{}}function mv({onContinueToPhase2:o}={}){const[n,r]=dt.useState("datos"),[l,d]=dt.useState("geologico"),[u,y]=dt.useState(null),[m,x]=dt.useState(!1),[b,j]=dt.useState(""),[C,M]=dt.useState(null),[A,O]=dt.useState(!1),[V,J]=dt.useState(!1),F=dt.useRef(new Set),ge=de=>`MAR_${String(de).padStart(3,"0")}`,re=dt.useCallback(()=>({id:"",nombre:"Nuevo caso MAR",usuario:"",ubicacion:"",mapLayersByModule:Object.fromEntries((ko||[]).map(de=>[de.id,[]])),mapCustomLayersByModule:Object.fromEntries((ko||[]).map(de=>[de.id,[]])),mapUploads:{},mapMeta:{},...(ko||[]).reduce((de,Ae)=>({...de,[Ae.id]:{}}),{})}),[]),{cases:ne,setCases:ue,activeCaseId:Me,setActiveCaseId:he}=Hl(),se=Me||"nuevo",q=he,[$,B]=dt.useState(!1),[z,Q]=dt.useState(1);dt.useEffect(()=>{const de={nuevo:re()},Ae=i0(de),be=Ae?.activeCaseId&&Ae.cases?.[Ae.activeCaseId]?Ae.activeCaseId:"nuevo";ue(Oe=>{const ot=Oe&&typeof Oe=="object"?Oe:{},xt=Object.keys(ot).some(gi=>gi!=="nuevo")?ot:Ae?.cases||de;return{...de,...xt,nuevo:xt?.nuevo&&typeof xt.nuevo=="object"?xt.nuevo:de.nuevo}}),q(be),Q(Ae?.nextId||1),B(!0)},[re,ue,q]),dt.useEffect(()=>{$&&(gv({cases:ne,activeCaseId:se,nextId:z}),window.dispatchEvent(new CustomEvent("sigmma:cases-updated",{detail:{cases:ne,activeCaseId:se,nextId:z}})))},[ne,se,z,$]);const ae=ge(z),me=ne&&ne[se]||ne&&ne.nuevo||re(),K=se!=="nuevo"&&!m,fe=de=>String(de??"").trim().length>0,ce=[];fe(me?.nombre)||ce.push("Nombre del caso"),fe(me?.usuario)||ce.push("Usuario"),fe(me?.ubicacion)||ce.push("Ubicacin");const Le=ce.length===0,ze=K||!Le;dt.useEffect(()=>{x(!1)},[se]),dt.useEffect(()=>{const de=Ae=>{const be=Ae?.detail||{},Oe=Array.isArray(be.modules)?be.modules:[],ot=be.scenario;if(Oe.length){const $e=Oe.map(xt=>ko.find(gi=>gi.id===xt)?.label||xt);M({scenario:ot,modules:$e,moduleIds:Oe}),r("datos"),d(Oe[0])}else M(null)};return window.addEventListener("sigmma:scenario-insumos",de),()=>window.removeEventListener("sigmma:scenario-insumos",de)},[]),dt.useEffect(()=>{j("")},[l]);const P=dt.useMemo(()=>{const de=Array.isArray(ko)?ko:[];return de.find(be=>/caracteriz/i.test(be.label)&&/acuif/i.test(be.label))?.id||de.find(be=>/acuif/i.test(be.label))?.id||de.find(be=>/caracteriz/i.test(be.label))?.id||"caracterizacion"},[]);function _(de,Ae){const be=Vd?.[de]||[],Oe=Array.isArray(Ae)?Ae:[];return be.find($e=>Oe.includes($e?.name))?.name||Oe[0]||""}dt.useMemo(()=>_(P,["Porosidad","Porosidad_efectiva","Porosidad_total"]),[P]),dt.useMemo(()=>_(P,["Permeabilidad","Permeabilidad_intrinseca","K_intrinseca"]),[P]);function R(de){const Ae=String(de).split(".");let be=me;for(let Oe=0;Oe<Ae.length;Oe++){if(!be||typeof be!="object")return"";be=be[Ae[Oe]]}return be??""}const U=se==="nuevo"?ae:R("id")||se;function Z(de,Ae){ue(be=>{const Oe=be&&typeof be=="object"?be:{},$e={...Oe[se]||Oe.nuevo||re()},xt=String(de).split(".");let gi=$e;for(let ni=0;ni<xt.length-1;ni++){const Jt=xt[ni],ji=gi[Jt];gi[Jt]=ji&&typeof ji=="object"?{...ji}:{},gi=gi[Jt]}return gi[xt[xt.length-1]]=Ae,{...Oe,[se]:$e}})}function le(de,Ae){const be=de?.[`${Ae}_entries`];if(Array.isArray(be)&&be.length)return be;const Oe=de?.[Ae];return Oe&&typeof Oe=="object"&&Object.keys(Oe).length?[Oe]:[{}]}function ye(de,Ae,be,Oe){if(ze)return;const ot=de==="infraestructura"&&be==="tipo_infraestructura"&&pt(Oe);ue($e=>{const xt=$e&&typeof $e=="object"?$e:{},ni={...xt[se]||xt.nuevo||re()},Jt=le(ni,de).map(Ni=>({...Ni||{}})),ji={...Jt[Ae]||{},[be]:Oe};return ot&&(Vd?.infraestructura||[]).forEach(We=>{We.name!=="tipo_infraestructura"&&(ji[We.name]="")}),Jt[Ae]=ji,ni[`${de}_entries`]=Jt,ni[de]={...Jt[0]||{}},{...xt,[se]:ni}})}function qe(de){ze||ue(Ae=>{const be=Ae&&typeof Ae=="object"?Ae:{},ot={...be[se]||be.nuevo||re()},$e=le(ot,de).map(xt=>({...xt||{}}));return $e.push({}),ot[`${de}_entries`]=$e,ot[de]={...$e[0]||{}},{...be,[se]:ot}})}function Ie(de,Ae){ze||ue(be=>{const Oe=be&&typeof be=="object"?be:{},$e={...Oe[se]||Oe.nuevo||re()},xt=le($e,de).map(gi=>({...gi||{}}));return xt.length<=1?be:(xt.splice(Ae,1),$e[`${de}_entries`]=xt,$e[de]={...xt[0]||{}},{...Oe,[se]:$e})})}function Xe(de){const Ae=Array.isArray(de?.uhg_entries)?de.uhg_entries:null;if(Ae&&Ae.length)return Ae;const be={};let Oe=!1;return(Vd?.caracterizacion||[]).forEach(ot=>{const $e=de?.[ot.name];$e!==void 0&&String($e).trim()!==""&&(be[ot.name]=$e,Oe=!0)}),Oe?[be]:[{}]}function He(de){ue(Ae=>{const be=Ae&&typeof Ae=="object"?Ae:{},ot={...be[se]||be.nuevo||re()},$e={...ot.caracterizacion||{}};return $e.uhg_entries=de,ot.caracterizacion=$e,{...be,[se]:ot}})}function ut(de,Ae,be){ze||ue(Oe=>{const ot=Oe&&typeof Oe=="object"?Oe:{},xt={...ot[se]||ot.nuevo||re()},gi={...xt.caracterizacion||{}},ni=Xe(gi).map(Jt=>({...Jt}));for(;ni.length<=de;)ni.push({});return ni[de]={...ni[de]||{},[Ae]:be},gi.uhg_entries=ni,xt.caracterizacion=gi,{...ot,[se]:xt}})}function jt(){if(ze)return;const de=Xe(me?.caracterizacion).map(Ae=>({...Ae}));de.push({}),He(de)}function Ft(de){if(ze)return;const be=Xe(me?.caracterizacion).map(Oe=>({...Oe})).filter((Oe,ot)=>ot!==de);He(be.length?be:[{}])}function X(de){const Ae=String(de??"").trim();if(!Ae)return!1;const be=Ae.toLowerCase().normalize("NFD").replace(/[^\w]+/g,"_").replace(/^_+|_+$/g,"");return!(!be||be==="no_reportado"||be==="no_reporta"||be==="na"||be==="n_a"||be==="sin_dato"||be==="sin_informacion"||be.startsWith("seleccion")||be.startsWith("select"))}function pt(de){return String(de??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").trim().includes("no hay infraestructura")}function Tt(de,Ae){if(de==="hidraulico"&&Ae==="hidrologico"){const be=me?.hidraulico?.Tipo_unidad,Oe=X(be);return{ok:Oe,missingPath:Oe?null:"hidraulico.Tipo_unidad"}}return{ok:!0,missingPath:null}}function Yt(de){if(!de||de===l)return;if(ze){d(de),y(null);return}const Ae=Tt(l,de);if(!Ae.ok){requestAnimationFrame(()=>{const be=document.querySelector(`[data-field-path="${Ae.missingPath}"]`);be&&be.scrollIntoView({behavior:"smooth",block:"center"})}),alert("Para continuar al Modelo Hidrolgico, debes diligenciar el campo obligatorio: Tipo_unidad (*)");return}d(de),y(null)}function lt(de,Ae){ze||de&&ue(be=>{const Oe={...be?.[se]||re()};Oe.mapMeta={...Oe.mapMeta||{}};const ot={...Oe.mapMeta[de]||{}},$e={...ot,...Ae};return Ae&&typeof Ae=="object"&&Ae.marks&&($e.marks={...ot.marks||{},...Ae.marks||{}}),Oe.mapMeta[de]=$e,{...be,[se]:Oe}})}function Kt(de){return me?.mapMeta?.[de]||{}}function zt(de,Ae){ze||ue(be=>{const Oe={...be?.[se]||re()};Oe.mapLayersByModule={...Oe.mapLayersByModule||{}};const ot=Oe.mapLayersByModule[de]||[],$e=ot.includes(Ae);return Oe.mapLayersByModule[de]=$e?ot.filter(xt=>xt!==Ae):[...ot,Ae],{...be,[se]:Oe}})}function Mt(de){if(ze)return;const Ae=String(b||"").trim();if(!Ae)return;const be=`custom-${de}-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,Oe={id:be,label:Ae,preview:"",isCustom:!0};ue(ot=>{const $e={...ot?.[se]||re()},xt={...$e.mapCustomLayersByModule||{}},gi=Array.isArray(xt[de])?[...xt[de]]:[];gi.push(Oe),xt[de]=gi,$e.mapCustomLayersByModule=xt,$e.mapLayersByModule={...$e.mapLayersByModule||{}};const ni=$e.mapLayersByModule[de]||[];return ni.includes(be)||($e.mapLayersByModule[de]=[...ni,be]),{...ot,[se]:$e}}),y(be),j("")}function Ct(){if(me){if(!Le){alert("Debes diligenciar Nombre del caso, Usuario y Ubicacin antes de guardar.");return}if(se==="nuevo"){const de=ge(z),Ae={...me,id:de,nombre:me.nombre&&me.nombre!=="Nuevo caso MAR"?me.nombre:`Caso MAR ${z}`};ue(be=>({...be,[de]:Ae,nuevo:re()})),q(de),Q(be=>be+1),F.current.delete("nuevo"),alert(`Caso guardado con ID ${de}`);return}alert(`Cambios guardados para ${me.nombre||se}`)}}function hi(de){const Ae=de?.mapUploads||{};Object.values(Ae).forEach(be=>{if(be?.url&&String(be.url).startsWith("blob:"))try{URL.revokeObjectURL(be.url)}catch{}})}function ki(de){try{const Ae=localStorage.getItem(Yu);if(Ae){const be=JSON.parse(Ae);if(be&&typeof be=="object"){const Oe=be.cases&&typeof be.cases=="object"?{...be.cases}:{};delete Oe[de],localStorage.setItem(Yu,JSON.stringify({...be,cases:Oe,activeCaseId:"nuevo"}))}}}catch{}try{const Ae=localStorage.getItem("sigmma.cases.v1");if(Ae){const be=JSON.parse(Ae);if(be&&typeof be=="object"){const Oe={...be};delete Oe[de],localStorage.setItem("sigmma.cases.v1",JSON.stringify(Oe))}}}catch{}try{localStorage.removeItem("sigmma.activeCaseId.v1")}catch{}}function ai(){se==="nuevo"||!window.confirm(`Eliminar el caso ${se}? Esta accin no se puede deshacer.`)||(hi(me),ue(Ae=>{const be={...Ae||{}};return delete be[se],be}),q("nuevo"),ki(se))}function Oi(){window.confirm("Reiniciar todos los casos? Se eliminarn los casos guardados y se reiniciar el contador.")&&(Object.values(ne||{}).forEach(Ae=>hi(Ae)),ue({nuevo:re(),MAR_001:{...re(),id:"MAR_001",nombre:"Recarga Valle de Aburr (Antioquia, Colombia)"}}),q("nuevo"),Q(2),F.current=new Set,O(!1),J(!1))}const ui=dt.useMemo(()=>[{key:"Tipo_unidad",label:"Tipo de acufero (Tipo_unidad)",kind:"select"},{key:"tipo_de_fuente",label:"Fuente de agua (Tipo_de_fuente)",kind:"select"},{key:"categoria_calidad_mar",label:"Calidad del agua fuente (Categoria_calidad_MAR)",kind:"select"},{key:"cumple_norma_para_uso",label:"Normativa para la recarga (Cumple_norma_para_uso)",kind:"select"},{key:"uso_final_del_agua",label:"Uso final (Uso_final_del_agua)",kind:"select"}],[]);function Rt(de){return String(de||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}const si=dt.useMemo(()=>new Set(ui.map(de=>Rt(de.key))),[ui]);function It(de,Ae){if(!(!de||typeof de!="object")){for(const be of ko||[]){const Oe=be?.id;if(!Oe)continue;const ot=de?.[Oe]?.[Ae];if(ot!==void 0)return ot}for(const[,be]of Object.entries(de))if(!(!be||typeof be!="object")&&Object.prototype.hasOwnProperty.call(be,Ae))return be[Ae]}}function ta(de){const Ae=[];for(const be of ui){const Oe=It(de,be.key);console.log(`[MIN5] Validando "${be.key}"`,{valor:Oe,filled:be.kind==="select"?X(Oe):String(Oe??"").trim().length>0}),(be.kind==="select"?X(Oe):String(Oe??"").trim().length>0)||Ae.push(be)}return console.log(`[MIN5] Resultado: ${ui.length-Ae.length}/${ui.length}`,{missing:Ae}),{ok:Ae.length===0,missing:Ae,done:ui.length-Ae.length,total:ui.length}}const $t=dt.useMemo(()=>ta(me),[me,ui]),T=`${$t.done}/${$t.total}`;function Ne(de,Ae){return si.has(Rt(Ae))}dt.useEffect(()=>{if($&&!ze){if(!$t.ok){F.current.delete(se);return}$t.ok&&!F.current.has(se)&&(O(!0),F.current.add(se));try{window.dispatchEvent(new CustomEvent("sigmma:min5-updated",{detail:{caseId:se,ok:$t.ok,done:$t.done,total:$t.total}}))}catch{}}},[$t.ok,$,ze,se,$t.done,$t.total]);function nt(){const de=ta(me);if(!de.ok){alert(`Para habilitar Fase 2 debes diligenciar informacin en los 5 campos obligatorios marcados con (*):

- `+de.missing.map(be=>be.label).join(`
- `));return}const Ae=()=>{if(typeof o=="function"){o();return}try{window.dispatchEvent(new CustomEvent("sigmma:navigate",{detail:{to:"fase2",caseId:se}}))}catch{}try{window.location.hash="#fase2"}catch{}};if(se==="nuevo"){const be=ge(z),Oe={...me,id:be,nombre:me.nombre&&me.nombre!=="Nuevo caso MAR"?me.nombre:`Caso MAR ${z}`};ue(ot=>({...ot,[be]:Oe,nuevo:re()})),q(be),Q(ot=>ot+1),setTimeout(Ae,0);return}Ae()}function Ke(){const de=ta(me);if(!de.ok){alert(`Para habilitar Fase 2 debes diligenciar informacin en los 5 campos obligatorios marcados con (*):

- `+de.missing.map(Ae=>Ae.label).join(`
- `));return}O(!0)}const _t={position:"fixed",inset:0,background:"rgba(0,0,0,.45)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:16},bt={width:"min(560px, 92vw)",background:"#fff",borderRadius:14,border:"1px solid rgba(0,0,0,.12)",boxShadow:"0 12px 40px rgba(0,0,0,.22)",padding:16},At={fontWeight:900,fontSize:16,marginBottom:10},bi={fontSize:14,opacity:.9,lineHeight:1.35},Bt={display:"flex",gap:10,justifyContent:"flex-end",marginTop:14},vt={padding:"10px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,.14)",background:"#0ea5e9",color:"#fff",fontWeight:900,cursor:"pointer"},ci={padding:"10px 12px",borderRadius:10,border:"1px solid rgba(0,0,0,.14)",background:"#fff",color:"#111827",fontWeight:900,cursor:"pointer"},on={padding:"10px 12px",borderRadius:10,border:"1px solid rgba(220,38,38,.35)",background:"rgba(220,38,38,.08)",color:"#b91c1c",fontWeight:900,cursor:"pointer"};function ia(de){return String(de||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9_ -]/g,"")}function Oa(de){return Array.from(new Set(de.filter(Boolean)))}function Li(de){const Ae=ia(de),Oe=[...Ae.split(/[\s/_-]+/g).map(ot=>ot.trim()).filter(ot=>ot.length>=4)];return Ae.includes("geolog")&&Oe.push("geologia","geologico","geologic","geology","litologia","lithology"),(Ae.includes("lineamiento")||Ae.includes("estructura"))&&Oe.push("lineament","fault","falla","estructura","lineamiento"),Ae.includes("densidad")&&Oe.push("densidad","density"),(Ae.includes("uso")||Ae.includes("suelo")||Ae.includes("cobertura"))&&Oe.push("landuse","land_use","cover","cobertura"),Ae.includes("drenaj")&&Oe.push("drenaje","drenajes","drainage","stream","rio","river"),Ae.includes("nivel")&&(Ae.includes("freat")||Ae.includes("piez"))&&Oe.push("freatico","water_table","piezometrico","piezometr"),Ae.includes("recarga")&&Oe.push("recarga","recharge"),Ae.includes("precipit")&&Oe.push("precipitacion","precip","lluvia","rain"),(Ae.includes("unidad")||Ae.includes("uhg"))&&Oe.push("unidad","unidades","uhg","hydrogeolog","acuifero","aquifer"),(Ae.includes("pendiente")||Ae.includes("slope"))&&Oe.push("slope","pendiente"),Oa(Oe)}function Ut(de){for(const Ae of Object.keys(fb||{})){const Oe=Yd(me,Ae).find(ot=>ot.id===de);if(Oe)return Oe}return null}const gn=4500,mt=35,Ka=40;function Ja(de){return de?de.type&&String(de.type).startsWith("image/")?!0:/\.(png|jpe?g|webp|gif)$/i.test(de.name||""):!1}async function Yi(de){try{const Ae=await createImageBitmap(de);return{kind:"bitmap",source:Ae,width:Ae.width,height:Ae.height,cleanup:()=>Ae.close?.()}}catch{const Ae=URL.createObjectURL(de),be=new Image;return be.decoding="async",be.src=Ae,await new Promise((Oe,ot)=>{be.onload=()=>Oe(!0),be.onerror=()=>ot(new Error("No se pudo decodificar la imagen."))}),{kind:"img",source:be,width:be.naturalWidth||be.width,height:be.naturalHeight||be.height,cleanup:()=>{try{URL.revokeObjectURL(Ae)}catch{}}}}}function Qa(de){return new Promise((Ae,be)=>{const Oe=new FileReader;Oe.onload=()=>Ae(String(Oe.result||"")),Oe.onerror=()=>be(new Error("No se pudo leer el archivo.")),Oe.readAsDataURL(de)})}async function qa(de){const Ae=de.size/1048576;if(Ae>200)throw new Error(`El archivo pesa ${Ae.toFixed(1)}MB. Es demasiado grande para el navegador.`);const be=await Yi(de),Oe=be.width,ot=be.height;if(!(Oe*ot/1e6>mt||Ae>Ka||Math.max(Oe,ot)>gn))return be.cleanup?.(),{file:de,meta:{origW:Oe,origH:ot,outW:Oe,outH:ot,downscaled:!1,origMB:Ae}};const gi=Math.min(1,gn/Math.max(Oe,ot)),ni=Math.max(1,Math.round(Oe*gi)),Jt=Math.max(1,Math.round(ot*gi)),ji=document.createElement("canvas");ji.width=ni,ji.height=Jt;const Ni=ji.getContext("2d",{alpha:!0});Ni.imageSmoothingEnabled=!0,Ni.imageSmoothingQuality="high",Ni.drawImage(be.source,0,0,ni,Jt),be.cleanup?.();const We=de.type==="image/jpeg"?"image/jpeg":"image/png",Vt=await new Promise((Ji,xn)=>{ji.toBlob(fa=>fa?Ji(fa):xn(new Error("No se pudo convertir la imagen (toBlob).")),We,We==="image/jpeg"?.92:void 0)}),Pi=new File([Vt],de.name,{type:We,lastModified:Date.now()});return{file:Pi,meta:{origW:Oe,origH:ot,outW:ni,outH:Jt,downscaled:!0,origMB:Ae,outMB:Pi.size/(1024*1024)}}}async function mn(de,Ae,be,Oe){if(ze||!de||!Ae)return;const ot=Ut(de);ot&&Array.isArray(ot.tokens)&&ot.tokens.length&&ot.tokens||Li(Oe||ot?.label||"");let $e=Ae,xt=null;if(Ja(Ae))try{const Jt=await qa(Ae);$e=Jt.file,xt=Jt.meta}catch(Jt){alert(`No se pudo procesar "${Ae.name}".

Prueba reexportar en ArcGIS como PNG 8-bit o JPG.

Detalle: ${Jt?.message||Jt}`);return}const gi=URL.createObjectURL($e);let ni="";if(Ja($e))try{ni=await Qa($e)}catch{}ue(Jt=>{const ji={...Jt[se]};ji.mapUploads={...ji.mapUploads||{}};const Ni=ji.mapUploads[de];if(Ni?.url&&String(Ni.url).startsWith("blob:"))try{URL.revokeObjectURL(Ni.url)}catch{}ji.mapUploads[de]={name:Ae.name,url:gi,type:$e.type||Ae.type||"",dataUrl:ni,meta:xt||null},ji.mapMeta={...ji.mapMeta||{}};const We=ji.mapMeta[de]?{...ji.mapMeta[de]}:{};if(ji.mapMeta[de]={...We,expectedLayerLabel:Oe||We.expectedLayerLabel||ot?.label||"",confirmedLayer:!1,scaleText:"",marks:{north:null,scale:null,legend:null,polygon:null}},be){ji.mapLayersByModule={...ji.mapLayersByModule||{}};const Vt=ji.mapLayersByModule[be]||[];Vt.includes(de)||(ji.mapLayersByModule[be]=[...Vt,de])}return{...Jt,[se]:ji}})}function xa(de){ze||de&&ue(Ae=>{const be={...Ae[se]},Oe={...be.mapUploads||{}},ot=Oe[de];if(ot?.url&&String(ot.url).startsWith("blob:"))try{URL.revokeObjectURL(ot.url)}catch{}return delete Oe[de],be.mapUploads=Oe,be.mapMeta={...be.mapMeta||{}},be.mapMeta[de]={...be.mapMeta[de]||{},confirmedLayer:!1,scaleText:"",marks:{north:null,scale:null,legend:null,polygon:null}},{...Ae,[se]:be}})}function Xi(de,Ae=me){if(!de?.id)return"";const be=Ae?.mapUploads?.[de.id];return be?.dataUrl||be?.url||de.preview||""}function sa(de,Ae=me){const be=Ae?.mapUploads?.[de?.id];return be?be.type?String(be.type).startsWith("image/"):/\.(png|jpe?g|webp|gif)$/i.test(be.name||""):!1}function wa({src:de,layerId:Ae,meta:be,disabled:Oe}){const[ot,$e]=dt.useState(null),[xt,gi]=dt.useState(null),[ni,Jt]=dt.useState(null),[ji,Ni]=dt.useState(!1);dt.useEffect(()=>{Ni(!1)},[de]);const We=be?.marks||{},Vt=["north","scale","legend","polygon"];function Pi(Si){const Mi=Math.min(Si.x0,Si.x1),Gi=Math.min(Si.y0,Si.y1),Ot=Math.abs(Si.x1-Si.x0),ir=Math.abs(Si.y1-Si.y0);return Ot<.01||ir<.01?null:{x:Mi,y:Gi,w:Ot,h:ir}}function Ji(Si,Mi){if(!ni)return null;const Gi=ni.getBoundingClientRect(),Ot=(Si-Gi.left)/Gi.width,ir=(Mi-Gi.top)/Gi.height;return{x:Math.max(0,Math.min(1,Ot)),y:Math.max(0,Math.min(1,ir))}}function xn(Si,Mi){lt(Ae,{marks:{...We||{},[Si]:Mi}})}function fa(Si){lt(Ae,{marks:{...We||{},[Si]:null}})}function ln(Si){return Si?{position:"absolute",left:`${Si.x*100}%`,top:`${Si.y*100}%`,width:`${Si.w*100}%`,height:`${Si.h*100}%`,border:"2px solid rgba(37,99,235,.95)",borderRadius:10,pointerEvents:"none"}:{display:"none"}}return t.jsxs("div",{style:{marginTop:12,border:"1px dashed rgba(0,0,0,.18)",borderRadius:12,padding:12},children:[t.jsx("div",{style:{fontWeight:900,marginBottom:6},children:"Marcacin obligatoria"}),t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:8},children:[t.jsx("button",{type:"button",disabled:Oe,onClick:()=>$e("north"),style:{padding:"7px 10px",borderRadius:10,border:"1px solid rgba(0,0,0,.15)",background:ot==="north"?"rgba(37,99,235,.10)":"#fff",fontWeight:800,cursor:"pointer"},children:"Marcar Norte"}),t.jsx("button",{type:"button",disabled:Oe,onClick:()=>$e("scale"),style:{padding:"7px 10px",borderRadius:10,border:"1px solid rgba(0,0,0,.15)",background:ot==="scale"?"rgba(37,99,235,.10)":"#fff",fontWeight:800,cursor:"pointer"},children:"Marcar Escala"}),t.jsx("button",{type:"button",disabled:Oe,onClick:()=>$e("legend"),style:{padding:"7px 10px",borderRadius:10,border:"1px solid rgba(0,0,0,.15)",background:ot==="legend"?"rgba(37,99,235,.10)":"#fff",fontWeight:800,cursor:"pointer"},children:"Marcar Leyenda"}),t.jsx("button",{type:"button",disabled:Oe,onClick:()=>$e("polygon"),style:{padding:"7px 10px",borderRadius:10,border:"1px solid rgba(0,0,0,.15)",background:ot==="polygon"?"rgba(37,99,235,.10)":"#fff",fontWeight:800,cursor:"pointer"},children:"Marcar Polgono"}),t.jsx("button",{type:"button",onClick:()=>$e(null),style:{padding:"7px 10px",borderRadius:10,border:"1px solid rgba(0,0,0,.15)",background:"#fff",fontWeight:800,opacity:.8,cursor:"pointer"},children:"Salir"})]}),t.jsx("div",{style:{fontSize:12,opacity:.8,marginBottom:10},children:ot?t.jsxs(t.Fragment,{children:["Modo activo: ",t.jsx("strong",{children:ot}),". Arrastra sobre la imagen para marcar."]}):t.jsx(t.Fragment,{children:"Selecciona un modo para marcar sobre la imagen."})}),t.jsxs("div",{ref:Jt,style:{position:"relative",borderRadius:12,overflow:"hidden"},onMouseDown:Si=>{if(Oe||!ot)return;const Mi=Ji(Si.clientX,Si.clientY);Mi&&gi({x0:Mi.x,y0:Mi.y,x1:Mi.x,y1:Mi.y})},onMouseMove:Si=>{if(!xt)return;const Mi=Ji(Si.clientX,Si.clientY);Mi&&gi(Gi=>({...Gi,x1:Mi.x,y1:Mi.y}))},onMouseUp:()=>{if(!xt||Oe||!ot)return;const Si=Pi(xt);gi(null),Si&&xn(ot,Si)},onMouseLeave:()=>gi(null),children:[ji?t.jsx("div",{className:"insumos-map-empty",children:"Vista previa no disponible. Vuelve a cargar la imagen para visualizarla."}):t.jsx("img",{src:de,alt:"preview",className:"insumos-map-image",draggable:!1,onError:()=>Ni(!0)}),Vt.map(Si=>t.jsxs("div",{style:ln(We?.[Si]),children:[t.jsx("div",{style:{position:"absolute",top:-10,left:8,background:"#2563eb",color:"#fff",fontSize:11,padding:"2px 6px",borderRadius:999,pointerEvents:"none"},children:Si}),!Oe&&We?.[Si]?t.jsx("button",{type:"button",onClick:()=>fa(Si),title:"Quitar marca",style:{position:"absolute",top:6,right:6,width:22,height:22,borderRadius:999,border:0,background:"rgba(220,38,38,.92)",color:"#fff",fontWeight:900,cursor:"pointer",pointerEvents:"auto"},children:""}):null]},Si)),xt&&Pi(xt)?t.jsx("div",{style:{...ln(Pi(xt)),borderStyle:"dashed",opacity:.8}}):null]})]})}const St=ko.find(de=>de.id===l)||ko[0],gt=n==="datos"?`fase-insumos-right ${St.colorClass}`:"fase-insumos-right",Yn=Vd[l]||[],Ha=l==="caracterizacion"?Xe(me?.caracterizacion):[],sn=dt.useMemo(()=>le(me,l),[me,l]),Wa=Yd(me,l),Xn=me.mapLayersByModule?.[l]||[],Cn=dt.useMemo(()=>n==="datos"?Wa:Wa.filter(de=>Xn.includes(de.id)),[n,Wa,Xn]),ya=dt.useMemo(()=>Cn.find(Ae=>Ae.id===u)||Cn[0]||null,[Cn,u]);ya&&me.mapUploads?.[ya.id];const _a=ya,ka=_a?me.mapUploads?.[_a.id]:null,Ze=_a?Kt(_a.id):{},fi=Ze?.marks||{},vi=_a?Xi(_a):"",bn=!!vi&&_a&&sa(_a),Ya=[];return _a&&ka?.name&&(Ze.confirmedLayer||Ya.push("confirmacin de capa"),String(Ze.scaleText||"").trim()||Ya.push("Escala (texto)"),fi.north||Ya.push("marcar Norte"),fi.scale||Ya.push("marcar Escala"),fi.legend||Ya.push("marcar Leyenda"),fi.polygon||Ya.push("marcar Polgono")),t.jsxs("div",{className:"fase-insumos-wrapper",children:[A&&t.jsx("div",{style:_t,role:"dialog","aria-modal":"true",children:t.jsxs("div",{style:bt,children:[t.jsx("div",{style:At,children:"Diligenciar ms informacin?"}),t.jsxs("div",{style:bi,children:["Si eliges ",t.jsx("strong",{children:"SI"}),", continas completando los insumos que desees. Si eliges ",t.jsx("strong",{children:"NO"}),", pasars a Fase 2 con informacin mnima (mayor incertidumbre)."]}),t.jsxs("div",{style:Bt,children:[t.jsx("button",{type:"button",style:ci,onClick:()=>{O(!1)},children:"SI"}),t.jsx("button",{type:"button",style:vt,onClick:()=>{O(!1),J(!0)},children:"NO"})]})]})}),V&&t.jsx("div",{style:_t,role:"dialog","aria-modal":"true",children:t.jsxs("div",{style:bt,children:[t.jsxs("div",{style:At,children:[t.jsx("span",{style:{marginRight:8},children:""})," Advertencia"]}),t.jsxs("div",{style:bi,children:[t.jsx("strong",{children:"LA INCERTIDUMBRE EN LA DECISIN AUMENTA"})," cuando la informacin cuenta nicamente con las 5 variables con (*)."]}),t.jsxs("div",{style:Bt,children:[t.jsx("button",{type:"button",style:ci,onClick:()=>J(!1),children:"Volver"}),t.jsx("button",{type:"button",style:on,onClick:()=>{J(!1),nt()},children:"Continuar a Fase 2"})]})]})}),t.jsx("p",{className:"fase-insumos-intro",children:"El xito del anlisis tcnico reside en la solidez de sus datos base. Este mdulo inicial se dedica a la integracin y organizacin de la informacin necesaria para caracterizar el sistema hidrogeolgico. A travs de un panel centralizado, se consolidan variables crticas como modelos tcnicos, calidad del agua, capacidad del acufero e infraestructura existente. Esta estructura no solo garantiza la trazabilidad del caso, sino que constituye el insumo fundamental para alimentar las fases posteriores de procesamiento jerrquico y modelacin automatizada."}),t.jsxs("p",{className:"fase-insumos-intro",children:["Para avanzar con xito en su proyecto, lo invitamos a consolidar la base de datos de su estudio a travs del Panel de Insumos MAR. Para comenzar, simplemente da ",t.jsx("strong",{children:"clic en cada uno de los mdulos laterales"}),", diligencie los campos tcnicos y, si dispone de informacin espacial, cargue los archivos en la seccin de Mapas relacionados"]}),t.jsx("p",{className:"fase-insumos-intro",children:"Es fundamental tener en cuenta lo siguiente para el desarrollo del modelo:"}),t.jsxs("ul",{className:"fase-insumos-list",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Requisito Obligatorio:"})," Debe completar las 5 variables crticas distribuidas en los ",t.jsx("strong",{children:"mdulos de Modelo Hidrulico, Fuente de agua y Comunidad - Uso final."})]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Gestin de la Informacin:"}),' Al alcanzar este mnimo, el sistema desplegar un cuadro de dilogo. Si posee datos adicionales, seleccione "S" para continuar digitalizando; de lo contrario, podr proceder directamente a la fase metodolgica.']}),t.jsxs("li",{children:[t.jsx("strong",{children:"Calidad de los Resultados:"})," Considere que la precisin de la Ruta MAR es directamente proporcional a la informacin suministrada. A menor cantidad de datos registrados, mayor ser el nivel de incertidumbre en los resultados de idoneidad y en la toma de decisiones final."]})]}),t.jsx("p",{className:"fase-insumos-intro",children:"Complete sus insumos ahora para garantizar un anlisis robusto y confiable!"}),t.jsxs("div",{className:"fase-insumos-layout",children:[t.jsxs("aside",{className:"fase-insumos-left",children:[t.jsxs("header",{className:"insumos-panel-header",children:[t.jsx("span",{className:"insumos-panel-icon","aria-hidden":"true",children:""}),t.jsx("span",{className:"insumos-panel-title",children:"Panel de Insumos MAR"})]}),t.jsxs("div",{className:"insumos-case-select",children:[t.jsx("div",{className:"insumos-case-select-label",children:"Seleccionar caso MAR"}),t.jsxs("select",{className:"insumos-select",value:se,onChange:de=>q(de.target.value),children:[t.jsx("option",{value:"nuevo",children:"Nuevo caso MAR"}),Object.entries(ne).filter(([de])=>de!=="nuevo").map(([de,Ae])=>t.jsxs("option",{value:de,children:[de,"  ",Ae.nombre]},de))]})]}),t.jsxs("div",{className:"insumos-tab-toggle",children:[t.jsx("button",{type:"button",className:n==="datos"?"insumos-tab-btn active":"insumos-tab-btn",onClick:()=>r("datos"),children:"Datos tcnicos"}),t.jsx("button",{type:"button",className:n==="mapas"?"insumos-tab-btn active":"insumos-tab-btn",onClick:()=>r("mapas"),children:"Mapas"})]}),t.jsxs("div",{className:"insumos-case-card",children:[t.jsxs("div",{className:"insumos-case-field-row",children:[t.jsx("span",{className:"insumos-case-label",children:"Nombre del caso:"}),t.jsx("input",{type:"text",className:"insumos-case-input",value:R("nombre"),onChange:de=>Z("nombre",de.target.value),readOnly:K})]}),t.jsxs("div",{className:"insumos-case-field-row",children:[t.jsx("span",{className:"insumos-case-label",children:"ID:"}),t.jsx("input",{type:"text",className:"insumos-case-input",value:U,readOnly:!0})]}),t.jsxs("div",{className:"insumos-case-field-row",children:[t.jsx("span",{className:"insumos-case-label",children:"Usuario:"}),t.jsx("input",{type:"text",className:"insumos-case-input",value:R("usuario"),onChange:de=>Z("usuario",de.target.value),readOnly:K})]}),t.jsxs("div",{className:"insumos-case-field-row",children:[t.jsx("span",{className:"insumos-case-label",children:"Ubicacin:"}),t.jsx("input",{type:"text",className:"insumos-case-input",value:R("ubicacion"),onChange:de=>Z("ubicacion",de.target.value),readOnly:K})]}),t.jsxs("div",{className:"insumos-download-row",children:[t.jsx("button",{type:"button",className:"insumos-download-btn",onClick:Ct,disabled:K||!Le,children:t.jsx("span",{children:"Guardar caso"})}),t.jsx("button",{type:"button",className:"insumos-download-btn",onClick:Oi,children:t.jsx("span",{children:"Reiniciar"})}),se!=="nuevo"&&t.jsx("button",{type:"button",className:"insumos-download-btn",onClick:()=>x(!0),children:t.jsx("span",{children:"Editar"})}),t.jsx("button",{type:"button",className:"insumos-delete-btn",onClick:ai,disabled:se==="nuevo",children:t.jsx("span",{children:"Eliminar"})})]})]}),Le?null:t.jsxs("div",{className:"insumos-case-card",style:{marginTop:12,fontSize:14,background:"#fff7ed",border:"1px solid #fed7aa"},children:[t.jsx("div",{style:{fontWeight:900,marginBottom:6},children:"Panel en solo lectura"}),t.jsx("div",{style:{fontSize:14,opacity:.9},children:"Para habilitar los insumos debes completar:"}),t.jsx("ul",{style:{margin:"6px 0 0 18px"},children:ce.map(de=>t.jsx("li",{children:de},de))})]}),t.jsxs("div",{className:"insumos-case-card",style:{marginTop:12,fontSize:14},children:[t.jsx("div",{style:{fontWeight:900,marginBottom:6},children:"Requisito mnimo para habilitar Fase 2"}),t.jsxs("div",{style:{fontSize:14,opacity:.9},children:["El sistema exige informacin diligenciada en los ",t.jsx("strong",{children:"cinco campos obligatorios"})," marcados con ",t.jsx("strong",{children:"(*)"}),"."]}),t.jsxs("div",{style:{marginTop:8,fontSize:14,opacity:.9},children:["Progreso del mnimo: ",t.jsx("strong",{children:T})]}),$t.ok?t.jsx("div",{style:{marginTop:10,fontSize:10,opacity:.9},children:" Mnimo completo. Ya puedes continuar a Fase 2."}):t.jsxs("div",{style:{marginTop:10,fontSize:14,opacity:.9},children:[t.jsx("div",{style:{fontWeight:650,marginBottom:6},children:"An falta informacin en:"}),t.jsx("ul",{style:{margin:0,paddingLeft:18},children:$t.missing.map(de=>t.jsx("li",{children:de.label},de.key))}),t.jsx("div",{style:{marginTop:10,fontSize:10,opacity:.85},children:"Nota: en campos tipo seleccin no se acepta No reportado ni Seleccionar."})]}),t.jsxs("div",{style:{marginTop:10,display:"flex",gap:10,alignItems:"center"},children:[t.jsx("button",{type:"button",className:"insumos-download-btn",onClick:Ke,disabled:!$t.ok,title:$t.ok?"Continuar a Fase 2":"Completa los 5 obligatorios (*) para habilitar",children:t.jsx("span",{children:"Continuar a Fase 2"})}),$t.ok?null:t.jsx("span",{style:{fontSize:14,opacity:.8},children:"(Se habilita solo cuando los 5 obligatorios (*) tienen informacin.)"})]})]}),n==="datos"?t.jsx("div",{className:"insumos-modules-list",children:ko.map(de=>t.jsxs("button",{type:"button",className:"insumos-module-btn "+de.colorClass+(de.id===l?" active":""),onClick:()=>{Yt(de.id)},children:[t.jsxs("span",{children:[de.icon&&t.jsxs("span",{children:[de.icon," "]}),de.label]}),t.jsx("span",{"aria-hidden":"true",children:""})]},de.id))}):t.jsx("div",{className:"insumos-maps-panel",children:t.jsx("div",{className:"insumos-map-groups",children:ko.map(de=>{const Ae=Yd(me,de.id);return Ae.length?t.jsxs("div",{className:"insumos-map-group",children:[t.jsx("div",{className:"insumos-map-group-title",children:de.label}),t.jsx("div",{className:"insumos-map-layers-list",children:Ae.map(be=>{const Oe=(me.mapLayersByModule?.[de.id]||[]).includes(be.id),ot=!!me.mapUploads?.[be.id]?.name;return t.jsxs("div",{className:"insumos-map-layer-row",children:[t.jsxs("label",{className:"insumos-map-layer-check",children:[t.jsx("input",{type:"checkbox",checked:Oe,disabled:ze,onChange:()=>{zt(de.id,be.id),Yt(de.id),y(be.id)}}),t.jsxs("span",{children:[be.label,ot?t.jsx("span",{style:{marginLeft:8,fontSize:12,opacity:.85},children:" Cargado"}):t.jsx("span",{style:{marginLeft:8,fontSize:12,opacity:.55},children:" Sin archivo"})]})]}),t.jsx("button",{type:"button",className:"insumos-map-layer-action",onClick:()=>{!Oe&&!ze&&zt(de.id,be.id),Yt(de.id),y(be.id)},children:"Cargar"})]},be.id)})})]},de.id):null})})})]}),t.jsx("section",{className:gt,children:n==="datos"?t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:"insumos-module-header",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"insumos-module-title",children:St.label}),t.jsxs("div",{className:"insumos-module-code",children:["Caso: ",U]}),(St.phase||St.definition)&&t.jsxs("div",{className:"insumos-module-def",children:[St.phase&&t.jsx("div",{className:"insumos-module-phase"}),St.definition&&t.jsx("p",{className:"insumos-module-definition",children:St.definition}),t.jsx("p",{className:"insumos-module-definition",children:t.jsx("strong",{children:"Puedes diligenciar varios registros dentro del mismo caso si necesitas reportar ms de una unidad, zona o fuente."})}),l==="caracterizacion"?t.jsx("p",{className:"insumos-module-definition",children:"Si desea registrar ms de una UHG, diligencie la informacin para cada una. Recuerde poner un consecutivo para las UHG (UHG-1, UHG-2, UHG-3...)."}):null]})]}),t.jsx("button",{type:"button",className:"insumos-module-save-btn",onClick:()=>Ct(),disabled:ze,children:" Guardar"})]}),C?.modules?.length?t.jsxs("div",{className:"insumos-scenario-hint",children:[t.jsx("strong",{children:`Para habilitar el Escenario ${C.scenario} completa estos mdulos:`})," ",C.modules.join(", "),"."]}):null,t.jsx("div",{className:"insumos-module-fields",children:l==="caracterizacion"?t.jsx("div",{className:"uhg-full",children:Ha.map((de,Ae)=>t.jsxs("div",{className:Ae>0?"uhg-group":void 0,children:[Ha.length>1?t.jsxs("div",{className:"uhg-group-header",children:[t.jsx("span",{children:`UHG ${Ae+1}`}),t.jsx("button",{type:"button",className:"insumos-map-layer-action",disabled:ze,onClick:()=>Ft(Ae),children:"Eliminar"})]}):null,(()=>{const be=Vd.caracterizacion||[],Oe=$e=>be.find(xt=>xt.name===$e),ot=$e=>{if(!$e)return null;const xt=de?.[$e.name]??"",gi=$e.type==="textarea",ni=$e.type==="select",Jt=$e.type==="number",ji=ni&&typeof zu=="function"?zu($e.name,xt):"",Ni=Ne(l,$e.name);return t.jsxs("div",{className:"insumos-field-row",children:[t.jsxs("label",{className:"insumos-field-label",children:[$e.label,Ni?t.jsx("span",{className:"insumos-required-asterisk",children:" *"}):null]}),$e.help?t.jsx("div",{className:"insumos-field-help",children:$e.help}):null,gi?t.jsx("textarea",{className:"insumos-field-textarea",value:xt,onChange:We=>ut(Ae,$e.name,We.target.value),readOnly:ze}):ni?t.jsxs(t.Fragment,{children:[t.jsxs("select",{className:"insumos-field-select",value:xt,onChange:We=>ut(Ae,$e.name,We.target.value),disabled:ze,children:[t.jsx("option",{value:"",children:"Seleccionar..."}),($e.options||[]).map(We=>t.jsx("option",{value:We,children:We},We))]}),xt&&Dl?.[$e.name]?.[xt]?t.jsx("div",{className:"insumos-field-option-help",children:Dl[$e.name][xt]}):null,xt&&!Dl?.[$e.name]?.[xt]&&ji?t.jsx("div",{className:"insumos-field-option-help",children:ji}):null]}):t.jsx("input",{className:"insumos-field-input",type:Jt?"number":"text",inputMode:Jt?"decimal":void 0,step:Jt?"any":void 0,value:xt,onChange:We=>{const Vt=Jt?String(We.target.value).replace(/[^0-9.]/g,""):We.target.value;ut(Ae,$e.name,Vt)},readOnly:ze})]},`${$e.name}-${Ae}`)};return t.jsxs("div",{className:"uhg-columns",children:[t.jsxs("div",{className:"uhg-column",children:[ot(Oe("uhg_codigo")),ot(Oe("clasificacion_hidrogeologica_uhg")),ot(Oe("permeabilidad"))]}),t.jsxs("div",{className:"uhg-column",children:[ot(Oe("unidad_geologica_asociada")),ot(Oe("porosidad")),ot(Oe("descripcion_comportamiento_hidrogeologico"))]})]})})()]},`uhg-${Ae}`))}):sn.map((de,Ae)=>t.jsxs("div",{className:"insumos-entry",children:[sn.length>1?t.jsxs("div",{className:"insumos-entry-header",children:[t.jsx("span",{children:`Registro ${Ae+1}`}),t.jsx("button",{type:"button",className:"insumos-map-layer-action",disabled:ze||sn.length<=1,onClick:()=>Ie(l,Ae),children:"Eliminar"})]}):null,Yn.map(be=>{if(l==="volumen"&&be.name==="cap_infiltracion_categoria"&&!(de?.cap_infiltracion_zona_no_saturada==="Si"))return null;const ot=l==="infraestructura"&&pt(de?.tipo_infraestructura)&&be.name!=="tipo_infraestructura",$e=de?.[be.name]??"",xt=be.type==="textarea",gi=be.type==="select",ni=be.type==="number",Jt=ze||ot,ji=gi&&typeof zu=="function"?zu(be.name,$e):"",Ni=Ne(l,be.name),We=Ae===0?`${l}.${be.name}`:`${l}_entries.${Ae}.${be.name}`;return t.jsxs("div",{className:"insumos-field-row","data-field-path":We,children:[t.jsxs("label",{className:"insumos-field-label",children:[be.label,Ni?t.jsx("span",{className:"insumos-required-asterisk",children:" *"}):null]}),be.help?t.jsx("div",{className:"insumos-field-help",children:be.help}):null,xt?t.jsx("textarea",{className:"insumos-field-textarea",value:$e,onChange:Vt=>ye(l,Ae,be.name,Vt.target.value),readOnly:Jt,disabled:Jt}):gi?t.jsxs(t.Fragment,{children:[t.jsxs("select",{className:"insumos-field-select",value:$e,onChange:Vt=>ye(l,Ae,be.name,Vt.target.value),disabled:Jt,children:[t.jsx("option",{value:"",children:"Seleccionar..."}),(be.options||[]).map(Vt=>t.jsx("option",{value:Vt,children:Vt},Vt))]}),$e&&Dl?.[be.name]?.[$e]?t.jsx("div",{className:"insumos-field-option-help",children:Dl[be.name][$e]}):null,$e&&!Dl?.[be.name]?.[$e]&&ji?t.jsx("div",{className:"insumos-field-option-help",children:ji}):null]}):t.jsx("input",{className:"insumos-field-input",type:ni?"number":"text",inputMode:ni?"decimal":void 0,step:ni?"any":void 0,value:$e,onChange:Vt=>{const Pi=ni?String(Vt.target.value).replace(/[^0-9.]/g,""):Vt.target.value;ye(l,Ae,be.name,Pi)},readOnly:Jt,disabled:Jt})]},`${be.name}-${Ae}`)})]},`entry-${Ae}`))}),l==="caracterizacion"?t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{type:"button",className:"insumos-module-save-btn uhg-add-btn",onClick:()=>jt(),disabled:ze,children:"+ Agregar UHG"})}):t.jsx("div",{style:{marginTop:12},children:t.jsx("button",{type:"button",className:"insumos-module-save-btn uhg-add-btn",onClick:()=>qe(l),disabled:ze,children:"+ Agregar registro"})}),t.jsxs("div",{className:"insumos-maps-related",children:[t.jsx("span",{className:"insumos-maps-title",children:"Mapas relacionados"}),t.jsxs("div",{className:"insumos-map-add-row",children:[t.jsx("input",{className:"insumos-map-add-input",type:"text",value:b,onChange:de=>j(de.target.value),placeholder:"Nombre de la nueva capa",disabled:ze}),t.jsx("button",{type:"button",className:"insumos-map-add-btn",onClick:()=>Mt(l),disabled:ze||!String(b||"").trim(),children:"+ Agregar capa"})]}),Wa.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"insumos-maps-buttons",children:Wa.map(de=>{const Ae=!!me.mapUploads?.[de.id]?.name;return t.jsxs("button",{type:"button",className:"insumos-map-btn"+(de.id===(ya?.id||"")?" active":""),onClick:()=>y(de.id),children:[de.label,Ae?" ":""]},de.id)})}),t.jsx(pm,{layer:_a,upload:ka,meta:Ze,marks:fi,missing:Ya,isReadOnlyCase:ze,previewSrc:vi,canShow:bn,moduleIdForSelection:l,onUpdateMeta:de=>{_a&&lt(_a.id,de)},onUploadMap:mn,onRemoveMap:xa,ImageMarkerComponent:wa})]}):t.jsx("p",{className:"text-muted",children:"Este mdulo no tiene mapas relacionados."})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("header",{className:"insumos-module-header",children:[t.jsx("h3",{className:"insumos-module-title",children:"Mapas"}),t.jsxs("div",{className:"insumos-module-code",children:["Caso: ",U]})]}),t.jsxs("div",{className:"insumos-maps-related",children:[t.jsx("span",{className:"insumos-maps-title",children:"Vista previa"}),Cn.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"insumos-maps-buttons",children:Cn.map(de=>t.jsx("button",{type:"button",className:"insumos-map-btn"+(de.id===(ya?.id||"")?" active":""),onClick:()=>y(de.id),children:de.label},de.id))}),t.jsx(pm,{layer:_a,upload:ka,meta:Ze,marks:fi,missing:Ya,isReadOnlyCase:ze,previewSrc:vi,canShow:bn,moduleIdForSelection:l,onUpdateMeta:de=>{_a&&lt(_a.id,de)},onUploadMap:mn,onRemoveMap:xa,ImageMarkerComponent:wa})]}):t.jsx("p",{className:"text-muted",children:"Selecciona al menos una capa (checkbox) para verla aqu. (Tambin puedes cargarlas desde Datos tcnicos.)"})]})]})})]})]})}function bv({onGoPhase3:o}={}){Hl();const[n,r]=je.useState("A");return t.jsxs(t.Fragment,{children:[t.jsx(F2,{activeRoute:n,setActiveRoute:r}),t.jsx(ox,{activeRoute:n,onSelectRoute:r,onGoPhase3:o})]})}function xv(){const{activeCaseId:o,activeCase:n}=Hl(),r=je.useMemo(()=>!n||o==="nuevo"?null:Du(n,n?.weights||{}),[n,o]);return t.jsx(t0,{ready:!!r})}const yv={general:{title:"Ficha tcnica SIGMMA-MAR",subtitle:"Reporte general que resume insumos, mapas y contexto del caso.",note:"Incluye todos los insumos registrados, las capas espaciales adjuntas y los metadatos bsicos del estudio."},rutaA:{title:"Ficha Ruta A",subtitle:"Sntesis de puntajes AHP y WLC calculados en la Ruta A.",note:o=>{const n=o?.phase2?.computedScores,r=Array.isArray(n?.variables)?n.variables.length:0,l=Array.isArray(o?.phase2?.wlcResults?.rows)?o.phase2.wlcResults.rows.length:0;return`Variables evaluadas: ${r}. Filas WLC disponibles: ${l}.`}},rutaB:{title:"Ficha Ruta B",subtitle:"Resumen del modelo automatizado y sus recomendaciones.",note:()=>"Presenta el comportamiento esperado de la Ruta B (evaluacin automtica)."},comparativa:{title:"Ficha comparativa",subtitle:"Contraste entre la Ruta A (AHP/WLC) y la Ruta B (modelos automticos).",note:()=>"Se presentan juntas las visiones de las dos rutas para facilitar la comparacin."}},vv=[{id:"rutaA",label:"Ruta A"},{id:"rutaB",label:"Ruta B"},{id:"comparativa",label:"Comparativa"}];function jv(o){const n=o?.phase2?.updatedAtISO||o?.updatedAtISO||o?.createdAtISO,r=n?new Date(n):new Date;return Number.isNaN(r.getTime())?"Fecha no disponible":r.toLocaleString()}function Sv(){const[o,n]=dt.useState(()=>i0({}).cases),[r,l]=dt.useState(""),{activeCaseId:d,setActiveCaseId:u}=Hl(),y=dt.useRef(null),m=dt.useRef(d);dt.useEffect(()=>{m.current=d},[d]),dt.useEffect(()=>()=>{y.current&&(clearTimeout(y.current),y.current=null)},[]);const x=dt.useCallback(ue=>{const Me=()=>{if(typeof window>"u"||!window.pendingRouteAExportCaseId)return;if(m.current!==ue){y.current=window.setTimeout(Me,220);return}const he=window.sigmmaExportRouteA;if(typeof he=="function"){window.pendingRouteAExportCaseId=null,he(),y.current=null;return}y.current=window.setTimeout(Me,220)};y.current&&clearTimeout(y.current),Me()},[]),b=dt.useCallback(ue=>{const Me=ue?.id||ue?.caseId;if(!(!Me||typeof window>"u")){if(window.pendingRouteAExportCaseId=Me,d===Me&&typeof window.sigmmaExportRouteA=="function"){window.sigmmaExportRouteA(),window.pendingRouteAExportCaseId=null;return}u(Me),x(Me)}},[d,x,u]),j=dt.useCallback((ue,Me)=>{if(Me==="rutaA"){b(ue);return}ne(ue,Me)},[b]);dt.useEffect(()=>{const ue=()=>n(i0({}).cases);return window.addEventListener("sigmma:cases-updated",ue),window.addEventListener("storage",ue),()=>{window.removeEventListener("sigmma:cases-updated",ue),window.removeEventListener("storage",ue)}},[]);const C=Object.entries(o||{}).filter(([ue])=>ue!=="nuevo"),M=C.filter(([ue,Me])=>`${ue} ${Me?.nombre||""} ${Me?.usuario||""} ${Me?.ubicacion||""}`.toLowerCase().includes(r.toLowerCase())),[A,O]=dt.useState(()=>new Set),V=dt.useCallback(ue=>ue?A.has(ue):!1,[A]),J=dt.useCallback(ue=>{const Me=ue?.id||ue?.caseId;if(!Me)return;const he=V(Me),se=ue?.nombre||ue?.caseName||Me,q=he?`Deseas bloquear las descargas para ${se}?`:"Permites que este caso descargue fichas PDF?";window.confirm(q)&&O($=>{const B=new Set($);return he?B.delete(Me):B.add(Me),B})},[V]),F=dt.useCallback((ue,Me)=>{const he=ue?.id||ue?.caseId;if(!V(he)){alert("Activa la autorizacin de descarga antes de continuar");return}j(ue,Me)},[j,V]),ge=C.length,re=C.filter(([,ue])=>Object.keys(ue?.mapUploads||{}).length>0).length;function ne(ue,Me="general"){const he=_=>String(_??"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;"),se=yv[Me]||{title:"Ficha MAR",subtitle:"Resumen del caso",note:""},q=se.title||"Ficha MAR",$=se.subtitle||"",B=typeof se.note=="function"?se.note(ue):se.note||"",z=he(q),Q=he($),ae=he(B),me=[];if(ko.forEach(_=>{Yd(ue,_.id).forEach(U=>{if(!ue?.mapUploads?.[U.id]?.url)return;const le=ue?.mapMeta?.[U.id]||{},ye=le.marks||{};le.confirmedLayer||me.push(`${_.label} / ${U.label}: falta confirmacin de capa`),String(le.scaleText||"").trim()||me.push(`${_.label} / ${U.label}: falta Escala (texto)`),ye.north||me.push(`${_.label} / ${U.label}: falta marcar Norte en la imagen`),ye.scale||me.push(`${_.label} / ${U.label}: falta marcar Escala en la imagen`),ye.legend||me.push(`${_.label} / ${U.label}: falta marcar Leyenda en la imagen`),ye.polygon||me.push(`${_.label} / ${U.label}: falta marcar Polgono en la imagen`)})}),me.length){alert(`No se puede exportar. Completa los mnimos en Mapas relacionados:

- `+me.join(`
- `));return}const K=ko.map(_=>{const R=Vd[_.id]||[],U=Array.isArray(ue?.[`${_.id}_entries`])&&ue[`${_.id}_entries`].length?ue[`${_.id}_entries`]:[ue[_.id]||{}],Z=U.map((le,ye)=>{const qe=R.map(Ie=>{const Xe=le?.[Ie.name]??"";return String(Xe).trim()?`
            <tr>
              <td style="padding:8px;border:1px solid #e5e7eb;width:35%;font-weight:700;">${he(Ie.label)}</td>
              <td style="padding:8px;border:1px solid #e5e7eb;">${he(Xe)}</td>
            </tr>`:""}).join("");return qe.trim()?`
        ${U.length>1?`<div style="margin:10px 0 6px 0;font-weight:700;">Registro ${ye+1}</div>`:""}
        <table style="border-collapse:collapse;width:100%;font-size:12px;">
          ${qe}
        </table>`:""}).filter(Boolean).join("");return Z.trim()?`
        <h2 style="margin:18px 0 8px 0;font-size:16px;">${he(_.label)}</h2>
        ${Z}`:""}).join(""),fe=[];ko.forEach(_=>{Yd(ue,_.id).forEach(U=>{const Z=ue?.mapUploads?.[U.id];Z?.url&&fe.push({...U,groupLabel:_.label,upload:Z})})});const ce=ko.map(_=>{const U=Yd(ue,_.id).filter(Z=>ue?.mapUploads?.[Z.id]?.url);return U.length?`<li><strong>${he(_.label)}:</strong> ${he(U.map(Z=>Z.label).join(", "))}</li>`:""}).join(""),Le=fe.map((_,R)=>{const U=_.upload?.url||_.preview||"",Z=_.upload?.type?String(_.upload.type).startsWith("image/"):/\.(png|jpe?g|webp|gif)$/i.test(_.upload?.name||"");return`
          <div class="page-break"></div>
          <h2 style="margin:0 0 6px 0;font-size:16px;">Mapa ${R+1}: ${he(_.label)}</h2>
          <p style="margin:0 0 10px 0;font-size:12px;color:#374151;">
            <strong>Mdulo:</strong> ${he(_.groupLabel)}
          </p>
          <div style="border:1px solid #e5e7eb;border-radius:10px;padding:10px;">
            ${Z?`<img src="${he(U)}" alt="${he(_.label)}"
                    style="width:100%;height:auto;max-height:92vh;object-fit:contain;image-rendering:-webkit-optimize-contrast;" />`:`<div style="font-size:12px;color:#111827;">
                    Archivo cargado para esta capa, pero no es una imagen exportable en PDF: <strong>${he(_.upload?.name||"")}</strong>
                  </div>`}
          </div>
        `}).join(""),ze=window.open("","_blank","noopener,noreferrer");if(!ze){alert("No se pudo abrir la ventana de exportacin. Revisa bloqueadores de pop-ups.");return}const P=`
      <html>
        <head>
          <title>${z} - ${he(ue.id||"sin ID")}</title>
          <meta charset="utf-8" />
          <style>
            body { font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, sans-serif; padding: 24px; color:#111827; }
            h1 { margin:0 0 6px 0; font-size: 20px; }
            p { margin: 0 0 10px 0; font-size: 12px; color:#374151; }
            .subtitle { margin: 4px 0 12px 0; font-size: 13px; color:#475569; }
            .box { border:1px solid #e5e7eb; border-radius: 10px; padding: 12px; margin-top: 12px; }
            .grid { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 8px; }
            .kv { border:1px solid #e5e7eb; border-radius: 8px; padding: 10px; }
            .k { font-weight: 800; font-size: 12px; color:#111827; }
            .v { font-size: 12px; color:#111827; margin-top: 4px; white-space: pre-wrap; }
            .page-break { page-break-before: always; }
            @media print { body { padding: 0; } }
          </style>
        </head>
        <body>
          <h1>${z}</h1>
          ${$?`<p class="subtitle">${Q}</p>`:""}
          <p><strong>ID:</strong> ${he(ue.id||"sin ID")} &nbsp; | &nbsp; <strong>Nombre:</strong> ${he(ue.nombre||"")}</p>

          <div class="box">
            <div class="grid">
              <div class="kv"><div class="k">Usuario</div><div class="v">${he(ue.usuario||"")}</div></div>
              <div class="kv"><div class="k">Ubicacin</div><div class="v">${he(ue.ubicacion||"")}</div></div>
            </div>
          </div>

          ${B?`<div class="box" style="margin-top:16px;"><div class="k">Nota</div><div class="v">${ae}</div></div>`:""}

          <div class="box">
            <div class="k" style="margin-bottom:6px;">Mapas cargados por capa</div>
            <ul style="margin:0; padding-left:18px; font-size:12px;">
              ${ce||"<li>No se cargaron mapas por capa.</li>"}
            </ul>
          </div>

          ${K?`<div class="box" style="margin-top:16px;">${K}</div>`:""}

          ${fe.length?`
                <div class="box" style="margin-top:16px;">
                  <div class="k" style="margin-bottom:6px;">Mapas</div>
                  <p style="margin:0;font-size:12px;color:#374151;">
                    Se exportan ${fe.length} mapa(s) cargado(s), uno por pgina.
                  </p>
                </div>
                ${Le}
              `:`
                <div class="box" style="margin-top:16px;">
                  <div class="k" style="margin-bottom:6px;">Mapas</div>
                  <p style="margin:0;font-size:12px;color:#374151;">No se cargaron mapas para exportar.</p>
                </div>
              `}

          <script>
            window.onload = () => { window.print(); };
          <\/script>
        </body>
      </html>
    `;ze.document.open(),ze.document.write(P),ze.document.close()}return t.jsxs("section",{className:"panel-card",children:[t.jsx("h1",{children:"Dashboard de casos MAR"}),t.jsxs("p",{style:{marginTop:6,opacity:.85},children:["Casos guardados: ",t.jsx("strong",{children:ge}),"  Con mapas: ",t.jsx("strong",{children:re})]}),t.jsx("div",{style:{display:"flex",gap:10,marginTop:12,marginBottom:12},children:t.jsx("input",{type:"text",value:r,onChange:ue=>l(ue.target.value),placeholder:"Buscar por ID, nombre, usuario o ubicacin",style:{flex:1,padding:10,borderRadius:10,border:"1px solid rgba(0,0,0,.15)"}})}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.12)"},children:"ID"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.12)"},children:"Nombre"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.12)"},children:"Usuario"}),t.jsx("th",{style:{textAlign:"left",padding:10,borderBottom:"1px solid rgba(0,0,0,.12)"},children:"Ubicacin"}),t.jsx("th",{style:{textAlign:"center",padding:10,borderBottom:"1px solid rgba(0,0,0,.12)"},children:"Descarga"}),t.jsx("th",{style:{textAlign:"right",padding:10,borderBottom:"1px solid rgba(0,0,0,.12)"},children:"Acciones"})]})}),t.jsx("tbody",{children:M.length?M.map(([ue,Me])=>(Object.keys(Me?.mapUploads||{}).length,t.jsxs("tr",{children:[t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",fontWeight:800},children:ue}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Me?.nombre||""}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Me?.usuario||""}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)"},children:Me?.ubicacion||""}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"center"},children:t.jsx("button",{type:"button",onClick:()=>J(Me),style:{border:"1px solid rgba(15,23,42,0.2)",borderRadius:999,background:"#fff",fontSize:16,width:40,height:40,cursor:"pointer"},"aria-label":"Toggle descarga",children:V(ue)?"":""})}),t.jsx("td",{style:{padding:10,borderBottom:"1px solid rgba(0,0,0,.08)",textAlign:"right"},children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,alignItems:"flex-end"},children:[t.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",justifyContent:"flex-end"},children:vv.map(he=>t.jsxs("button",{type:"button",className:"insumos-download-btn",onClick:()=>F(Me,he.id),style:{padding:"4px 10px",fontSize:11},children:["Ficha ",he.label]},he.id))}),t.jsxs("div",{style:{fontSize:11,color:"#475569",opacity:.85,textAlign:"right",lineHeight:1.15},children:["Caso: ",Me?.nombre||Me?.caseName||Me?.id,"  Resultados:"," ",jv(Me)]})]})})]},ue))):t.jsx("tr",{children:t.jsx("td",{colSpan:6,style:{padding:14,opacity:.7},children:"No hay casos para mostrar."})})})]})})]})}M2.createRoot(document.getElementById("root")).render(t.jsx(dt.StrictMode,{children:t.jsx(cv,{})}));export{rn as _,Av as c,v2 as g};
